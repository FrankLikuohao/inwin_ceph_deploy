[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 31771146-63f5-4d60-a9a5-92d270665013
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 0, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 0, 
[vmon1][DEBUG ]     "fsid": "31771146-63f5-4d60-a9a5-92d270665013", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/1", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [
[vmon1][DEBUG ]     "vmon1"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "quorum": [], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "probing", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] determining if provided host has same hostname in remote
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] deploying mon to vmon2
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] remote hostname: vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create the mon path if it does not exist
[vmon2][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] create the monitor keyring file
[vmon2][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon2 --keyring /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] ceph-mon: mon.noname-b 172.22.3.52:6789/0 is local, renaming to mon.vmon2
[vmon2][DEBUG ] ceph-mon: set fsid to 31771146-63f5-4d60-a9a5-92d270665013
[vmon2][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon2 for mon.vmon2
[vmon2][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon2][DEBUG ] create the init path if it does not exist
[vmon2][DEBUG ] locating the `service` executable...
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon2
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[vmon2][DEBUG ] ********************************************************************************
[vmon2][DEBUG ] status for monitor: mon.vmon2
[vmon2][DEBUG ] {
[vmon2][DEBUG ]   "election_epoch": 1, 
[vmon2][DEBUG ]   "extra_probe_peers": [
[vmon2][DEBUG ]     "172.22.3.51:6789/0"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "monmap": {
[vmon2][DEBUG ]     "created": "0.000000", 
[vmon2][DEBUG ]     "epoch": 0, 
[vmon2][DEBUG ]     "fsid": "31771146-63f5-4d60-a9a5-92d270665013", 
[vmon2][DEBUG ]     "modified": "0.000000", 
[vmon2][DEBUG ]     "mons": [
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon2][DEBUG ]         "name": "vmon1", 
[vmon2][DEBUG ]         "rank": 0
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon2][DEBUG ]         "name": "vmon2", 
[vmon2][DEBUG ]         "rank": 1
[vmon2][DEBUG ]       }
[vmon2][DEBUG ]     ]
[vmon2][DEBUG ]   }, 
[vmon2][DEBUG ]   "name": "vmon2", 
[vmon2][DEBUG ]   "outside_quorum": [], 
[vmon2][DEBUG ]   "quorum": [], 
[vmon2][DEBUG ]   "rank": 1, 
[vmon2][DEBUG ]   "state": "electing", 
[vmon2][DEBUG ]   "sync_provider": []
[vmon2][DEBUG ] }
[vmon2][DEBUG ] ********************************************************************************
[vmon2][INFO  ] monitor: mon.vmon2 is running
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create the monitor keyring file
[vmon3][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon3 --keyring /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] ceph-mon: set fsid to 31771146-63f5-4d60-a9a5-92d270665013
[vmon3][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon3 for mon.vmon3
[vmon3][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[vmon3][WARNING] monitor: mon.vmon3, might not be running yet
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[vmon3][WARNING] vmon3 is not defined in `mon initial members`
[vmon3][WARNING] monitor vmon3 does not exist in monmap
[vmon3][WARNING] neither `public_addr` nor `public_network` keys are defined for monitors
[vmon3][WARNING] monitors may not be able to form quorum
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-23 09:40:40--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      13.2M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-23 09:40:42 (13.2 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon1][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon1][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon1][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2610 kB in 16s (157 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] ceph is already the newest version.
[vmon1][DEBUG ] ceph-common is already the newest version.
[vmon1][DEBUG ] ceph-fs-common is already the newest version.
[vmon1][DEBUG ] ceph-mds is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-23 09:54:44--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      57.3M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-23 09:54:46 (57.3 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon2][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon2][DEBUG ] Get:14 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon2][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2610 kB in 20s (130 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] ceph is already the newest version.
[vmon2][DEBUG ] ceph-common is already the newest version.
[vmon2][DEBUG ] ceph-fs-common is already the newest version.
[vmon2][DEBUG ] ceph-mds is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-23 09:41:51--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      55.3M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-23 09:41:53 (55.3 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Get:3 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon3][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon3][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon3][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 2610 kB in 22s (117 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] ceph is already the newest version.
[vmon3][DEBUG ] ceph-common is already the newest version.
[vmon3][DEBUG ] ceph-fs-common is already the newest version.
[vmon3][DEBUG ] ceph-mds is already the newest version.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to configure 3 admin hosts

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-23 10:01:10--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      60.5M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-23 10:01:12 (60.5 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon1][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon1][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:14 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon1][DEBUG ] Get:15 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:16 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon1][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon1][DEBUG ] Get:19 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Get:20 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon1][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:22 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2610 kB in 17s (146 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] ceph is already the newest version.
[vmon1][DEBUG ] ceph-common is already the newest version.
[vmon1][DEBUG ] ceph-fs-common is already the newest version.
[vmon1][DEBUG ] ceph-mds is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-23 10:15:19--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: 1752 (1.7K) [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                     100% 20.8M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-23 10:15:22 (20.8 MB/s) - 'release.asc' saved [1752/1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon2][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon2][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2610 kB in 19s (137 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] ceph is already the newest version.
[vmon2][DEBUG ] ceph-common is already the newest version.
[vmon2][DEBUG ] ceph-fs-common is already the newest version.
[vmon2][DEBUG ] ceph-mds is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-23 10:02:22--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      47.5M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-23 10:02:25 (47.5 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon3][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 2610 kB in 20s (127 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] ceph is already the newest version.
[vmon3][DEBUG ] ceph-common is already the newest version.
[vmon3][DEBUG ] ceph-fs-common is already the newest version.
[vmon3][DEBUG ] ceph-mds is already the newest version.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-23 10:06:03--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      52.7M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-23 10:06:05 (52.7 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Get:3 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon1][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon1][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon1][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon1][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2610 kB in 20s (127 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] ceph is already the newest version.
[vmon1][DEBUG ] ceph-common is already the newest version.
[vmon1][DEBUG ] ceph-fs-common is already the newest version.
[vmon1][DEBUG ] ceph-mds is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-23 10:20:15--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      62.3M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-23 10:20:18 (62.3 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon2][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2610 kB in 20s (129 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] ceph is already the newest version.
[vmon2][DEBUG ] ceph-common is already the newest version.
[vmon2][DEBUG ] ceph-fs-common is already the newest version.
[vmon2][DEBUG ] ceph-mds is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 4, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "31771146-63f5-4d60-a9a5-92d270665013", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0, 
[vmon1][DEBUG ]     1
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] determining if provided host has same hostname in remote
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] deploying mon to vmon2
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] remote hostname: vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create the mon path if it does not exist
[vmon2][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon2][DEBUG ] create the init path if it does not exist
[vmon2][DEBUG ] locating the `service` executable...
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon2
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[vmon2][DEBUG ] ********************************************************************************
[vmon2][DEBUG ] status for monitor: mon.vmon2
[vmon2][DEBUG ] {
[vmon2][DEBUG ]   "election_epoch": 4, 
[vmon2][DEBUG ]   "extra_probe_peers": [
[vmon2][DEBUG ]     "172.22.3.51:6789/0"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "monmap": {
[vmon2][DEBUG ]     "created": "0.000000", 
[vmon2][DEBUG ]     "epoch": 1, 
[vmon2][DEBUG ]     "fsid": "31771146-63f5-4d60-a9a5-92d270665013", 
[vmon2][DEBUG ]     "modified": "0.000000", 
[vmon2][DEBUG ]     "mons": [
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon2][DEBUG ]         "name": "vmon1", 
[vmon2][DEBUG ]         "rank": 0
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon2][DEBUG ]         "name": "vmon2", 
[vmon2][DEBUG ]         "rank": 1
[vmon2][DEBUG ]       }
[vmon2][DEBUG ]     ]
[vmon2][DEBUG ]   }, 
[vmon2][DEBUG ]   "name": "vmon2", 
[vmon2][DEBUG ]   "outside_quorum": [], 
[vmon2][DEBUG ]   "quorum": [
[vmon2][DEBUG ]     0, 
[vmon2][DEBUG ]     1
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "rank": 1, 
[vmon2][DEBUG ]   "state": "peon", 
[vmon2][DEBUG ]   "sync_provider": []
[vmon2][DEBUG ] }
[vmon2][DEBUG ] ********************************************************************************
[vmon2][INFO  ] monitor: mon.vmon2 is running
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[vmon3][WARNING] monitor: mon.vmon3, might not be running yet
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[vmon3][WARNING] monitor vmon3 does not exist in monmap
[vmon3][WARNING] neither `public_addr` nor `public_network` keys are defined for monitors
[vmon3][WARNING] monitors may not be able to form quorum
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNING] mon.vmon3 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNING] waiting 5 seconds before retrying
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNING] mon.vmon3 monitor is not yet in quorum, tries left: 4
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNING] mon.vmon3 monitor is not yet in quorum, tries left: 3
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNING] mon.vmon3 monitor is not yet in quorum, tries left: 2
[ceph_deploy.mon][WARNING] waiting 15 seconds before retrying
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNING] mon.vmon3 monitor is not yet in quorum, tries left: 1
[ceph_deploy.mon][WARNING] waiting 20 seconds before retrying
[ceph_deploy.mon][ERROR ] Some monitors have still not reached quorum:
[ceph_deploy.mon][ERROR ] vmon3
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdc
[ceph_deploy.osd][DEBUG ] zapping /dev/sdc on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdc
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdc
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdc
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdc:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdc:/dev/sdb1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdc journal /dev/sdb1 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdc /dev/sdb1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb1 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:1e595ee8-edc5-483d-9561-c5cc00b6b0b2 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdc
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdc1
[vmon1][DEBUG ] meta-data=/dev/sdc1              isize=2048   agcount=4, agsize=3276735 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=13106939, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=6399, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.O80Df_ with options noatime,inode64
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.O80Df_
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.O80Df_
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.O80Df_/journal -> /dev/sdb1
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.O80Df_
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.O80Df_
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdc
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdc1:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdc1:/dev/sdb1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdc1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.zG10s9 with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.zG10s9
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 31771146-63f5-4d60-a9a5-92d270665013
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] ERROR:ceph-disk:Failed to activate
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.zG10s9
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.zG10s9
[vmon1][WARNING] ceph-disk: Error: No cluster conf found in /etc/ceph with fsid 31771146-63f5-4d60-a9a5-92d270665013
[vmon1][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: ceph-disk -v activate --mark-init upstart --mount /dev/sdc1

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdd
[ceph_deploy.osd][DEBUG ] zapping /dev/sdd on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdd
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdd
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdd
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdd:/dev/sdb2
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdd:/dev/sdb2
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdd journal /dev/sdb2 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdd /dev/sdb2
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb2 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:8740c132-e11f-4a3e-ba19-0459df876854 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdd
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdd1
[vmon1][DEBUG ] meta-data=/dev/sdd1              isize=2048   agcount=4, agsize=3276735 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=13106939, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=6399, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdd1 on /var/lib/ceph/tmp/mnt.jRDIRB with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdd1 /var/lib/ceph/tmp/mnt.jRDIRB
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.jRDIRB
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.jRDIRB/journal -> /dev/sdb2
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.jRDIRB
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.jRDIRB
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdd
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdd
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdd1:/dev/sdb2
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdd1:/dev/sdb2
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdd1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdd1 on /var/lib/ceph/tmp/mnt.D_2sF2 with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdd1 /var/lib/ceph/tmp/mnt.D_2sF2
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 31771146-63f5-4d60-a9a5-92d270665013
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] ERROR:ceph-disk:Failed to activate
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.D_2sF2
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.D_2sF2
[vmon1][WARNING] ceph-disk: Error: No cluster conf found in /etc/ceph with fsid 31771146-63f5-4d60-a9a5-92d270665013
[vmon1][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: ceph-disk -v activate --mark-init upstart --mount /dev/sdd1

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sde
[ceph_deploy.osd][DEBUG ] zapping /dev/sde on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sde
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sde
[vmon1][INFO  ] Running command: sudo partprobe /dev/sde
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sde:/dev/sdb3
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sde:/dev/sdb3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sde journal /dev/sdb3 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sde /dev/sdb3
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb3 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:1ff1f4d2-25d1-45ae-af1f-0466fa15abab --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sde
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sde1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sde1
[vmon1][DEBUG ] meta-data=/dev/sde1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sde1 on /var/lib/ceph/tmp/mnt.UwwUbm with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sde1 /var/lib/ceph/tmp/mnt.UwwUbm
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.UwwUbm
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.UwwUbm/journal -> /dev/sdb3
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.UwwUbm
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.UwwUbm
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sde
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sde
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sde1:/dev/sdb3
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sde1:/dev/sdb3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sde1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sde1
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdf
[ceph_deploy.osd][DEBUG ] zapping /dev/sdf on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdf:/dev/sdb4
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdf:/dev/sdb4
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdf1:/dev/sdb4
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdf1:/dev/sdb4
[vmon1][DEBUG ] connection detected need for sudo
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdg
[ceph_deploy.osd][DEBUG ] zapping /dev/sdg on vmon1
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdg:/dev/sdb5
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdg:/dev/sdb5
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdg1:/dev/sdb5
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdg1:/dev/sdb5
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdh
[ceph_deploy.osd][DEBUG ] zapping /dev/sdh on vmon1
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdh:/dev/sdb6
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdh:/dev/sdb6
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdh1:/dev/sdb6
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdh1:/dev/sdb6
[vmon1][DEBUG ] connection detected need for sudo
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdc
[ceph_deploy.osd][DEBUG ] zapping /dev/sdc on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdc
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Warning: The kernel is still using the old partition table.
[vmon1][DEBUG ] The new table will be used at the next reboot.
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] Warning: The kernel is still using the old partition table.
[vmon1][DEBUG ] The new table will be used at the next reboot.
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] Error: Partition(s) 1 on /dev/sdc have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdc
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdc
[vmon1][WARNING] Error: Partition(s) 1 on /dev/sdc have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[vmon1][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: partprobe /dev/sdc

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1 vmon2vmon3
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1 vmon2vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 135 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58137 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2vmon3 ...
[ceph_deploy][ERROR ] RuntimeError: connecting to host: vmon2vmon3 resulted in errors: HostNotFound vmon2vmon3

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1 vmon2vmon3
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1 vmon2vmon3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[ceph_deploy][ERROR ] RuntimeError: connecting to host: vmon2vmon3 resulted in errors: HostNotFound vmon2vmon3

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon2 vmon3
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging host ... vmon2
[vmon2][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] The following packages will be REMOVED:
[vmon2][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 119 not upgraded.
[vmon2][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon2][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon2][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon2][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] debconf: unable to initialize frontend: Dialog
[vmon2][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon2][WARNING] debconf: falling back to frontend: Readline
[vmon2][WARNING] debconf: unable to initialize frontend: Readline
[vmon2][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon2][WARNING] debconf: falling back to frontend: Teletype
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging host ... vmon3
[vmon3][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon3][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon3][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon3][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon3][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] The following packages will be REMOVED:
[vmon3][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 119 not upgraded.
[vmon3][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon3][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon3][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon3][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][WARNING] debconf: unable to initialize frontend: Dialog
[vmon3][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon3][WARNING] debconf: falling back to frontend: Readline
[vmon3][WARNING] debconf: unable to initialize frontend: Readline
[vmon3][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon3][WARNING] debconf: falling back to frontend: Teletype
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon2 vmon3
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon2 vmon3
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging data on vmon2
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging data on vmon3
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-23 10:25:11--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      30.7M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-23 10:25:13 (30.7 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon1][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon1][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon1][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2610 kB in 15s (164 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 135 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57927 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-23 10:39:28--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      50.5M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-23 10:39:30 (50.5 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Get:6 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon2][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon2][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2610 kB in 18s (144 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 119 not upgraded.
[vmon2][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon2][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon3][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon3][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon3][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon3][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-23 10:26:29--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      6.46M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-23 10:26:31 (6.46 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:16 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon3][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 2610 kB in 14s (175 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] Recommended packages:
[vmon3][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon3][DEBUG ] The following NEW packages will be installed:
[vmon3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 119 not upgraded.
[vmon3][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon3][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon3][DEBUG ] Selecting previously unselected package ceph-common.
[vmon3][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph.
[vmon3][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all start/running
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all start/running
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 0, 
[vmon1][DEBUG ]   "extra_probe_peers": [], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "31771146-63f5-4d60-a9a5-92d270665013", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [
[vmon1][DEBUG ]     "vmon1"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "quorum": [], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "probing", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] determining if provided host has same hostname in remote
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] deploying mon to vmon2
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] remote hostname: vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create the mon path if it does not exist
[vmon2][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] create the monitor keyring file
[vmon2][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon2 --keyring /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] ceph-mon: mon.noname-b 172.22.3.52:6789/0 is local, renaming to mon.vmon2
[vmon2][DEBUG ] ceph-mon: set fsid to 51a0dd99-1a04-49fa-b7d6-8b5cd715bd63
[vmon2][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon2 for mon.vmon2
[vmon2][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon2][DEBUG ] create the init path if it does not exist
[vmon2][DEBUG ] locating the `service` executable...
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon2
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[vmon2][DEBUG ] ********************************************************************************
[vmon2][DEBUG ] status for monitor: mon.vmon2
[vmon2][DEBUG ] {
[vmon2][DEBUG ]   "election_epoch": 0, 
[vmon2][DEBUG ]   "extra_probe_peers": [
[vmon2][DEBUG ]     "172.22.3.51:6789/0", 
[vmon2][DEBUG ]     "172.22.3.53:6789/0"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "monmap": {
[vmon2][DEBUG ]     "created": "0.000000", 
[vmon2][DEBUG ]     "epoch": 0, 
[vmon2][DEBUG ]     "fsid": "51a0dd99-1a04-49fa-b7d6-8b5cd715bd63", 
[vmon2][DEBUG ]     "modified": "0.000000", 
[vmon2][DEBUG ]     "mons": [
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon2][DEBUG ]         "name": "vmon2", 
[vmon2][DEBUG ]         "rank": 0
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "0.0.0.0:0/1", 
[vmon2][DEBUG ]         "name": "vmon1", 
[vmon2][DEBUG ]         "rank": 1
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "0.0.0.0:0/2", 
[vmon2][DEBUG ]         "name": "vmon3", 
[vmon2][DEBUG ]         "rank": 2
[vmon2][DEBUG ]       }
[vmon2][DEBUG ]     ]
[vmon2][DEBUG ]   }, 
[vmon2][DEBUG ]   "name": "vmon2", 
[vmon2][DEBUG ]   "outside_quorum": [
[vmon2][DEBUG ]     "vmon2"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "quorum": [], 
[vmon2][DEBUG ]   "rank": 0, 
[vmon2][DEBUG ]   "state": "probing", 
[vmon2][DEBUG ]   "sync_provider": []
[vmon2][DEBUG ] }
[vmon2][DEBUG ] ********************************************************************************
[vmon2][INFO  ] monitor: mon.vmon2 is running
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create the monitor keyring file
[vmon3][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon3 --keyring /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] ceph-mon: mon.noname-c 172.22.3.53:6789/0 is local, renaming to mon.vmon3
[vmon3][DEBUG ] ceph-mon: set fsid to 51a0dd99-1a04-49fa-b7d6-8b5cd715bd63
[vmon3][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon3 for mon.vmon3
[vmon3][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][DEBUG ] ********************************************************************************
[vmon3][DEBUG ] status for monitor: mon.vmon3
[vmon3][DEBUG ] {
[vmon3][DEBUG ]   "election_epoch": 1, 
[vmon3][DEBUG ]   "extra_probe_peers": [
[vmon3][DEBUG ]     "172.22.3.51:6789/0", 
[vmon3][DEBUG ]     "172.22.3.52:6789/0"
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "monmap": {
[vmon3][DEBUG ]     "created": "0.000000", 
[vmon3][DEBUG ]     "epoch": 0, 
[vmon3][DEBUG ]     "fsid": "51a0dd99-1a04-49fa-b7d6-8b5cd715bd63", 
[vmon3][DEBUG ]     "modified": "0.000000", 
[vmon3][DEBUG ]     "mons": [
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon3][DEBUG ]         "name": "vmon2", 
[vmon3][DEBUG ]         "rank": 0
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon3][DEBUG ]         "name": "vmon3", 
[vmon3][DEBUG ]         "rank": 1
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "0.0.0.0:0/1", 
[vmon3][DEBUG ]         "name": "vmon1", 
[vmon3][DEBUG ]         "rank": 2
[vmon3][DEBUG ]       }
[vmon3][DEBUG ]     ]
[vmon3][DEBUG ]   }, 
[vmon3][DEBUG ]   "name": "vmon3", 
[vmon3][DEBUG ]   "outside_quorum": [], 
[vmon3][DEBUG ]   "quorum": [], 
[vmon3][DEBUG ]   "rank": 1, 
[vmon3][DEBUG ]   "state": "electing", 
[vmon3][DEBUG ]   "sync_provider": []
[vmon3][DEBUG ] }
[vmon3][DEBUG ] ********************************************************************************
[vmon3][INFO  ] monitor: mon.vmon3 is running
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNING] waiting 5 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 4
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 3
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 2
[ceph_deploy.mon][WARNING] waiting 15 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 1
[ceph_deploy.mon][WARNING] waiting 20 seconds before retrying
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon3 monitor has reached quorum!
[ceph_deploy.mon][ERROR ] Some monitors have still not reached quorum:
[ceph_deploy.mon][ERROR ] vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 135 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58137 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][WARNING] OSDs may still be mounted, trying to unmount them
[vmon1][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon1][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][WARNING] keyring (ceph.mon.keyring) not found, creating a new one
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.mon][ERROR ] OSError: [Errno 2] No such file or directory: '/etc/ceph/tmp_fmR4Z'
[ceph_deploy][ERROR ] GenericError: Failed to create 1 monitors

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-23 10:30:47--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      23.6M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-23 10:30:49 (23.6 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 135 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57927 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 51a0dd99-1a04-49fa-b7d6-8b5cd715bd63
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 0, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0", 
[vmon1][DEBUG ]     "172.22.3.53:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 0, 
[vmon1][DEBUG ]     "fsid": "51a0dd99-1a04-49fa-b7d6-8b5cd715bd63", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/1", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/2", 
[vmon1][DEBUG ]         "name": "vmon3", 
[vmon1][DEBUG ]         "rank": 2
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [
[vmon1][DEBUG ]     "vmon1"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "quorum": [], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "probing", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNING] waiting 5 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 4
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 3
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 2
[ceph_deploy.mon][WARNING] waiting 15 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 1
[ceph_deploy.mon][WARNING] waiting 20 seconds before retrying
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1 vmon2 vmon3
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 135 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58137 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging host ... vmon2
[vmon2][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] The following packages will be REMOVED:
[vmon2][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 119 not upgraded.
[vmon2][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon2][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon2][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon2][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] debconf: unable to initialize frontend: Dialog
[vmon2][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon2][WARNING] debconf: falling back to frontend: Readline
[vmon2][WARNING] debconf: unable to initialize frontend: Readline
[vmon2][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon2][WARNING] debconf: falling back to frontend: Teletype
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging host ... vmon3
[vmon3][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon3][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon3][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon3][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon3][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] The following packages will be REMOVED:
[vmon3][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 119 not upgraded.
[vmon3][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon3][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon3][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon3][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][WARNING] debconf: unable to initialize frontend: Dialog
[vmon3][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon3][WARNING] debconf: falling back to frontend: Readline
[vmon3][WARNING] debconf: unable to initialize frontend: Readline
[vmon3][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon3][WARNING] debconf: falling back to frontend: Teletype
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1 vmon2 vmon3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging data on vmon2
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging data on vmon3
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-23 10:33:26--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      64.1M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-23 10:33:28 (64.1 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 135 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57927 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-23 10:47:42--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      18.1M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-23 10:47:44 (18.1 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 119 not upgraded.
[vmon2][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon2][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon3][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon3][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon3][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon3][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-23 10:34:36--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      43.3M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-23 10:34:38 (43.3 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon3][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon3][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:14 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon3][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 2610 kB in 19s (133 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] Recommended packages:
[vmon3][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon3][DEBUG ] The following NEW packages will be installed:
[vmon3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 119 not upgraded.
[vmon3][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon3][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon3][DEBUG ] Selecting previously unselected package ceph-common.
[vmon3][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph.
[vmon3][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all start/running
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all start/running
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 4f2ca3df-9c1e-4b63-b101-940be0f651b0
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 2, 
[vmon1][DEBUG ]   "extra_probe_peers": [], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "4f2ca3df-9c1e-4b63-b101-940be0f651b0", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon1:/dev/sdb vmon2:/dev/sdb vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdb: vmon2:/dev/sdb: vmon3:/dev/sdb:
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdb journal None activate True
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon1][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:c4a31d35-70fd-4390-9e5d-dc290ebe395d --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon1][WARNING] Could not create partition 2 from 14682112 to 10485760
[vmon1][WARNING] Error encountered; not saving changes.
[vmon1][WARNING] ceph-disk: Error: Command '['/sbin/sgdisk', '--new=2:0:5120M', '--change-name=2:ceph journal', '--partition-guid=2:c4a31d35-70fd-4390-9e5d-dc290ebe395d', '--typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106', '--mbrtogpt', '--', '/dev/sdb']' returned non-zero exit status 4
[vmon1][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy.osd][ERROR ] Failed to execute command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][WARNING] osd keyring does not exist yet, creating one
[vmon2][DEBUG ] create a keyring file
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon2 disk /dev/sdb journal None activate True
[vmon2][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon2][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon2][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:5458316c-bc53-4f47-abf2-b68ceab466d0 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon2][WARNING] Could not create partition 2 from 10485761 to 10485760
[vmon2][WARNING] Error encountered; not saving changes.
[vmon2][WARNING] ceph-disk: Error: Command '['/sbin/sgdisk', '--new=2:0:5120M', '--change-name=2:ceph journal', '--partition-guid=2:5458316c-bc53-4f47-abf2-b68ceab466d0', '--typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106', '--mbrtogpt', '--', '/dev/sdb']' returned non-zero exit status 4
[vmon2][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy.osd][ERROR ] Failed to execute command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][WARNING] osd keyring does not exist yet, creating one
[vmon3][DEBUG ] create a keyring file
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon3 disk /dev/sdb journal None activate True
[vmon3][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon3][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon3][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:8bccee73-6a83-4a67-b487-96f38df1a136 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon3][WARNING] Could not create partition 2 from 10485761 to 10485760
[vmon3][WARNING] Error encountered; not saving changes.
[vmon3][WARNING] ceph-disk: Error: Command '['/sbin/sgdisk', '--new=2:0:5120M', '--change-name=2:ceph journal', '--partition-guid=2:8bccee73-6a83-4a67-b487-96f38df1a136', '--typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106', '--mbrtogpt', '--', '/dev/sdb']' returned non-zero exit status 4
[vmon3][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy.osd][ERROR ] Failed to execute command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[ceph_deploy][ERROR ] GenericError: Failed to create 3 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1 vmon2 vmon3
[ceph_deploy][ERROR ] RuntimeError: zap command needs both HOSTNAME and DISK but got "vmon1 None"

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdb vmon2:/dev/sdb vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] zeroing last few blocks of device
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon2][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon2][WARNING] backup header from main header.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon2][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon2][WARNING] 
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon2][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon2][DEBUG ] other utilities.
[vmon2][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon2][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] zeroing last few blocks of device
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon3][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon3][WARNING] backup header from main header.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon3][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon3][WARNING] 
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon3][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon3][DEBUG ] other utilities.
[vmon3][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon3][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon1:/dev/sdb vmon2:/dev/sdb vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdb: vmon2:/dev/sdb: vmon3:/dev/sdb:
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdb journal None activate True
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon1][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:f8e28f74-616f-4b26-8f7e-537edbbf5620 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/f8e28f74-616f-4b26-8f7e-537edbbf5620
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:03921a6a-3119-40bc-8265-d659fe1d7ecb --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon1][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=2949055 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=11796219, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=5759, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.WOIe2H with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.WOIe2H
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.WOIe2H
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.WOIe2H/journal -> /dev/disk/by-partuuid/f8e28f74-616f-4b26-8f7e-537edbbf5620
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.WOIe2H
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.WOIe2H
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon2 disk /dev/sdb journal None activate True
[vmon2][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon2][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon2][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:be6631dc-386f-4560-9bf5-e63e976070ee --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/be6631dc-386f-4560-9bf5-e63e976070ee
[vmon2][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:092e2e18-e707-41ce-9ca9-e81817855841 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon2][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon2][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon2][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon2][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon2][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon2][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon2][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon2][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon2][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.7PPJvl with options noatime,inode64
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.7PPJvl
[vmon2][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.7PPJvl
[vmon2][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.7PPJvl/journal -> /dev/disk/by-partuuid/be6631dc-386f-4560-9bf5-e63e976070ee
[vmon2][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.7PPJvl
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.7PPJvl
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon2][INFO  ] checking OSD status...
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon2 is now ready for osd use.
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon3 disk /dev/sdb journal None activate True
[vmon3][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon3][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon3][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:7827f19e-4fda-4688-9d74-c5302955105d --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/7827f19e-4fda-4688-9d74-c5302955105d
[vmon3][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:e3da19bf-023f-4646-9636-8d00722ec9c5 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon3][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon3][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon3][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon3][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon3][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon3][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon3][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon3][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon3][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.I3dTgG with options noatime,inode64
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.I3dTgG
[vmon3][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.I3dTgG
[vmon3][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.I3dTgG/journal -> /dev/disk/by-partuuid/7827f19e-4fda-4688-9d74-c5302955105d
[vmon3][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.I3dTgG
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.I3dTgG
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon3][INFO  ] checking OSD status...
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon3 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Warning: The kernel is still using the old partition table.
[vmon1][DEBUG ] The new table will be used at the next reboot.
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] Warning: The kernel is still using the old partition table.
[vmon1][DEBUG ] The new table will be used at the next reboot.
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] Error: Partition(s) 1, 2 on /dev/sdb have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdb
[vmon1][WARNING] Error: Partition(s) 1, 2 on /dev/sdb have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[vmon1][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: partprobe /dev/sdb

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon1:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdb:
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdb journal None activate True
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon1][WARNING] ceph-disk: Error: Device is mounted: /dev/sdb1
[vmon1][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy.osd][ERROR ] Failed to execute command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] zeroing last few blocks of device
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon2][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon2][WARNING] backup header from main header.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon2][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon2][WARNING] 
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon2][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] Warning: The kernel is still using the old partition table.
[vmon2][DEBUG ] The new table will be used at the next reboot.
[vmon2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon2][DEBUG ] other utilities.
[vmon2][DEBUG ] Warning: The kernel is still using the old partition table.
[vmon2][DEBUG ] The new table will be used at the next reboot.
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] Error: Partition(s) 1, 2 on /dev/sdb have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon2][INFO  ] Running command: sudo partprobe /dev/sdb
[vmon2][WARNING] Error: Partition(s) 1, 2 on /dev/sdb have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[vmon2][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: partprobe /dev/sdb

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon2:/dev/sdb:
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon2 disk /dev/sdb journal None activate True
[vmon2][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon2][WARNING] ceph-disk: Error: Device is mounted: /dev/sdb1
[vmon2][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy.osd][ERROR ] Failed to execute command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1 vmon2 vmon3
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 135 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58137 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging host ... vmon2
[vmon2][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] The following packages will be REMOVED:
[vmon2][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 119 not upgraded.
[vmon2][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon2][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon2][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon2][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] debconf: unable to initialize frontend: Dialog
[vmon2][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon2][WARNING] debconf: falling back to frontend: Readline
[vmon2][WARNING] debconf: unable to initialize frontend: Readline
[vmon2][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon2][WARNING] debconf: falling back to frontend: Teletype
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging host ... vmon3
[vmon3][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon3][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon3][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon3][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon3][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] The following packages will be REMOVED:
[vmon3][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 119 not upgraded.
[vmon3][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon3][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon3][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon3][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][WARNING] debconf: unable to initialize frontend: Dialog
[vmon3][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon3][WARNING] debconf: falling back to frontend: Readline
[vmon3][WARNING] debconf: unable to initialize frontend: Readline
[vmon3][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon3][WARNING] debconf: falling back to frontend: Teletype
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1 vmon2 vmon3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][WARNING] OSDs may still be mounted, trying to unmount them
[vmon1][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon1][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging data on vmon2
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][WARNING] OSDs may still be mounted, trying to unmount them
[vmon2][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon2][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging data on vmon3
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][WARNING] OSDs may still be mounted, trying to unmount them
[vmon3][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon3][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 135 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-23 11:45:19--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      8.89M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-23 11:45:21 (8.89 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon1][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon1][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon1][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2610 kB in 18s (142 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 135 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57927 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-23 11:59:55--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      24.9M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-23 11:59:57 (24.9 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon2][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:14 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon2][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2610 kB in 16s (162 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 119 not upgraded.
[vmon2][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon2][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon3][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon3][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon3][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon3][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-23 11:46:38--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      7.22M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-23 11:46:40 (7.22 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [62.0 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [72.5 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Get:6 http://us.archive.ubuntu.com trusty-updates Release [62.0 kB]
[vmon3][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [222 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [212 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [454 kB]
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [444 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 2610 kB in 20s (125 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] Recommended packages:
[vmon3][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon3][DEBUG ] The following NEW packages will be installed:
[vmon3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 119 not upgraded.
[vmon3][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon3][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon3][DEBUG ] Selecting previously unselected package ceph-common.
[vmon3][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph.
[vmon3][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all start/running
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all start/running
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 7a6cc433-b01d-4e38-ad3a-12ba8686b6d7
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 0, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0", 
[vmon1][DEBUG ]     "172.22.3.53:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 0, 
[vmon1][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/1", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/2", 
[vmon1][DEBUG ]         "name": "vmon3", 
[vmon1][DEBUG ]         "rank": 2
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [
[vmon1][DEBUG ]     "vmon1"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "quorum": [], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "probing", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] determining if provided host has same hostname in remote
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] deploying mon to vmon2
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] remote hostname: vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create the mon path if it does not exist
[vmon2][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] create the monitor keyring file
[vmon2][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon2 --keyring /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] ceph-mon: mon.noname-b 172.22.3.52:6789/0 is local, renaming to mon.vmon2
[vmon2][DEBUG ] ceph-mon: set fsid to 7a6cc433-b01d-4e38-ad3a-12ba8686b6d7
[vmon2][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon2 for mon.vmon2
[vmon2][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon2.mon.keyring
[vmon2][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon2][DEBUG ] create the init path if it does not exist
[vmon2][DEBUG ] locating the `service` executable...
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon2
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[vmon2][DEBUG ] ********************************************************************************
[vmon2][DEBUG ] status for monitor: mon.vmon2
[vmon2][DEBUG ] {
[vmon2][DEBUG ]   "election_epoch": 1, 
[vmon2][DEBUG ]   "extra_probe_peers": [
[vmon2][DEBUG ]     "172.22.3.51:6789/0", 
[vmon2][DEBUG ]     "172.22.3.53:6789/0"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "monmap": {
[vmon2][DEBUG ]     "created": "0.000000", 
[vmon2][DEBUG ]     "epoch": 0, 
[vmon2][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon2][DEBUG ]     "modified": "0.000000", 
[vmon2][DEBUG ]     "mons": [
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon2][DEBUG ]         "name": "vmon1", 
[vmon2][DEBUG ]         "rank": 0
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon2][DEBUG ]         "name": "vmon2", 
[vmon2][DEBUG ]         "rank": 1
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "0.0.0.0:0/2", 
[vmon2][DEBUG ]         "name": "vmon3", 
[vmon2][DEBUG ]         "rank": 2
[vmon2][DEBUG ]       }
[vmon2][DEBUG ]     ]
[vmon2][DEBUG ]   }, 
[vmon2][DEBUG ]   "name": "vmon2", 
[vmon2][DEBUG ]   "outside_quorum": [], 
[vmon2][DEBUG ]   "quorum": [], 
[vmon2][DEBUG ]   "rank": 1, 
[vmon2][DEBUG ]   "state": "electing", 
[vmon2][DEBUG ]   "sync_provider": []
[vmon2][DEBUG ] }
[vmon2][DEBUG ] ********************************************************************************
[vmon2][INFO  ] monitor: mon.vmon2 is running
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create the monitor keyring file
[vmon3][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon3 --keyring /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] ceph-mon: mon.noname-c 172.22.3.53:6789/0 is local, renaming to mon.vmon3
[vmon3][DEBUG ] ceph-mon: set fsid to 7a6cc433-b01d-4e38-ad3a-12ba8686b6d7
[vmon3][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon3 for mon.vmon3
[vmon3][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][DEBUG ] ********************************************************************************
[vmon3][DEBUG ] status for monitor: mon.vmon3
[vmon3][DEBUG ] {
[vmon3][DEBUG ]   "election_epoch": 1, 
[vmon3][DEBUG ]   "extra_probe_peers": [
[vmon3][DEBUG ]     "172.22.3.51:6789/0", 
[vmon3][DEBUG ]     "172.22.3.52:6789/0"
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "monmap": {
[vmon3][DEBUG ]     "created": "0.000000", 
[vmon3][DEBUG ]     "epoch": 0, 
[vmon3][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon3][DEBUG ]     "modified": "0.000000", 
[vmon3][DEBUG ]     "mons": [
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon3][DEBUG ]         "name": "vmon1", 
[vmon3][DEBUG ]         "rank": 0
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon3][DEBUG ]         "name": "vmon2", 
[vmon3][DEBUG ]         "rank": 1
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon3][DEBUG ]         "name": "vmon3", 
[vmon3][DEBUG ]         "rank": 2
[vmon3][DEBUG ]       }
[vmon3][DEBUG ]     ]
[vmon3][DEBUG ]   }, 
[vmon3][DEBUG ]   "name": "vmon3", 
[vmon3][DEBUG ]   "outside_quorum": [], 
[vmon3][DEBUG ]   "quorum": [], 
[vmon3][DEBUG ]   "rank": 2, 
[vmon3][DEBUG ]   "state": "electing", 
[vmon3][DEBUG ]   "sync_provider": []
[vmon3][DEBUG ] }
[vmon3][DEBUG ] ********************************************************************************
[vmon3][INFO  ] monitor: mon.vmon3 is running
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNING] waiting 5 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 4
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon3 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 6, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0", 
[vmon1][DEBUG ]     "172.22.3.53:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon1][DEBUG ]         "name": "vmon3", 
[vmon1][DEBUG ]         "rank": 2
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0, 
[vmon1][DEBUG ]     1, 
[vmon1][DEBUG ]     2
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] determining if provided host has same hostname in remote
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] deploying mon to vmon2
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] remote hostname: vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create the mon path if it does not exist
[vmon2][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon2][DEBUG ] create the init path if it does not exist
[vmon2][DEBUG ] locating the `service` executable...
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon2
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[vmon2][DEBUG ] ********************************************************************************
[vmon2][DEBUG ] status for monitor: mon.vmon2
[vmon2][DEBUG ] {
[vmon2][DEBUG ]   "election_epoch": 6, 
[vmon2][DEBUG ]   "extra_probe_peers": [
[vmon2][DEBUG ]     "172.22.3.51:6789/0", 
[vmon2][DEBUG ]     "172.22.3.53:6789/0"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "monmap": {
[vmon2][DEBUG ]     "created": "0.000000", 
[vmon2][DEBUG ]     "epoch": 1, 
[vmon2][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon2][DEBUG ]     "modified": "0.000000", 
[vmon2][DEBUG ]     "mons": [
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon2][DEBUG ]         "name": "vmon1", 
[vmon2][DEBUG ]         "rank": 0
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon2][DEBUG ]         "name": "vmon2", 
[vmon2][DEBUG ]         "rank": 1
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon2][DEBUG ]         "name": "vmon3", 
[vmon2][DEBUG ]         "rank": 2
[vmon2][DEBUG ]       }
[vmon2][DEBUG ]     ]
[vmon2][DEBUG ]   }, 
[vmon2][DEBUG ]   "name": "vmon2", 
[vmon2][DEBUG ]   "outside_quorum": [], 
[vmon2][DEBUG ]   "quorum": [
[vmon2][DEBUG ]     0, 
[vmon2][DEBUG ]     1, 
[vmon2][DEBUG ]     2
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "rank": 1, 
[vmon2][DEBUG ]   "state": "peon", 
[vmon2][DEBUG ]   "sync_provider": []
[vmon2][DEBUG ] }
[vmon2][DEBUG ] ********************************************************************************
[vmon2][INFO  ] monitor: mon.vmon2 is running
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][DEBUG ] ********************************************************************************
[vmon3][DEBUG ] status for monitor: mon.vmon3
[vmon3][DEBUG ] {
[vmon3][DEBUG ]   "election_epoch": 6, 
[vmon3][DEBUG ]   "extra_probe_peers": [
[vmon3][DEBUG ]     "172.22.3.51:6789/0", 
[vmon3][DEBUG ]     "172.22.3.52:6789/0"
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "monmap": {
[vmon3][DEBUG ]     "created": "0.000000", 
[vmon3][DEBUG ]     "epoch": 1, 
[vmon3][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon3][DEBUG ]     "modified": "0.000000", 
[vmon3][DEBUG ]     "mons": [
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon3][DEBUG ]         "name": "vmon1", 
[vmon3][DEBUG ]         "rank": 0
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon3][DEBUG ]         "name": "vmon2", 
[vmon3][DEBUG ]         "rank": 1
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon3][DEBUG ]         "name": "vmon3", 
[vmon3][DEBUG ]         "rank": 2
[vmon3][DEBUG ]       }
[vmon3][DEBUG ]     ]
[vmon3][DEBUG ]   }, 
[vmon3][DEBUG ]   "name": "vmon3", 
[vmon3][DEBUG ]   "outside_quorum": [], 
[vmon3][DEBUG ]   "quorum": [
[vmon3][DEBUG ]     0, 
[vmon3][DEBUG ]     1, 
[vmon3][DEBUG ]     2
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "rank": 2, 
[vmon3][DEBUG ]   "state": "peon", 
[vmon3][DEBUG ]   "sync_provider": []
[vmon3][DEBUG ] }
[vmon3][DEBUG ] ********************************************************************************
[vmon3][INFO  ] monitor: mon.vmon3 is running
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon3 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.client.admin.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-osd.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-mds.keyring
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 6, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0", 
[vmon1][DEBUG ]     "172.22.3.53:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon1][DEBUG ]         "name": "vmon3", 
[vmon1][DEBUG ]         "rank": 2
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0, 
[vmon1][DEBUG ]     1, 
[vmon1][DEBUG ]     2
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] determining if provided host has same hostname in remote
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] deploying mon to vmon2
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] remote hostname: vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create the mon path if it does not exist
[vmon2][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon2][DEBUG ] create the init path if it does not exist
[vmon2][DEBUG ] locating the `service` executable...
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon2
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[vmon2][DEBUG ] ********************************************************************************
[vmon2][DEBUG ] status for monitor: mon.vmon2
[vmon2][DEBUG ] {
[vmon2][DEBUG ]   "election_epoch": 6, 
[vmon2][DEBUG ]   "extra_probe_peers": [
[vmon2][DEBUG ]     "172.22.3.51:6789/0", 
[vmon2][DEBUG ]     "172.22.3.53:6789/0"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "monmap": {
[vmon2][DEBUG ]     "created": "0.000000", 
[vmon2][DEBUG ]     "epoch": 1, 
[vmon2][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon2][DEBUG ]     "modified": "0.000000", 
[vmon2][DEBUG ]     "mons": [
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon2][DEBUG ]         "name": "vmon1", 
[vmon2][DEBUG ]         "rank": 0
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon2][DEBUG ]         "name": "vmon2", 
[vmon2][DEBUG ]         "rank": 1
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon2][DEBUG ]         "name": "vmon3", 
[vmon2][DEBUG ]         "rank": 2
[vmon2][DEBUG ]       }
[vmon2][DEBUG ]     ]
[vmon2][DEBUG ]   }, 
[vmon2][DEBUG ]   "name": "vmon2", 
[vmon2][DEBUG ]   "outside_quorum": [], 
[vmon2][DEBUG ]   "quorum": [
[vmon2][DEBUG ]     0, 
[vmon2][DEBUG ]     1, 
[vmon2][DEBUG ]     2
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "rank": 1, 
[vmon2][DEBUG ]   "state": "peon", 
[vmon2][DEBUG ]   "sync_provider": []
[vmon2][DEBUG ] }
[vmon2][DEBUG ] ********************************************************************************
[vmon2][INFO  ] monitor: mon.vmon2 is running
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][DEBUG ] ********************************************************************************
[vmon3][DEBUG ] status for monitor: mon.vmon3
[vmon3][DEBUG ] {
[vmon3][DEBUG ]   "election_epoch": 6, 
[vmon3][DEBUG ]   "extra_probe_peers": [
[vmon3][DEBUG ]     "172.22.3.51:6789/0", 
[vmon3][DEBUG ]     "172.22.3.52:6789/0"
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "monmap": {
[vmon3][DEBUG ]     "created": "0.000000", 
[vmon3][DEBUG ]     "epoch": 1, 
[vmon3][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon3][DEBUG ]     "modified": "0.000000", 
[vmon3][DEBUG ]     "mons": [
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon3][DEBUG ]         "name": "vmon1", 
[vmon3][DEBUG ]         "rank": 0
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon3][DEBUG ]         "name": "vmon2", 
[vmon3][DEBUG ]         "rank": 1
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon3][DEBUG ]         "name": "vmon3", 
[vmon3][DEBUG ]         "rank": 2
[vmon3][DEBUG ]       }
[vmon3][DEBUG ]     ]
[vmon3][DEBUG ]   }, 
[vmon3][DEBUG ]   "name": "vmon3", 
[vmon3][DEBUG ]   "outside_quorum": [], 
[vmon3][DEBUG ]   "quorum": [
[vmon3][DEBUG ]     0, 
[vmon3][DEBUG ]     1, 
[vmon3][DEBUG ]     2
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "rank": 2, 
[vmon3][DEBUG ]   "state": "peon", 
[vmon3][DEBUG ]   "sync_provider": []
[vmon3][DEBUG ] }
[vmon3][DEBUG ] ********************************************************************************
[vmon3][INFO  ] monitor: mon.vmon3 is running
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon3 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.client.admin.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-osd.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-mds.keyring
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 6, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0", 
[vmon1][DEBUG ]     "172.22.3.53:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon1][DEBUG ]         "name": "vmon3", 
[vmon1][DEBUG ]         "rank": 2
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0, 
[vmon1][DEBUG ]     1, 
[vmon1][DEBUG ]     2
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] determining if provided host has same hostname in remote
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] deploying mon to vmon2
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] remote hostname: vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create the mon path if it does not exist
[vmon2][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon2/done
[vmon2][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon2][DEBUG ] create the init path if it does not exist
[vmon2][DEBUG ] locating the `service` executable...
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon2
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[vmon2][DEBUG ] ********************************************************************************
[vmon2][DEBUG ] status for monitor: mon.vmon2
[vmon2][DEBUG ] {
[vmon2][DEBUG ]   "election_epoch": 6, 
[vmon2][DEBUG ]   "extra_probe_peers": [
[vmon2][DEBUG ]     "172.22.3.51:6789/0", 
[vmon2][DEBUG ]     "172.22.3.53:6789/0"
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "monmap": {
[vmon2][DEBUG ]     "created": "0.000000", 
[vmon2][DEBUG ]     "epoch": 1, 
[vmon2][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon2][DEBUG ]     "modified": "0.000000", 
[vmon2][DEBUG ]     "mons": [
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon2][DEBUG ]         "name": "vmon1", 
[vmon2][DEBUG ]         "rank": 0
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon2][DEBUG ]         "name": "vmon2", 
[vmon2][DEBUG ]         "rank": 1
[vmon2][DEBUG ]       }, 
[vmon2][DEBUG ]       {
[vmon2][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon2][DEBUG ]         "name": "vmon3", 
[vmon2][DEBUG ]         "rank": 2
[vmon2][DEBUG ]       }
[vmon2][DEBUG ]     ]
[vmon2][DEBUG ]   }, 
[vmon2][DEBUG ]   "name": "vmon2", 
[vmon2][DEBUG ]   "outside_quorum": [], 
[vmon2][DEBUG ]   "quorum": [
[vmon2][DEBUG ]     0, 
[vmon2][DEBUG ]     1, 
[vmon2][DEBUG ]     2
[vmon2][DEBUG ]   ], 
[vmon2][DEBUG ]   "rank": 1, 
[vmon2][DEBUG ]   "state": "peon", 
[vmon2][DEBUG ]   "sync_provider": []
[vmon2][DEBUG ] }
[vmon2][DEBUG ] ********************************************************************************
[vmon2][INFO  ] monitor: mon.vmon2 is running
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][DEBUG ] ********************************************************************************
[vmon3][DEBUG ] status for monitor: mon.vmon3
[vmon3][DEBUG ] {
[vmon3][DEBUG ]   "election_epoch": 6, 
[vmon3][DEBUG ]   "extra_probe_peers": [
[vmon3][DEBUG ]     "172.22.3.51:6789/0", 
[vmon3][DEBUG ]     "172.22.3.52:6789/0"
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "monmap": {
[vmon3][DEBUG ]     "created": "0.000000", 
[vmon3][DEBUG ]     "epoch": 1, 
[vmon3][DEBUG ]     "fsid": "7a6cc433-b01d-4e38-ad3a-12ba8686b6d7", 
[vmon3][DEBUG ]     "modified": "0.000000", 
[vmon3][DEBUG ]     "mons": [
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon3][DEBUG ]         "name": "vmon1", 
[vmon3][DEBUG ]         "rank": 0
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.52:6789/0", 
[vmon3][DEBUG ]         "name": "vmon2", 
[vmon3][DEBUG ]         "rank": 1
[vmon3][DEBUG ]       }, 
[vmon3][DEBUG ]       {
[vmon3][DEBUG ]         "addr": "172.22.3.53:6789/0", 
[vmon3][DEBUG ]         "name": "vmon3", 
[vmon3][DEBUG ]         "rank": 2
[vmon3][DEBUG ]       }
[vmon3][DEBUG ]     ]
[vmon3][DEBUG ]   }, 
[vmon3][DEBUG ]   "name": "vmon3", 
[vmon3][DEBUG ]   "outside_quorum": [], 
[vmon3][DEBUG ]   "quorum": [
[vmon3][DEBUG ]     0, 
[vmon3][DEBUG ]     1, 
[vmon3][DEBUG ]     2
[vmon3][DEBUG ]   ], 
[vmon3][DEBUG ]   "rank": 2, 
[vmon3][DEBUG ]   "state": "peon", 
[vmon3][DEBUG ]   "sync_provider": []
[vmon3][DEBUG ] }
[vmon3][DEBUG ] ********************************************************************************
[vmon3][INFO  ] monitor: mon.vmon3 is running
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon2.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon2 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon3 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.client.admin.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-osd.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-mds.keyring
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon1:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdb:
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdb journal None activate True
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon1][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:d8923062-77ee-47b2-a05d-d15e62626d2a --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/d8923062-77ee-47b2-a05d-d15e62626d2a
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:36597675-95c8-4430-9732-8e3d84c34147 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon1][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=2949055 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=11796219, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=5759, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.Ztkk5b with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.Ztkk5b
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.Ztkk5b
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.Ztkk5b/journal -> /dev/disk/by-partuuid/d8923062-77ee-47b2-a05d-d15e62626d2a
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.Ztkk5b
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.Ztkk5b
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[vmon1][WARNING] there is 1 OSD down
[vmon1][WARNING] there is 1 OSD out
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] zeroing last few blocks of device
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon2][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon2][WARNING] backup header from main header.
[vmon2][WARNING] 
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon2][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon2][DEBUG ] other utilities.
[vmon2][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon2][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon2:/dev/sdb:
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon2 disk /dev/sdb journal None activate True
[vmon2][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon2][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon2][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:bc831f7b-d906-45ca-a5aa-19285ff7dab3 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/bc831f7b-d906-45ca-a5aa-19285ff7dab3
[vmon2][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:fb1780c5-81c4-41cc-99f6-1a3492402043 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon2][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon2][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon2][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon2][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon2][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon2][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon2][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon2][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.aCqmll with options noatime,inode64
[vmon2][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.aCqmll
[vmon2][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.aCqmll
[vmon2][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.aCqmll/journal -> /dev/disk/by-partuuid/bc831f7b-d906-45ca-a5aa-19285ff7dab3
[vmon2][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.aCqmll
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.aCqmll
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon2][INFO  ] checking OSD status...
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[vmon2][WARNING] there is 1 OSD down
[vmon2][WARNING] there is 1 OSD out
[ceph_deploy.osd][DEBUG ] Host vmon2 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] zeroing last few blocks of device
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon3][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon3][WARNING] backup header from main header.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon3][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon3][WARNING] 
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon3][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon3][DEBUG ] other utilities.
[vmon3][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon3][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon3:/dev/sdb:
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon3 disk /dev/sdb journal None activate True
[vmon3][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon3][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon3][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:999829bc-da62-442b-966c-7de661518cb4 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/999829bc-da62-442b-966c-7de661518cb4
[vmon3][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:b179990e-1c35-49c2-9022-8611e82e767c --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon3][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon3][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon3][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon3][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon3][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon3][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon3][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon3][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon3][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.HMmsoJ with options noatime,inode64
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.HMmsoJ
[vmon3][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.HMmsoJ
[vmon3][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.HMmsoJ/journal -> /dev/disk/by-partuuid/999829bc-da62-442b-966c-7de661518cb4
[vmon3][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.HMmsoJ
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.HMmsoJ
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon3][INFO  ] checking OSD status...
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon3 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[ceph_deploy.mds][ERROR ] connecting to host: vmon1 resulted in errors: HostNotFound vmon1
[ceph_deploy][ERROR ] GenericError: Failed to create 1 MDSs

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[ceph_deploy.mds][ERROR ] remote connection got closed, ensure ``requiretty`` is disabled for vmon1
[ceph_deploy][ERROR ] GenericError: Failed to create 1 MDSs

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create path if it doesn't exist
[vmon1][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon1 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon1/keyring
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vstart32
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vstart32
[vstart32][DEBUG ] connection detected need for sudo
[vstart32][DEBUG ] connected to host: vstart32 
[vstart32][DEBUG ] detect platform information from remote host
[vstart32][DEBUG ] detect machine type
[vstart32][DEBUG ] get remote short hostname
[vstart32][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][ERROR ] OSError: [Errno 2] No such file or directory: '/etc/ceph/tmpfdtIJZ'
[ceph_deploy][ERROR ] GenericError: Failed to configure 1 admin hosts

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1 vmon2 vmon3
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] Package 'ceph-mds' is not installed, so not removed
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 3 to remove and 137 not upgraded.
[vmon1][DEBUG ] After this operation, 71.3 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58127 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][WARNING] #!/bin/sh -xv
[vmon1][WARNING] # Start/stop ceph daemons
[vmon1][WARNING] # chkconfig: 2345 60 80
[vmon1][WARNING] 
[vmon1][WARNING] ### BEGIN INIT INFO
[vmon1][WARNING] # Provides:          ceph
[vmon1][WARNING] # Default-Start:     2 3 4 5
[vmon1][WARNING] # Default-Stop:      0 1 6
[vmon1][WARNING] # Required-Start:    $remote_fs $named $network $time
[vmon1][WARNING] # Required-Stop:     $remote_fs $named $network $time
[vmon1][WARNING] # Short-Description: Start Ceph distributed file system daemons at boot time
[vmon1][WARNING] # Description:       Enable Ceph distributed file system services.
[vmon1][WARNING] ### END INIT INFO
[vmon1][WARNING] 
[vmon1][WARNING] . /lib/lsb/init-functions
[vmon1][WARNING] + . /lib/lsb/init-functions
[vmon1][WARNING] # /lib/lsb/init-functions for Debian -*- shell-script -*-
[vmon1][WARNING] #
[vmon1][WARNING] #Copyright (c) 2002-08 Chris Lawrence
[vmon1][WARNING] #All rights reserved.
[vmon1][WARNING] #
[vmon1][WARNING] #Redistribution and use in source and binary forms, with or without
[vmon1][WARNING] #modification, are permitted provided that the following conditions
[vmon1][WARNING] #are met:
[vmon1][WARNING] #1. Redistributions of source code must retain the above copyright
[vmon1][WARNING] #   notice, this list of conditions and the following disclaimer.
[vmon1][WARNING] #2. Redistributions in binary form must reproduce the above copyright
[vmon1][WARNING] #   notice, this list of conditions and the following disclaimer in the
[vmon1][WARNING] #   documentation and/or other materials provided with the distribution.
[vmon1][WARNING] #3. Neither the name of the author nor the names of other contributors
[vmon1][WARNING] #   may be used to endorse or promote products derived from this software
[vmon1][WARNING] #   without specific prior written permission.
[vmon1][WARNING] #
[vmon1][WARNING] #THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
[vmon1][WARNING] #IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
[vmon1][WARNING] #WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
[vmon1][WARNING] #ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE
[vmon1][WARNING] #LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
[vmon1][WARNING] #CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
[vmon1][WARNING] #SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
[vmon1][WARNING] #BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
[vmon1][WARNING] #WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
[vmon1][WARNING] #OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
[vmon1][WARNING] #EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
[vmon1][WARNING] 
[vmon1][WARNING] start_daemon () {
[vmon1][WARNING]     local force nice pidfile exec args OPTIND
[vmon1][WARNING]     force=""
[vmon1][WARNING]     nice=0
[vmon1][WARNING]     pidfile=/dev/null
[vmon1][WARNING] 
[vmon1][WARNING]     OPTIND=1
[vmon1][WARNING]     while getopts fn:p: opt ; do
[vmon1][WARNING]         case "$opt" in
[vmon1][WARNING]             f)  force="force";;
[vmon1][WARNING]             n)  nice="$OPTARG";;
[vmon1][WARNING]             p)  pidfile="$OPTARG";;
[vmon1][WARNING]         esac
[vmon1][WARNING]     done
[vmon1][WARNING]     
[vmon1][WARNING]     shift $(($OPTIND - 1))
[vmon1][WARNING]     if [ "$1" = '--' ]; then
[vmon1][WARNING]         shift
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     exec="$1"; shift
[vmon1][WARNING] 
[vmon1][WARNING]     args="--start --nicelevel $nice --quiet --oknodo"
[vmon1][WARNING]     if [ "$force" ]; then
[vmon1][WARNING]         /sbin/start-stop-daemon $args \
[vmon1][WARNING] 	    --chdir "$PWD" --startas $exec --pidfile /dev/null -- "$@"
[vmon1][WARNING]     elif [ $pidfile ]; then
[vmon1][WARNING]         /sbin/start-stop-daemon $args \
[vmon1][WARNING] 	    --chdir "$PWD" --exec $exec --oknodo --pidfile "$pidfile" -- "$@"
[vmon1][WARNING]     else
[vmon1][WARNING]         /sbin/start-stop-daemon $args --chdir "$PWD" --exec $exec -- "$@"
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] pidofproc () {
[vmon1][WARNING]     local pidfile base status specified pid OPTIND
[vmon1][WARNING]     pidfile=
[vmon1][WARNING]     specified=
[vmon1][WARNING]     
[vmon1][WARNING]     OPTIND=1
[vmon1][WARNING]     while getopts p: opt ; do
[vmon1][WARNING]         case "$opt" in
[vmon1][WARNING]             p)  pidfile="$OPTARG"
[vmon1][WARNING]                 specified="specified"
[vmon1][WARNING] 		;;
[vmon1][WARNING]         esac
[vmon1][WARNING]     done
[vmon1][WARNING]     shift $(($OPTIND - 1))
[vmon1][WARNING]     if [ $# -ne 1 ]; then
[vmon1][WARNING]         echo "$0: invalid arguments" >&2
[vmon1][WARNING]         return 4
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     base=${1##*/}
[vmon1][WARNING]     if [ ! "$specified" ]; then
[vmon1][WARNING]         pidfile="/var/run/$base.pid"
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     if [ -n "${pidfile:-}" -a -r "$pidfile" ]; then
[vmon1][WARNING]         read pid < "$pidfile"
[vmon1][WARNING]         if [ -n "${pid:-}" ]; then
[vmon1][WARNING]             if $(kill -0 "${pid:-}" 2> /dev/null); then
[vmon1][WARNING]                 echo "$pid" || true
[vmon1][WARNING]                 return 0
[vmon1][WARNING]             elif ps "${pid:-}" >/dev/null 2>&1; then
[vmon1][WARNING]                 echo "$pid" || true
[vmon1][WARNING]                 return 0 # program is running, but not owned by this user
[vmon1][WARNING]             else
[vmon1][WARNING]                 return 1 # program is dead and /var/run pid file exists
[vmon1][WARNING]             fi
[vmon1][WARNING]         fi
[vmon1][WARNING]     fi
[vmon1][WARNING]     if [ -n "$specified" ]; then
[vmon1][WARNING]         if [ -e "$pidfile" -a ! -r "$pidfile" ]; then
[vmon1][WARNING]             return 4 # pidfile exists, but unreadable, return unknown
[vmon1][WARNING]         else
[vmon1][WARNING]             return 3 # pidfile specified, but contains no PID to test
[vmon1][WARNING]         fi
[vmon1][WARNING]     fi
[vmon1][WARNING]     if [ -x /bin/pidof ]; then
[vmon1][WARNING]         status="0"
[vmon1][WARNING]         /bin/pidof -o %PPID -x $1 || status="$?"
[vmon1][WARNING]         if [ "$status" = 1 ]; then
[vmon1][WARNING]             return 3 # program is not running
[vmon1][WARNING]         fi
[vmon1][WARNING]         return 0
[vmon1][WARNING]     fi
[vmon1][WARNING]     return 4 # Unable to determine status
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # start-stop-daemon uses the same algorithm as "pidofproc" above.
[vmon1][WARNING] killproc () {
[vmon1][WARNING]     local pidfile sig status base name_param is_term_sig OPTIND
[vmon1][WARNING]     pidfile=
[vmon1][WARNING]     name_param=
[vmon1][WARNING]     is_term_sig=
[vmon1][WARNING] 
[vmon1][WARNING]     OPTIND=1
[vmon1][WARNING]     while getopts p: opt ; do
[vmon1][WARNING]         case "$opt" in
[vmon1][WARNING]             p)  pidfile="$OPTARG";;
[vmon1][WARNING]         esac
[vmon1][WARNING]     done
[vmon1][WARNING]     shift $(($OPTIND - 1))
[vmon1][WARNING] 
[vmon1][WARNING]     base=${1##*/}
[vmon1][WARNING]     if [ ! $pidfile ]; then
[vmon1][WARNING]         name_param="--name $base --pidfile /var/run/$base.pid"
[vmon1][WARNING]     else
[vmon1][WARNING]         name_param="--pidfile $pidfile"
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     sig=$(echo ${2:-} | sed -e 's/^-\(.*\)/\1/')
[vmon1][WARNING]     sig=$(echo $sig | sed -e 's/^SIG\(.*\)/\1/')
[vmon1][WARNING]     if [ "$sig" = 15 ] || [ "$sig" = TERM ]; then
[vmon1][WARNING]         is_term_sig="terminate_signal"
[vmon1][WARNING]     fi
[vmon1][WARNING]     status=0
[vmon1][WARNING]     if [ ! "$is_term_sig" ]; then
[vmon1][WARNING]         if [ -n "$sig" ]; then
[vmon1][WARNING]             /sbin/start-stop-daemon --stop --signal "$sig" \
[vmon1][WARNING] 		--quiet $name_param || status="$?"
[vmon1][WARNING]         else
[vmon1][WARNING]             /sbin/start-stop-daemon --stop \
[vmon1][WARNING] 		--retry 5 \
[vmon1][WARNING] 		--quiet $name_param || status="$?"
[vmon1][WARNING]         fi
[vmon1][WARNING]     else
[vmon1][WARNING]         /sbin/start-stop-daemon --stop --quiet \
[vmon1][WARNING] 	    --oknodo $name_param || status="$?"
[vmon1][WARNING]     fi
[vmon1][WARNING]     if [ "$status" = 1 ]; then
[vmon1][WARNING]         if [ -z "$sig" ]; then
[vmon1][WARNING]             return 0
[vmon1][WARNING]         fi
[vmon1][WARNING]         return 3 # program is not running
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     if [ "$status" = 0 ] && [ "$is_term_sig" ] && [ "$pidfile" ]; then
[vmon1][WARNING]         pidofproc -p "$pidfile" "$1" >/dev/null || rm -f "$pidfile"
[vmon1][WARNING]     fi
[vmon1][WARNING]     return 0
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # Return LSB status
[vmon1][WARNING] status_of_proc () {
[vmon1][WARNING]     local pidfile daemon name status OPTIND
[vmon1][WARNING] 
[vmon1][WARNING]     pidfile=
[vmon1][WARNING]     OPTIND=1
[vmon1][WARNING]     while getopts p: opt ; do
[vmon1][WARNING]         case "$opt" in
[vmon1][WARNING]             p)  pidfile="$OPTARG";;
[vmon1][WARNING]         esac
[vmon1][WARNING]     done
[vmon1][WARNING]     shift $(($OPTIND - 1))
[vmon1][WARNING] 
[vmon1][WARNING]     if [ -n "$pidfile" ]; then
[vmon1][WARNING]         pidfile="-p $pidfile"
[vmon1][WARNING]     fi
[vmon1][WARNING]     daemon="$1"
[vmon1][WARNING]     name="$2"
[vmon1][WARNING] 
[vmon1][WARNING]     status="0"
[vmon1][WARNING]     pidofproc $pidfile $daemon >/dev/null || status="$?"
[vmon1][WARNING]     if [ "$status" = 0 ]; then
[vmon1][WARNING]         log_success_msg "$name is running"
[vmon1][WARNING]         return 0
[vmon1][WARNING]     elif [ "$status" = 4 ]; then
[vmon1][WARNING]         log_failure_msg "could not access PID file for $name"
[vmon1][WARNING]         return $status
[vmon1][WARNING]     else
[vmon1][WARNING]         log_failure_msg "$name is not running"
[vmon1][WARNING]         return $status
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_use_fancy_output () {
[vmon1][WARNING]     TPUT=/usr/bin/tput
[vmon1][WARNING]     EXPR=/usr/bin/expr
[vmon1][WARNING]     if  [ -t 1 ] &&
[vmon1][WARNING] 	[ "x${TERM:-}" != "x" ] &&
[vmon1][WARNING] 	[ "x${TERM:-}" != "xdumb" ] &&
[vmon1][WARNING] 	[ -x $TPUT ] && [ -x $EXPR ] &&
[vmon1][WARNING] 	$TPUT hpa 60 >/dev/null 2>&1 &&
[vmon1][WARNING] 	$TPUT setaf 1 >/dev/null 2>&1
[vmon1][WARNING]     then
[vmon1][WARNING]         [ -z $FANCYTTY ] && FANCYTTY=1 || true
[vmon1][WARNING]     else
[vmon1][WARNING]         FANCYTTY=0
[vmon1][WARNING]     fi
[vmon1][WARNING]     case "$FANCYTTY" in
[vmon1][WARNING]         1|Y|yes|true)   true;;
[vmon1][WARNING]         *)              false;;
[vmon1][WARNING]     esac
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_success_msg () {
[vmon1][WARNING]     if [ -n "${1:-}" ]; then
[vmon1][WARNING]         log_begin_msg $@
[vmon1][WARNING]     fi
[vmon1][WARNING]     log_end_msg 0
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_failure_msg () {
[vmon1][WARNING]     if [ -n "${1:-}" ]; then
[vmon1][WARNING]         log_begin_msg $@ "..."
[vmon1][WARNING]     fi
[vmon1][WARNING]     log_end_msg 1 || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_warning_msg () {
[vmon1][WARNING]     if [ -n "${1:-}" ]; then
[vmon1][WARNING]         log_begin_msg $@ "..."
[vmon1][WARNING]     fi
[vmon1][WARNING]     log_end_msg 255 || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] #
[vmon1][WARNING] # NON-LSB HELPER FUNCTIONS
[vmon1][WARNING] #
[vmon1][WARNING] # int get_lsb_header_val (char *scriptpathname, char *key)
[vmon1][WARNING] get_lsb_header_val () {
[vmon1][WARNING]         if [ ! -f "$1" ] || [ -z "${2:-}" ]; then
[vmon1][WARNING]                 return 1
[vmon1][WARNING]         fi
[vmon1][WARNING]         LSB_S="### BEGIN INIT INFO"
[vmon1][WARNING]         LSB_E="### END INIT INFO"
[vmon1][WARNING]         sed -n "/$LSB_S/,/$LSB_E/ s/# $2: \(.*\)/\1/p" $1
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # If the currently running init daemon is upstart, return zero; if the
[vmon1][WARNING] # calling init script belongs to a package which also provides a native
[vmon1][WARNING] # upstart job, it should generally exit non-zero in this case.
[vmon1][WARNING] init_is_upstart()
[vmon1][WARNING] {
[vmon1][WARNING]    if [ -x /sbin/initctl ] && /sbin/initctl version 2>/dev/null | /bin/grep -q upstart; then
[vmon1][WARNING]        return 0
[vmon1][WARNING]    fi
[vmon1][WARNING]    return 1
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # int log_begin_message (char *message)
[vmon1][WARNING] log_begin_msg () {
[vmon1][WARNING]     log_begin_msg_pre "$@"
[vmon1][WARNING]     if [ -z "${1:-}" ]; then
[vmon1][WARNING]         return 1
[vmon1][WARNING]     fi
[vmon1][WARNING]     echo -n "$@" || true
[vmon1][WARNING]     log_begin_msg_post "$@"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # Sample usage:
[vmon1][WARNING] # log_daemon_msg "Starting GNOME Login Manager" "gdm"
[vmon1][WARNING] #
[vmon1][WARNING] # On Debian, would output "Starting GNOME Login Manager: gdm"
[vmon1][WARNING] # On Ubuntu, would output " * Starting GNOME Login Manager..."
[vmon1][WARNING] #
[vmon1][WARNING] # If the second argument is omitted, logging suitable for use with
[vmon1][WARNING] # log_progress_msg() is used:
[vmon1][WARNING] #
[vmon1][WARNING] # log_daemon_msg "Starting remote filesystem services"
[vmon1][WARNING] #
[vmon1][WARNING] # On Debian, would output "Starting remote filesystem services:"
[vmon1][WARNING] # On Ubuntu, would output " * Starting remote filesystem services..."
[vmon1][WARNING] 
[vmon1][WARNING] log_daemon_msg () {
[vmon1][WARNING]     if [ -z "${1:-}" ]; then
[vmon1][WARNING]         return 1
[vmon1][WARNING]     fi
[vmon1][WARNING]     log_daemon_msg_pre "$@"
[vmon1][WARNING] 
[vmon1][WARNING]     if [ -z "${2:-}" ]; then
[vmon1][WARNING]         echo -n "$1:" || true
[vmon1][WARNING]         return
[vmon1][WARNING]     fi
[vmon1][WARNING]     
[vmon1][WARNING]     echo -n "$1: $2" || true
[vmon1][WARNING]     log_daemon_msg_post "$@"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # #319739
[vmon1][WARNING] #
[vmon1][WARNING] # Per policy docs:
[vmon1][WARNING] #
[vmon1][WARNING] #     log_daemon_msg "Starting remote file system services"
[vmon1][WARNING] #     log_progress_msg "nfsd"; start-stop-daemon --start --quiet nfsd
[vmon1][WARNING] #     log_progress_msg "mountd"; start-stop-daemon --start --quiet mountd
[vmon1][WARNING] #     log_progress_msg "ugidd"; start-stop-daemon --start --quiet ugidd
[vmon1][WARNING] #     log_end_msg 0
[vmon1][WARNING] #
[vmon1][WARNING] # You could also do something fancy with log_end_msg here based on the
[vmon1][WARNING] # return values of start-stop-daemon; this is left as an exercise for
[vmon1][WARNING] # the reader...
[vmon1][WARNING] #
[vmon1][WARNING] # On Ubuntu, one would expect log_progress_msg to be a no-op.
[vmon1][WARNING] log_progress_msg () {
[vmon1][WARNING]     if [ -z "${1:-}" ]; then
[vmon1][WARNING]         return 1
[vmon1][WARNING]     fi
[vmon1][WARNING]     echo -n " $@" || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] 
[vmon1][WARNING] # int log_end_message (int exitstatus)
[vmon1][WARNING] log_end_msg () {
[vmon1][WARNING]     # If no arguments were passed, return
[vmon1][WARNING]     if [ -z "${1:-}" ]; then
[vmon1][WARNING]         return 1
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     local retval
[vmon1][WARNING]     retval=$1
[vmon1][WARNING] 
[vmon1][WARNING]     log_end_msg_pre "$@"
[vmon1][WARNING] 
[vmon1][WARNING]     # Only do the fancy stuff if we have an appropriate terminal
[vmon1][WARNING]     # and if /usr is already mounted
[vmon1][WARNING]     if log_use_fancy_output; then
[vmon1][WARNING]         RED=$( $TPUT setaf 1)
[vmon1][WARNING]         YELLOW=$( $TPUT setaf 3)
[vmon1][WARNING]         NORMAL=$( $TPUT op)
[vmon1][WARNING]     else
[vmon1][WARNING]         RED=''
[vmon1][WARNING]         YELLOW=''
[vmon1][WARNING]         NORMAL=''
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     if [ $1 -eq 0 ]; then
[vmon1][WARNING]         echo "." || true
[vmon1][WARNING]     elif [ $1 -eq 255 ]; then
[vmon1][WARNING]         /bin/echo -e " ${YELLOW}(warning).${NORMAL}" || true
[vmon1][WARNING]     else
[vmon1][WARNING]         /bin/echo -e " ${RED}failed!${NORMAL}" || true
[vmon1][WARNING]     fi
[vmon1][WARNING]     log_end_msg_post "$@"
[vmon1][WARNING]     return $retval
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_msg () {
[vmon1][WARNING]     log_action_msg_pre "$@"
[vmon1][WARNING]     echo "$@." || true
[vmon1][WARNING]     log_action_msg_post "$@"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_begin_msg () {
[vmon1][WARNING]     log_action_begin_msg_pre "$@"
[vmon1][WARNING]     echo -n "$@..." || true
[vmon1][WARNING]     log_action_begin_msg_post "$@"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_cont_msg () {
[vmon1][WARNING]     echo -n "$@..." || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_end_msg () {
[vmon1][WARNING]     local end
[vmon1][WARNING]     log_action_end_msg_pre "$@"
[vmon1][WARNING]     if [ -z "${2:-}" ]; then
[vmon1][WARNING]         end="."
[vmon1][WARNING]     else
[vmon1][WARNING]         end=" ($2)."
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     if [ $1 -eq 0 ]; then
[vmon1][WARNING]         echo "done${end}" || true
[vmon1][WARNING]     else
[vmon1][WARNING]         if log_use_fancy_output; then
[vmon1][WARNING]             RED=$( $TPUT setaf 1)
[vmon1][WARNING]             NORMAL=$( $TPUT op)
[vmon1][WARNING]             /bin/echo -e "${RED}failed${end}${NORMAL}" || true
[vmon1][WARNING]         else
[vmon1][WARNING]             echo "failed${end}" || true
[vmon1][WARNING]         fi
[vmon1][WARNING]     fi
[vmon1][WARNING]     log_action_end_msg_post "$@"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # Pre&Post empty function declaration, to be overriden from /lib/lsb/init-functions.d/*
[vmon1][WARNING] log_daemon_msg_pre () { :; }
[vmon1][WARNING] log_daemon_msg_post () { :; }
[vmon1][WARNING] log_begin_msg_pre () { :; }
[vmon1][WARNING] log_begin_msg_post () { :; }
[vmon1][WARNING] log_end_msg_pre () { :; }
[vmon1][WARNING] log_end_msg_post () { :; }
[vmon1][WARNING] log_action_msg_pre () { :; }
[vmon1][WARNING] log_action_msg_post () { :; }
[vmon1][WARNING] log_action_begin_msg_pre () { :; }
[vmon1][WARNING] log_action_begin_msg_post () { :; }
[vmon1][WARNING] log_action_end_msg_pre () { :; }
[vmon1][WARNING] log_action_end_msg_post () { :; }
[vmon1][WARNING] 
[vmon1][WARNING] # Include hooks from other packages in /lib/lsb/init-functions.d
[vmon1][WARNING] for hook in $(run-parts --lsbsysinit --list /lib/lsb/init-functions.d 2>/dev/null); do
[vmon1][WARNING]     [ -r $hook ] && . $hook || true
[vmon1][WARNING] done
[vmon1][WARNING] + run-parts --lsbsysinit --list /lib/lsb/init-functions.d
[vmon1][WARNING] + [ -r /lib/lsb/init-functions.d/20-left-info-blocks ]
[vmon1][WARNING] + . /lib/lsb/init-functions.d/20-left-info-blocks
[vmon1][WARNING] # Default info blocks put to the left of the screen
[vmon1][WARNING] log_daemon_msg_pre () {
[vmon1][WARNING]     if log_use_fancy_output; then
[vmon1][WARNING]         /bin/echo -n "[....] " || true
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] log_begin_msg_pre () {
[vmon1][WARNING]     log_daemon_msg_pre "$@"
[vmon1][WARNING] }
[vmon1][WARNING] log_end_msg_pre () {
[vmon1][WARNING]     if log_use_fancy_output; then
[vmon1][WARNING]         RED=$( $TPUT setaf 1)
[vmon1][WARNING]         GREEN=$( $TPUT setaf 2)
[vmon1][WARNING]         YELLOW=$( $TPUT setaf 3)
[vmon1][WARNING]         NORMAL=$( $TPUT op)
[vmon1][WARNING] 
[vmon1][WARNING]         $TPUT civis || true
[vmon1][WARNING]         $TPUT sc && \
[vmon1][WARNING]         $TPUT hpa 0 && \
[vmon1][WARNING]         if [ $1 -eq 0 ]; then
[vmon1][WARNING]             /bin/echo -ne "[${GREEN} ok ${NORMAL}" || true
[vmon1][WARNING]         elif [ $1 -eq 255 ]; then
[vmon1][WARNING]             /bin/echo -ne "[${YELLOW}warn${NORMAL}" || true
[vmon1][WARNING]         else
[vmon1][WARNING]             /bin/echo -ne "[${RED}FAIL${NORMAL}" || true
[vmon1][WARNING]         fi && \
[vmon1][WARNING]         $TPUT rc || true
[vmon1][WARNING]         $TPUT cnorm || true
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] log_action_msg_pre () {
[vmon1][WARNING]     if log_use_fancy_output; then
[vmon1][WARNING]         CYAN=$( $TPUT setaf 6)
[vmon1][WARNING]         NORMAL=$( $TPUT op)
[vmon1][WARNING]         /bin/echo -ne "[${CYAN}info${NORMAL}] " || true
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] log_action_begin_msg_pre () {
[vmon1][WARNING]     log_daemon_msg_pre "$@"
[vmon1][WARNING] }
[vmon1][WARNING] log_action_end_msg_pre () {
[vmon1][WARNING]     log_end_msg_pre "$@"
[vmon1][WARNING] }
[vmon1][WARNING] + [ -r /lib/lsb/init-functions.d/50-ubuntu-logging ]
[vmon1][WARNING] + . /lib/lsb/init-functions.d/50-ubuntu-logging
[vmon1][WARNING] # Default init script logging functions suitable for Ubuntu.
[vmon1][WARNING] # See /lib/lsb/init-functions for usage help.
[vmon1][WARNING] LOG_DAEMON_MSG=""
[vmon1][WARNING] + LOG_DAEMON_MSG=
[vmon1][WARNING] 
[vmon1][WARNING] log_use_plymouth () {
[vmon1][WARNING]     if [ "${loop:-n}" = y ]; then
[vmon1][WARNING]         return 1
[vmon1][WARNING]     fi
[vmon1][WARNING]     plymouth --ping >/dev/null 2>&1
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_success_msg () {
[vmon1][WARNING]     echo " * $@" || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_failure_msg () {
[vmon1][WARNING]     if log_use_fancy_output; then
[vmon1][WARNING]         RED=`$TPUT setaf 1`
[vmon1][WARNING]         NORMAL=`$TPUT op`
[vmon1][WARNING]         echo " $RED*$NORMAL $@" || true
[vmon1][WARNING]     else
[vmon1][WARNING]         echo " * $@" || true
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_warning_msg () {
[vmon1][WARNING]     if log_use_fancy_output; then
[vmon1][WARNING]         YELLOW=`$TPUT setaf 3`
[vmon1][WARNING]         NORMAL=`$TPUT op`
[vmon1][WARNING]         echo " $YELLOW*$NORMAL $@" || true
[vmon1][WARNING]     else
[vmon1][WARNING]         echo " * $@" || true
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_begin_msg () {
[vmon1][WARNING]     log_daemon_msg "$1"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_daemon_msg () {
[vmon1][WARNING]     if [ -z "$1" ]; then
[vmon1][WARNING]         return 1
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     if log_use_fancy_output && $TPUT xenl >/dev/null 2>&1; then
[vmon1][WARNING]         COLS=`$TPUT cols`
[vmon1][WARNING]         if [ "$COLS" ] && [ "$COLS" -gt 6 ]; then
[vmon1][WARNING]             COL=`$EXPR $COLS - 7`
[vmon1][WARNING]         else
[vmon1][WARNING]             COLS=80
[vmon1][WARNING]             COL=73
[vmon1][WARNING]         fi
[vmon1][WARNING] 
[vmon1][WARNING]         if log_use_plymouth; then
[vmon1][WARNING]             # If plymouth is running, don't output anything at this time
[vmon1][WARNING]             # to avoid buffering problems (LP: #752393)
[vmon1][WARNING]             if [ -z "$LOG_DAEMON_MSG" ]; then
[vmon1][WARNING]                 LOG_DAEMON_MSG=$*
[vmon1][WARNING]                 return
[vmon1][WARNING]             fi
[vmon1][WARNING]         fi
[vmon1][WARNING] 
[vmon1][WARNING]         # We leave the cursor `hanging' about-to-wrap (see terminfo(5)
[vmon1][WARNING]         # xenl, which is approximately right). That way if the script
[vmon1][WARNING]         # prints anything then we will be on the next line and not
[vmon1][WARNING]         # overwrite part of the message.
[vmon1][WARNING] 
[vmon1][WARNING]         # Previous versions of this code attempted to colour-code the
[vmon1][WARNING]         # asterisk but this can't be done reliably because in practice
[vmon1][WARNING]         # init scripts sometimes print messages even when they succeed
[vmon1][WARNING]         # and we won't be able to reliably know where the colourful
[vmon1][WARNING]         # asterisk ought to go.
[vmon1][WARNING] 
[vmon1][WARNING]         printf " * $*       " || true
[vmon1][WARNING]         # Enough trailing spaces for ` [fail]' to fit in; if the message
[vmon1][WARNING]         # is too long it wraps here rather than later, which is what we
[vmon1][WARNING]         # want.
[vmon1][WARNING]         $TPUT hpa `$EXPR $COLS - 1` || true
[vmon1][WARNING]         printf ' ' || true
[vmon1][WARNING]     else
[vmon1][WARNING]         echo " * $@" || true
[vmon1][WARNING]         COL=
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_progress_msg () {
[vmon1][WARNING]     :
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_end_msg () {
[vmon1][WARNING]     if [ -z "$1" ]; then
[vmon1][WARNING]         return 1
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     if [ "$COL" ] && [ -x "$TPUT" ]; then
[vmon1][WARNING]         # If plymouth is running, print previously stored output
[vmon1][WARNING]         # to avoid buffering problems (LP: #752393)
[vmon1][WARNING]         if log_use_plymouth; then
[vmon1][WARNING]             if [ -n "$LOG_DAEMON_MSG" ]; then
[vmon1][WARNING]                 log_daemon_msg $LOG_DAEMON_MSG
[vmon1][WARNING]                 LOG_DAEMON_MSG=""
[vmon1][WARNING]             fi
[vmon1][WARNING]         fi
[vmon1][WARNING] 
[vmon1][WARNING]         printf "\r" || true
[vmon1][WARNING]         $TPUT hpa $COL
[vmon1][WARNING]         if [ "$1" -eq 0 ]; then
[vmon1][WARNING]             echo "[ OK ]" || true
[vmon1][WARNING]         else
[vmon1][WARNING]             printf '[' || true
[vmon1][WARNING]             $TPUT setaf 1 || true # red
[vmon1][WARNING]             printf fail || true
[vmon1][WARNING]             $TPUT op || true # normal
[vmon1][WARNING]             echo ']' || true
[vmon1][WARNING]         fi
[vmon1][WARNING]     else
[vmon1][WARNING]         if [ "$1" -eq 0 ]; then
[vmon1][WARNING]             echo "   ...done." || true
[vmon1][WARNING]         else
[vmon1][WARNING]             echo "   ...fail!" || true
[vmon1][WARNING]         fi
[vmon1][WARNING]     fi
[vmon1][WARNING]     return $1
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_msg () {
[vmon1][WARNING]     echo " * $@" || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_begin_msg () {
[vmon1][WARNING]     log_daemon_msg "$@..." || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_cont_msg () {
[vmon1][WARNING]     log_daemon_msg "$@..." || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] log_action_end_msg () {
[vmon1][WARNING]     # In the future this may do something with $2 as well.
[vmon1][WARNING]     log_end_msg "$1" || true
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] FANCYTTY=
[vmon1][WARNING] + FANCYTTY=
[vmon1][WARNING] [ -e /etc/lsb-base-logging.sh ] && . /etc/lsb-base-logging.sh || true
[vmon1][WARNING] + [ -e /etc/lsb-base-logging.sh ]
[vmon1][WARNING] + true
[vmon1][WARNING] 
[vmon1][WARNING] # if we start up as ./init-ceph, assume everything else is in the
[vmon1][WARNING] # current directory too.
[vmon1][WARNING] if [ `dirname $0` = "." ] && [ $PWD != "/etc/init.d" ]; then
[vmon1][WARNING]     BINDIR=.
[vmon1][WARNING]     SBINDIR=.
[vmon1][WARNING]     LIBDIR=.
[vmon1][WARNING]     ETCDIR=.
[vmon1][WARNING] else
[vmon1][WARNING]     BINDIR=/usr/bin
[vmon1][WARNING]     SBINDIR=/usr/sbin
[vmon1][WARNING]     LIBDIR=/usr/lib/ceph
[vmon1][WARNING]     ETCDIR=/etc/ceph
[vmon1][WARNING] fi
[vmon1][WARNING] + dirname /etc/init.d/ceph
[vmon1][WARNING] + [ /etc/init.d = . ]
[vmon1][WARNING] + BINDIR=/usr/bin
[vmon1][WARNING] + SBINDIR=/usr/sbin
[vmon1][WARNING] + LIBDIR=/usr/lib/ceph
[vmon1][WARNING] + ETCDIR=/etc/ceph
[vmon1][WARNING] 
[vmon1][WARNING] usage_exit() {
[vmon1][WARNING]     echo "usage: $0 [options] {start|stop|restart|condrestart} [mon|osd|mds]..."
[vmon1][WARNING]     printf "\t-c ceph.conf\n"
[vmon1][WARNING]     printf "\t--cluster [cluster name]\tdefine the cluster name\n"
[vmon1][WARNING]     printf "\t--valgrind\trun via valgrind\n"
[vmon1][WARNING]     printf "\t--hostname [hostname]\toverride hostname lookup\n"
[vmon1][WARNING]     exit
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] # behave if we are not completely installed (e.g., Debian "removed,
[vmon1][WARNING] # config remains" state)
[vmon1][WARNING] test -f $LIBDIR/ceph_common.sh || exit 0
[vmon1][WARNING] + test -f /usr/lib/ceph/ceph_common.sh
[vmon1][WARNING] 
[vmon1][WARNING] . $LIBDIR/ceph_common.sh
[vmon1][WARNING] + . /usr/lib/ceph/ceph_common.sh
[vmon1][WARNING] #!/bin/sh
[vmon1][WARNING] 
[vmon1][WARNING] CCONF="$BINDIR/ceph-conf"
[vmon1][WARNING] + CCONF=/usr/bin/ceph-conf
[vmon1][WARNING] 
[vmon1][WARNING] default_conf=$ETCDIR"/ceph.conf"
[vmon1][WARNING] + default_conf=/etc/ceph/ceph.conf
[vmon1][WARNING] conf=$default_conf
[vmon1][WARNING] + conf=/etc/ceph/ceph.conf
[vmon1][WARNING] 
[vmon1][WARNING] hostname=`hostname -s`
[vmon1][WARNING] + hostname -s
[vmon1][WARNING] + hostname=vmon1
[vmon1][WARNING] 
[vmon1][WARNING] verify_conf() {
[vmon1][WARNING]     # fetch conf?
[vmon1][WARNING]     if [ -x "$ETCDIR/fetch_config" ] && [ "$conf" = "$default_conf" ]; then
[vmon1][WARNING] 	conf="/tmp/fetched.ceph.conf.$$"
[vmon1][WARNING] 	echo "[$ETCDIR/fetch_config $conf]"
[vmon1][WARNING] 	if $ETCDIR/fetch_config $conf && [ -e $conf ]; then true ; else
[vmon1][WARNING] 	    echo "$0: failed to fetch config with '$ETCDIR/fetch_config $conf'"
[vmon1][WARNING] 	    exit 1
[vmon1][WARNING] 	fi
[vmon1][WARNING] 	# yay!
[vmon1][WARNING]     else
[vmon1][WARNING]         # make sure ceph.conf exists
[vmon1][WARNING] 	if [ ! -e $conf ]; then
[vmon1][WARNING] 	    if [ "$conf" = "$default_conf" ]; then
[vmon1][WARNING] 		echo "$0: ceph conf $conf not found; system is not configured."
[vmon1][WARNING] 		exit 0
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 	    echo "$0: ceph conf $conf not found!"
[vmon1][WARNING] 	    usage_exit
[vmon1][WARNING] 	fi
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] 
[vmon1][WARNING] check_host() {
[vmon1][WARNING]     # what host is this daemon assigned to?
[vmon1][WARNING]     host=`$CCONF -c $conf -n $type.$id host`
[vmon1][WARNING]     if [ "$host" = "localhost" ]; then
[vmon1][WARNING] 	echo "$0: use a proper short hostname (hostname -s), not 'localhost', in $conf section $type.$id; skipping entry"
[vmon1][WARNING] 	return 1
[vmon1][WARNING]     fi
[vmon1][WARNING]     if expr match "$host" '.*\.' > /dev/null 2>&1; then
[vmon1][WARNING] 	echo "$0: $conf section $type.$id"
[vmon1][WARNING] 	echo "contains host=$host, which contains dots; this is probably wrong"
[vmon1][WARNING] 	echo "It must match the result of hostname -s"
[vmon1][WARNING]     fi
[vmon1][WARNING]     ssh=""
[vmon1][WARNING]     rootssh=""
[vmon1][WARNING]     sshdir=$PWD
[vmon1][WARNING]     get_conf user "" "user"
[vmon1][WARNING] 
[vmon1][WARNING]     #echo host for $name is $host, i am $hostname
[vmon1][WARNING] 
[vmon1][WARNING]     cluster=$1
[vmon1][WARNING]     if [ -e "/var/lib/ceph/$type/$cluster-$id/upstart" ]; then
[vmon1][WARNING] 	return 1
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     # sysvinit managed instance in standard location?
[vmon1][WARNING]     if [ -e "/var/lib/ceph/$type/$cluster-$id/sysvinit" ]; then
[vmon1][WARNING] 	host="$hostname"
[vmon1][WARNING] 	echo "=== $type.$id === "
[vmon1][WARNING] 	return 0
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     # ignore all sections without 'host' defined
[vmon1][WARNING]     if [ -z "$host" ]; then
[vmon1][WARNING] 	return 1
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     if [ "$host" != "$hostname" ]; then
[vmon1][WARNING] 	# skip, unless we're starting remote daemons too
[vmon1][WARNING] 	if [ $allhosts -eq 0 ]; then
[vmon1][WARNING] 	    return 1
[vmon1][WARNING] 	fi
[vmon1][WARNING] 
[vmon1][WARNING] 	# we'll need to ssh into that host
[vmon1][WARNING] 	if [ -z "$user" ]; then
[vmon1][WARNING] 	    ssh="ssh $host"
[vmon1][WARNING] 	else
[vmon1][WARNING] 	    ssh="ssh $user@$host"
[vmon1][WARNING] 	fi
[vmon1][WARNING] 	rootssh="ssh root@$host"
[vmon1][WARNING] 	get_conf sshdir "$sshdir" "ssh path"
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     echo "=== $type.$id === "
[vmon1][WARNING] 
[vmon1][WARNING]     return 0
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] do_cmd() {
[vmon1][WARNING]     if [ -z "$ssh" ]; then
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $host# $1"
[vmon1][WARNING] 	ulimit -c unlimited
[vmon1][WARNING] 	whoami=`whoami`
[vmon1][WARNING] 	if [ "$whoami" = "$user" ] || [ -z "$user" ]; then
[vmon1][WARNING] 	    bash -c "$1" || { [ -z "$3" ] && echo "failed: '$1'" && exit 1; }
[vmon1][WARNING] 	else
[vmon1][WARNING] 	    sudo su $user -c "$1" || { [ -z "$3" ] && echo "failed: '$1'" && exit 1; }
[vmon1][WARNING] 	fi
[vmon1][WARNING]     else
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $ssh $2 \"if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi; cd $sshdir ; ulimit -c unlimited ; $1\""
[vmon1][WARNING] 	$ssh $2 "if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi; cd $sshdir ; ulimit -c unlimited ; $1" || { [ -z "$3" ] && echo "failed: '$ssh $1'" && exit 1; }
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] do_cmd_okfail() {
[vmon1][WARNING]     ERR=0
[vmon1][WARNING]     if [ -z "$ssh" ]; then
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $host# $1"
[vmon1][WARNING] 	ulimit -c unlimited
[vmon1][WARNING] 	whoami=`whoami`
[vmon1][WARNING] 	if [ "$whoami" = "$user" ] || [ -z "$user" ]; then
[vmon1][WARNING] 	    bash -c "$1" || { [ -z "$3" ] && echo "failed: '$1'" && ERR=1 && return 1; }
[vmon1][WARNING] 	else
[vmon1][WARNING] 	    sudo su $user -c "$1" || { [ -z "$3" ] && echo "failed: '$1'" && ERR=1 && return 1; }
[vmon1][WARNING] 	fi
[vmon1][WARNING]     else
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $ssh $2 \"if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi; cd $sshdir ; ulimit -c unlimited ; $1\""
[vmon1][WARNING] 	$ssh $2 "if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi; cd $sshdir ; ulimit -c unlimited ; $1" || { [ -z "$3" ] && echo "failed: '$ssh $1'" && ERR=1 && return 1; }
[vmon1][WARNING]     fi
[vmon1][WARNING]     return 0
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] do_root_cmd() {
[vmon1][WARNING]     if [ -z "$ssh" ]; then
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $host# $1"
[vmon1][WARNING] 	ulimit -c unlimited
[vmon1][WARNING] 	whoami=`whoami`
[vmon1][WARNING] 	if [ "$whoami" = "root" ]; then
[vmon1][WARNING] 	    bash -c "$1" || { echo "failed: '$1'" ; exit 1; }
[vmon1][WARNING] 	else
[vmon1][WARNING] 	    sudo bash -c "$1" || { echo "failed: '$1'" ; exit 1; }
[vmon1][WARNING] 	fi
[vmon1][WARNING]     else
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $rootssh $2 \"if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi ; cd $sshdir ; ulimit -c unlimited ; $1\""
[vmon1][WARNING] 	$rootssh $2 "if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi ; cd $sshdir; ulimit -c unlimited ; $1" || { echo "failed: '$rootssh $1'" ; exit 1; }
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] do_root_cmd_okfail() {
[vmon1][WARNING]     ERR=0
[vmon1][WARNING]     if [ -z "$ssh" ]; then
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $host# $1"
[vmon1][WARNING] 	ulimit -c unlimited
[vmon1][WARNING] 	whoami=`whoami`
[vmon1][WARNING] 	if [ "$whoami" = "root" ]; then
[vmon1][WARNING] 	    bash -c "$1" || { [ -z "$3" ] && echo "failed: '$1'" && ERR=1 && return 1; }
[vmon1][WARNING] 	else
[vmon1][WARNING] 	    sudo bash -c "$1" || { [ -z "$3" ] && echo "failed: '$1'" && ERR=1 && return 1; }
[vmon1][WARNING] 	fi
[vmon1][WARNING]     else
[vmon1][WARNING] 	[ $verbose -eq 1 ] && echo "--- $rootssh $2 \"if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi; cd $sshdir ; ulimit -c unlimited ; $1\""
[vmon1][WARNING] 	$rootssh $2 "if [ ! -d $sshdir ]; then mkdir -p $sshdir; fi; cd $sshdir ; ulimit -c unlimited ; $1" || { [ -z "$3" ] && echo "failed: '$rootssh $1'" && ERR=1 && return 1; }
[vmon1][WARNING]     fi
[vmon1][WARNING]     return 0
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] get_local_daemon_list() {
[vmon1][WARNING]     type=$1
[vmon1][WARNING]     if [ -d "/var/lib/ceph/$type" ]; then
[vmon1][WARNING] 	for i in `find -L /var/lib/ceph/$type -mindepth 1 -maxdepth 1 -type d -printf '%f\n'`; do
[vmon1][WARNING] 	    if [ -e "/var/lib/ceph/$type/$i/sysvinit" ]; then
[vmon1][WARNING] 		id=`echo $i | sed 's/[^-]*-//'`
[vmon1][WARNING] 		local="$local $type.$id"
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 	done
[vmon1][WARNING]     fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] get_local_name_list() {
[vmon1][WARNING]     # enumerate local directories
[vmon1][WARNING]     local=""
[vmon1][WARNING]     get_local_daemon_list "mon"
[vmon1][WARNING]     get_local_daemon_list "osd"
[vmon1][WARNING]     get_local_daemon_list "mds"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] get_name_list() {
[vmon1][WARNING]     orig="$*"
[vmon1][WARNING] 
[vmon1][WARNING]     # extract list of monitors, mdss, osds defined in startup.conf
[vmon1][WARNING]     allconf="$local "`$CCONF -c $conf -l mon | egrep -v '^mon$' || true ; \
[vmon1][WARNING] 	$CCONF -c $conf -l mds | egrep -v '^mds$' || true ; \
[vmon1][WARNING] 	$CCONF -c $conf -l osd | egrep -v '^osd$' || true`
[vmon1][WARNING] 
[vmon1][WARNING]     if [ -z "$orig" ]; then
[vmon1][WARNING] 	what="$allconf"
[vmon1][WARNING] 	return
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     what=""
[vmon1][WARNING]     for f in $orig; do
[vmon1][WARNING] 	type=`echo $f | cut -c 1-3`   # e.g. 'mon', if $item is 'mon1'
[vmon1][WARNING] 	id=`echo $f | cut -c 4- | sed 's/\\.//'`
[vmon1][WARNING] 	case $f in
[vmon1][WARNING] 	    mon | osd | mds)
[vmon1][WARNING] 		for d in $allconf; do
[vmon1][WARNING] 		    if echo $d | grep -q ^$type; then
[vmon1][WARNING] 			what="$what $d"
[vmon1][WARNING] 		    fi
[vmon1][WARNING] 		done
[vmon1][WARNING] 		;;
[vmon1][WARNING] 	    *)
[vmon1][WARNING] 		if ! echo " " $allconf $local " " | egrep -q "( $type$id | $type.$id )"; then
[vmon1][WARNING] 		    echo "$0: $type.$id not found ($conf defines" $allconf", /var/lib/ceph defines" $local")"
[vmon1][WARNING] 		    exit 1
[vmon1][WARNING] 		fi
[vmon1][WARNING] 		what="$what $f"
[vmon1][WARNING] 		;;
[vmon1][WARNING] 	esac
[vmon1][WARNING]     done
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] get_conf() {
[vmon1][WARNING] 	var=$1
[vmon1][WARNING] 	def=$2
[vmon1][WARNING] 	key=$3
[vmon1][WARNING] 	shift; shift; shift
[vmon1][WARNING] 
[vmon1][WARNING] 	if [ -z "$1" ]; then
[vmon1][WARNING] 	    [ "$verbose" -eq 1 ] && echo "$CCONF -c $conf -n $type.$id \"$key\""
[vmon1][WARNING] 	    eval "$var=\"`$CCONF -c $conf -n $type.$id \"$key\" || eval echo -n \"$def\"`\""
[vmon1][WARNING] 	else
[vmon1][WARNING] 	    [ "$verbose" -eq 1 ] && echo "$CCONF -c $conf -s $1 \"$key\""
[vmon1][WARNING] 	    eval "$var=\"`$CCONF -c $conf -s $1 \"$key\" || eval echo -n \"$def\"`\""
[vmon1][WARNING] 	fi
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] get_conf_bool() {
[vmon1][WARNING] 	get_conf "$@"
[vmon1][WARNING] 
[vmon1][WARNING] 	eval "val=$"$1
[vmon1][WARNING] 	[ "$val" = "0" ] && export $1=0
[vmon1][WARNING] 	[ "$val" = "false" ] && export $1=0
[vmon1][WARNING] 	[ "$val" = "1" ] && export $1=1
[vmon1][WARNING] 	[ "$val" = "true" ] && export $1=1
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] 
[vmon1][WARNING] EXIT_STATUS=0
[vmon1][WARNING] + EXIT_STATUS=0
[vmon1][WARNING] 
[vmon1][WARNING] # detect systemd
[vmon1][WARNING] SYSTEMD=0
[vmon1][WARNING] + SYSTEMD=0
[vmon1][WARNING] grep -qs systemd /proc/1/comm && SYSTEMD=1
[vmon1][WARNING] + grep -qs systemd /proc/1/comm
[vmon1][WARNING] 
[vmon1][WARNING] signal_daemon() {
[vmon1][WARNING]     name=$1
[vmon1][WARNING]     daemon=$2
[vmon1][WARNING]     pidfile=$3
[vmon1][WARNING]     signal=$4
[vmon1][WARNING]     action=$5
[vmon1][WARNING]     [ -z "$action" ] && action="Stopping"
[vmon1][WARNING]     echo -n "$action Ceph $name on $host..."
[vmon1][WARNING]     do_cmd "if [ -e $pidfile ]; then
[vmon1][WARNING]         pid=`cat $pidfile`
[vmon1][WARNING]         if [ -e /proc/\$pid ] && grep -q $daemon /proc/\$pid/cmdline ; then
[vmon1][WARNING] 	    cmd=\"kill $signal \$pid\"
[vmon1][WARNING] 	    echo -n \$cmd...
[vmon1][WARNING] 	    \$cmd
[vmon1][WARNING]         fi
[vmon1][WARNING]     fi"
[vmon1][WARNING]     echo done
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] daemon_is_running() {
[vmon1][WARNING]     name=$1
[vmon1][WARNING]     daemon=$2
[vmon1][WARNING]     daemon_id=$3
[vmon1][WARNING]     pidfile=$4
[vmon1][WARNING]     do_cmd "[ -e $pidfile ] || exit 1   # no pid, presumably not running
[vmon1][WARNING] 	pid=\`cat $pidfile\`
[vmon1][WARNING] 	[ -e /proc/\$pid ] && grep -q $daemon /proc/\$pid/cmdline && grep -qwe -i.$daemon_id /proc/\$pid/cmdline && exit 0 # running
[vmon1][WARNING]         exit 1  # pid is something else" "" "okfail"
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] stop_daemon() {
[vmon1][WARNING]     name=$1
[vmon1][WARNING]     daemon=$2
[vmon1][WARNING]     pidfile=$3
[vmon1][WARNING]     signal=$4
[vmon1][WARNING]     action=$5
[vmon1][WARNING]     [ -z "$action" ] && action="Stopping"
[vmon1][WARNING]     echo -n "$action Ceph $name on $host..."
[vmon1][WARNING]     do_cmd "while [ 1 ]; do
[vmon1][WARNING] 	[ -e $pidfile ] || break
[vmon1][WARNING] 	pid=\`cat $pidfile\`
[vmon1][WARNING] 	while [ -e /proc/\$pid ] && grep -q $daemon /proc/\$pid/cmdline ; do
[vmon1][WARNING] 	    cmd=\"kill $signal \$pid\"
[vmon1][WARNING] 	    echo -n \$cmd...
[vmon1][WARNING] 	    \$cmd
[vmon1][WARNING] 	    sleep 1
[vmon1][WARNING] 	    continue
[vmon1][WARNING] 	done
[vmon1][WARNING] 	break
[vmon1][WARNING]     done"
[vmon1][WARNING]     echo done
[vmon1][WARNING] }
[vmon1][WARNING] 
[vmon1][WARNING] ## command line options
[vmon1][WARNING] options=
[vmon1][WARNING] + options=
[vmon1][WARNING] 
[vmon1][WARNING] version=0
[vmon1][WARNING] + version=0
[vmon1][WARNING] dovalgrind=
[vmon1][WARNING] + dovalgrind=
[vmon1][WARNING] docrun=
[vmon1][WARNING] + docrun=
[vmon1][WARNING] allhosts=0
[vmon1][WARNING] + allhosts=0
[vmon1][WARNING] debug=0
[vmon1][WARNING] + debug=0
[vmon1][WARNING] monaddr=
[vmon1][WARNING] + monaddr=
[vmon1][WARNING] dofsmount=1
[vmon1][WARNING] + dofsmount=1
[vmon1][WARNING] dofsumount=0
[vmon1][WARNING] + dofsumount=0
[vmon1][WARNING] verbose=0
[vmon1][WARNING] + verbose=0
[vmon1][WARNING] use_default_conf=1
[vmon1][WARNING] + use_default_conf=1
[vmon1][WARNING] 
[vmon1][WARNING] 
[vmon1][WARNING] while echo $1 | grep -q '^-'; do     # FIXME: why not '^-'?
[vmon1][WARNING] case $1 in
[vmon1][WARNING]     -v | --verbose)
[vmon1][WARNING] 	    verbose=1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --valgrind)
[vmon1][WARNING] 	    dovalgrind=1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --novalgrind)
[vmon1][WARNING] 	    dovalgrind=0
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --allhosts | -a)
[vmon1][WARNING] 	    allhosts=1;
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --restart)
[vmon1][WARNING] 	    docrun=1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --norestart)
[vmon1][WARNING] 	    docrun=0
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     -m )
[vmon1][WARNING] 	    [ -z "$2" ] && usage_exit
[vmon1][WARNING] 	    options="$options $1"
[vmon1][WARNING] 	    shift
[vmon1][WARNING] 	    MON_ADDR=$1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --btrfs | --fsmount)
[vmon1][WARNING] 	    dofsmount=1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --nobtrfs | --nofsmount)
[vmon1][WARNING] 	    dofsmount=0
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --btrfsumount | --fsumount)
[vmon1][WARNING] 	    dofsumount=1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --conf | -c)
[vmon1][WARNING] 	    [ -z "$2" ] && usage_exit
[vmon1][WARNING] 	    options="$options $1"
[vmon1][WARNING] 	    shift
[vmon1][WARNING]         use_default_conf=0
[vmon1][WARNING] 	    conf=$1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --cluster )
[vmon1][WARNING] 	    [ -z "$2" ] && usage_exit
[vmon1][WARNING] 	    options="$options $1"
[vmon1][WARNING] 	    shift
[vmon1][WARNING] 	    cluster=$1
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     --hostname )
[vmon1][WARNING] 	    [ -z "$2" ] && usage_exit
[vmon1][WARNING] 	    options="$options $1"
[vmon1][WARNING] 	    shift
[vmon1][WARNING] 	    hostname=$1
[vmon1][WARNING]             ;;
[vmon1][WARNING]     *)
[vmon1][WARNING] 	    echo unrecognized option \'$1\'
[vmon1][WARNING] 	    usage_exit
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] esac
[vmon1][WARNING] options="$options $1"
[vmon1][WARNING] shift
[vmon1][WARNING] done
[vmon1][WARNING] + grep -q ^-
[vmon1][WARNING] + echo stop
[vmon1][WARNING] 
[vmon1][WARNING] 
[vmon1][WARNING] # if `--cluster` was not passed in, fallback to looking at the config name
[vmon1][WARNING] if [ -z "$cluster" ]; then
[vmon1][WARNING]     cluster=`echo $conf | awk -F'/' '{print $(NF)}' | cut -d'.' -f 1`
[vmon1][WARNING] else
[vmon1][WARNING]     # if we were told to use a given cluster name then $conf needs to be updated
[vmon1][WARNING]     # but just define it if `--conf` was not specified, otherwise we would be silently
[vmon1][WARNING]     # overriding $conf even if it was defined with `--conf`
[vmon1][WARNING]     if [ $use_default_conf -eq 1 ]; then
[vmon1][WARNING]         conf="/etc/ceph/$cluster.conf"
[vmon1][WARNING]     fi
[vmon1][WARNING] fi
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + cut -d. -f 1
[vmon1][WARNING] + awk -F/ {print $(NF)}
[vmon1][WARNING] + echo /etc/ceph/ceph.conf
[vmon1][WARNING] + cluster=ceph
[vmon1][WARNING] 
[vmon1][WARNING] 
[vmon1][WARNING] verify_conf
[vmon1][WARNING] + verify_conf
[vmon1][WARNING] + [ -x /etc/ceph/fetch_config ]
[vmon1][WARNING] + [ ! -e /etc/ceph/ceph.conf ]
[vmon1][WARNING] 
[vmon1][WARNING] command=$1
[vmon1][WARNING] + command=stop
[vmon1][WARNING] [ -n "$*" ] && shift
[vmon1][WARNING] + [ -n stop ]
[vmon1][WARNING] + shift
[vmon1][WARNING] 
[vmon1][WARNING] get_local_name_list
[vmon1][WARNING] + get_local_name_list
[vmon1][WARNING] + local=
[vmon1][WARNING] + get_local_daemon_list mon
[vmon1][WARNING] + type=mon
[vmon1][WARNING] + [ -d /var/lib/ceph/mon ]
[vmon1][WARNING] + find -L /var/lib/ceph/mon -mindepth 1 -maxdepth 1 -type d -printf %f\n
[vmon1][WARNING] + [ -e /var/lib/ceph/mon/ceph-vmon1/sysvinit ]
[vmon1][WARNING] + get_local_daemon_list osd
[vmon1][WARNING] + type=osd
[vmon1][WARNING] + [ -d /var/lib/ceph/osd ]
[vmon1][WARNING] + find -L /var/lib/ceph/osd -mindepth 1 -maxdepth 1 -type d -printf %f\n
[vmon1][WARNING] + [ -e /var/lib/ceph/osd/ceph-0/sysvinit ]
[vmon1][WARNING] + get_local_daemon_list mds
[vmon1][WARNING] + type=mds
[vmon1][WARNING] + [ -d /var/lib/ceph/mds ]
[vmon1][WARNING] + find -L /var/lib/ceph/mds -mindepth 1 -maxdepth 1 -type d -printf %f\n
[vmon1][WARNING] + [ -e /var/lib/ceph/mds/ceph-vmon1/sysvinit ]
[vmon1][WARNING] get_name_list "$@"
[vmon1][WARNING] + get_name_list
[vmon1][WARNING] + orig=
[vmon1][WARNING] + egrep -v ^mon$
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -l mon
[vmon1][WARNING] + true
[vmon1][WARNING] + egrep -v ^mds$
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -l mds
[vmon1][WARNING] + egrep -v ^osd$
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -l osd
[vmon1][WARNING] + allconf= mds.0
[vmon1][WARNING] osd.0
[vmon1][WARNING] osd.1
[vmon1][WARNING] osd.2
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + what= mds.0
[vmon1][WARNING] osd.0
[vmon1][WARNING] osd.1
[vmon1][WARNING] osd.2
[vmon1][WARNING] + return
[vmon1][WARNING] 
[vmon1][WARNING] # Reverse the order if we are stopping
[vmon1][WARNING] if [ "$command" = "stop" ]; then
[vmon1][WARNING]     for f in $what; do
[vmon1][WARNING]        new_order="$f $new_order"
[vmon1][WARNING]     done
[vmon1][WARNING]     what="$new_order"
[vmon1][WARNING] fi
[vmon1][WARNING] + [ stop = stop ]
[vmon1][WARNING] + new_order=mds.0 
[vmon1][WARNING] + new_order=osd.0 mds.0 
[vmon1][WARNING] + new_order=osd.1 osd.0 mds.0 
[vmon1][WARNING] + new_order=osd.2 osd.1 osd.0 mds.0 
[vmon1][WARNING] + what=osd.2 osd.1 osd.0 mds.0 
[vmon1][WARNING] 
[vmon1][WARNING] for name in $what; do
[vmon1][WARNING]     type=`echo $name | cut -c 1-3`   # e.g. 'mon', if $item is 'mon1'
[vmon1][WARNING]     id=`echo $name | cut -c 4- | sed 's/^\\.//'`
[vmon1][WARNING]     num=$id
[vmon1][WARNING]     name="$type.$id"
[vmon1][WARNING] 
[vmon1][WARNING]     check_host $cluster || continue
[vmon1][WARNING] 
[vmon1][WARNING]     binary="$BINDIR/ceph-$type"
[vmon1][WARNING]     cmd="$binary -i $id"
[vmon1][WARNING] 
[vmon1][WARNING]     get_conf run_dir "/var/run/ceph" "run dir"
[vmon1][WARNING] 
[vmon1][WARNING]     get_conf pid_file "$run_dir/$type.$id.pid" "pid file"
[vmon1][WARNING] 
[vmon1][WARNING]     if [ "$command" = "start" ]; then
[vmon1][WARNING] 	if [ -n "$pid_file" ]; then
[vmon1][WARNING] 	    do_cmd "mkdir -p "`dirname $pid_file`
[vmon1][WARNING] 	    cmd="$cmd --pid-file $pid_file"
[vmon1][WARNING] 	fi
[vmon1][WARNING] 
[vmon1][WARNING] 	get_conf log_dir "" "log dir"
[vmon1][WARNING] 	[ -n "$log_dir" ] && do_cmd "mkdir -p $log_dir"
[vmon1][WARNING] 
[vmon1][WARNING]         get_conf auto_start "" "auto start"
[vmon1][WARNING]         if [ "$auto_start" = "no" ] || [ "$auto_start" = "false" ] || [ "$auto_start" = "0" ]; then
[vmon1][WARNING]             if [ -z "$@" ]; then
[vmon1][WARNING]                 echo "Skipping Ceph $name on $host... auto start is disabled"
[vmon1][WARNING]                 continue
[vmon1][WARNING]             fi
[vmon1][WARNING]         fi
[vmon1][WARNING] 
[vmon1][WARNING] 	if daemon_is_running $name ceph-$type $id $pid_file; then
[vmon1][WARNING] 	    echo "Starting Ceph $name on $host...already running"
[vmon1][WARNING] 	    continue
[vmon1][WARNING] 	fi
[vmon1][WARNING] 
[vmon1][WARNING] 	get_conf copy_executable_to "" "copy executable to"
[vmon1][WARNING] 	if [ -n "$copy_executable_to" ]; then
[vmon1][WARNING] 	    scp $binary "$host:$copy_executable_to"
[vmon1][WARNING] 	    binary="$copy_executable_to"
[vmon1][WARNING] 	fi
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     # conf file
[vmon1][WARNING]     cmd="$cmd -c $conf"
[vmon1][WARNING] 
[vmon1][WARNING]     if echo $name | grep -q ^osd; then
[vmon1][WARNING] 	get_conf osd_data "/var/lib/ceph/osd/$cluster-$id" "osd data"
[vmon1][WARNING] 	get_conf fs_path "$osd_data" "fs path"  # mount point defaults so osd data
[vmon1][WARNING]         get_conf fs_devs "" "devs"
[vmon1][WARNING] 	if [ -z "$fs_devs" ]; then
[vmon1][WARNING] 	    # try to fallback to old keys
[vmon1][WARNING] 	    get_conf tmp_btrfs_devs "" "btrfs devs"
[vmon1][WARNING] 	    if [ -n "$tmp_btrfs_devs" ]; then
[vmon1][WARNING] 		fs_devs="$tmp_btrfs_devs"
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 	fi
[vmon1][WARNING]         first_dev=`echo $fs_devs | cut '-d ' -f 1`
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     # do lockfile, if RH
[vmon1][WARNING]     get_conf lockfile "/var/lock/subsys/ceph" "lock file"
[vmon1][WARNING]     lockdir=`dirname $lockfile`
[vmon1][WARNING]     if [ ! -d "$lockdir" ]; then
[vmon1][WARNING] 	lockfile=""
[vmon1][WARNING]     fi
[vmon1][WARNING] 
[vmon1][WARNING]     get_conf asok "$run_dir/ceph-$type.$id.asok" "admin socket"
[vmon1][WARNING] 
[vmon1][WARNING]     case "$command" in
[vmon1][WARNING] 	start)
[vmon1][WARNING]             # Increase max_open_files, if the configuration calls for it.
[vmon1][WARNING]             get_conf max_open_files "32768" "max open files"
[vmon1][WARNING] 
[vmon1][WARNING]             # build final command
[vmon1][WARNING] 	    wrap=""
[vmon1][WARNING] 	    runmode=""
[vmon1][WARNING] 	    runarg=""
[vmon1][WARNING] 
[vmon1][WARNING] 	    [ -z "$docrun" ] && get_conf_bool docrun "0" "restart on core dump"
[vmon1][WARNING] 	    [ "$docrun" -eq 1 ] && wrap="$BINDIR/ceph-run"
[vmon1][WARNING] 
[vmon1][WARNING] 	    [ -z "$dovalgrind" ] && get_conf_bool valgrind "" "valgrind"
[vmon1][WARNING] 	    [ -n "$valgrind" ] && wrap="$wrap valgrind $valgrind"
[vmon1][WARNING] 
[vmon1][WARNING] 	    [ -n "$wrap" ] && runmode="-f &" && runarg="-f"
[vmon1][WARNING] 	    [ -n "$max_open_files" ] && files="ulimit -n $max_open_files;"
[vmon1][WARNING] 
[vmon1][WARNING] 	    if [ $SYSTEMD -eq 1 ]; then
[vmon1][WARNING] 		cmd="systemd-run -r bash -c '$files $cmd --cluster $cluster -f'"
[vmon1][WARNING] 	    else
[vmon1][WARNING] 		cmd="$files $wrap $cmd --cluster $cluster $runmode"
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 
[vmon1][WARNING] 	    if [ $dofsmount -eq 1 ] && [ -n "$fs_devs" ]; then
[vmon1][WARNING] 		get_conf pre_mount "true" "pre mount command"
[vmon1][WARNING] 		get_conf fs_type "" "osd mkfs type"
[vmon1][WARNING] 
[vmon1][WARNING] 		if [ -z "$fs_type" ]; then
[vmon1][WARNING] 		    # try to fallback to to old keys
[vmon1][WARNING] 		    get_conf tmp_devs "" "btrfs devs"
[vmon1][WARNING] 		    if [ -n "$tmp_devs" ]; then
[vmon1][WARNING] 			fs_type="btrfs"
[vmon1][WARNING] 		    else
[vmon1][WARNING] 		        echo No filesystem type defined!
[vmon1][WARNING] 		        exit 0
[vmon1][WARNING]                     fi
[vmon1][WARNING] 		fi
[vmon1][WARNING] 
[vmon1][WARNING] 		get_conf fs_opt "" "osd mount options $fs_type"
[vmon1][WARNING] 		if [ -z "$fs_opt" ]; then
[vmon1][WARNING] 		    if [ "$fs_type" = "btrfs" ]; then
[vmon1][WARNING] 		        #try to fallback to old keys
[vmon1][WARNING] 			get_conf fs_opt "" "btrfs options"
[vmon1][WARNING] 		    fi
[vmon1][WARNING] 
[vmon1][WARNING] 		    if [ -z "$fs_opt" ]; then
[vmon1][WARNING] 			if [ "$fs_type" = "xfs" ]; then
[vmon1][WARNING] 			    fs_opt="rw,noatime,inode64"
[vmon1][WARNING] 			else
[vmon1][WARNING] 		            #fallback to use at least noatime
[vmon1][WARNING] 		            fs_opt="rw,noatime"
[vmon1][WARNING] 			fi
[vmon1][WARNING] 		    fi
[vmon1][WARNING] 		fi
[vmon1][WARNING] 
[vmon1][WARNING] 		[ -n "$fs_opt" ] && fs_opt="-o $fs_opt"
[vmon1][WARNING] 		[ -n "$pre_mount" ] && do_cmd "$pre_mount"
[vmon1][WARNING] 
[vmon1][WARNING] 		if [ "$fs_type" = "btrfs" ]; then
[vmon1][WARNING] 		    echo Mounting Btrfs on $host:$fs_path
[vmon1][WARNING] 		    do_root_cmd_okfail "modprobe btrfs ; btrfs device scan || btrfsctl -a ; egrep -q '^[^ ]+ $fs_path' /proc/mounts || mount -t btrfs $fs_opt $first_dev $fs_path"
[vmon1][WARNING] 		else
[vmon1][WARNING] 		    echo Mounting $fs_type on $host:$fs_path
[vmon1][WARNING] 		    do_root_cmd_okfail "modprobe $fs_type ; egrep -q '^[^ ]+ $fs_path' /proc/mounts || mount -t $fs_type $fs_opt $first_dev $fs_path"
[vmon1][WARNING] 		fi
[vmon1][WARNING] 		if [ "$ERR" != "0" ]; then
[vmon1][WARNING] 		    EXIT_STATUS=$ERR
[vmon1][WARNING] 		    continue
[vmon1][WARNING] 		fi
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 
[vmon1][WARNING] 	    if [ "$type" = "osd" ]; then
[vmon1][WARNING] 		get_conf update_crush "" "osd crush update on start"
[vmon1][WARNING] 		if [ "${update_crush:-1}" = "1" -o "${update_crush:-1}" = "true" ]; then
[vmon1][WARNING] 		    # update location in crush
[vmon1][WARNING] 		    get_conf osd_location_hook "$BINDIR/ceph-crush-location" "osd crush location hook"
[vmon1][WARNING] 		    osd_location=`$osd_location_hook --cluster $cluster --id $id --type osd`
[vmon1][WARNING] 		    get_conf osd_weight "" "osd crush initial weight"
[vmon1][WARNING] 		    defaultweight="$(df -P -k $osd_data/. | tail -1 | awk '{ print sprintf("%.2f",$2/1073741824) }')"
[vmon1][WARNING] 		    get_conf osd_keyring "$osd_data/keyring" "keyring"
[vmon1][WARNING] 		    do_cmd_okfail "timeout 30 $BINDIR/ceph -c $conf --name=osd.$id --keyring=$osd_keyring osd crush create-or-move -- $id ${osd_weight:-${defaultweight:-1}} $osd_location"
[vmon1][WARNING] 		    if [ "$ERR" != "0" ]; then
[vmon1][WARNING] 			EXIT_STATUS=$ERR
[vmon1][WARNING] 			continue
[vmon1][WARNING] 		    fi
[vmon1][WARNING] 		fi
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 
[vmon1][WARNING] 	    echo Starting Ceph $name on $host...
[vmon1][WARNING] 	    mkdir -p $run_dir
[vmon1][WARNING] 	    get_conf pre_start_eval "" "pre start eval"
[vmon1][WARNING] 	    [ -n "$pre_start_eval" ] && $pre_start_eval
[vmon1][WARNING] 	    get_conf pre_start "" "pre start command"
[vmon1][WARNING] 	    get_conf post_start "" "post start command"
[vmon1][WARNING] 	    [ -n "$pre_start" ] && do_cmd "$pre_start"
[vmon1][WARNING] 	    do_cmd_okfail "$cmd" $runarg
[vmon1][WARNING] 	    if [ "$ERR" != "0" ]; then
[vmon1][WARNING] 		EXIT_STATUS=$ERR
[vmon1][WARNING] 		continue
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 
[vmon1][WARNING] 	    if [ "$type" = "mon" ]; then
[vmon1][WARNING] 		# this will only work if we are using default paths
[vmon1][WARNING] 		# for the mon data and admin socket.  if so, run
[vmon1][WARNING] 		# ceph-create-keys.  this is the case for (normal)
[vmon1][WARNING] 		# chef and ceph-deploy clusters, which is who needs
[vmon1][WARNING] 		# these keys.  it's also true for legacy installs
[vmon1][WARNING] 		# via mkcephfs, which is fine too; there is no harm
[vmon1][WARNING] 		# in creating these keys.
[vmon1][WARNING] 		get_conf mon_data "/var/lib/ceph/mon/ceph-$id" "mon data"
[vmon1][WARNING] 		if [ "$mon_data" = "/var/lib/ceph/mon/ceph-$id" -a "$asok" = "/var/run/ceph/ceph-mon.$id.asok" ]; then
[vmon1][WARNING] 		    echo Starting ceph-create-keys on $host...
[vmon1][WARNING] 		    cmd2="$SBINDIR/ceph-create-keys --cluster $cluster -i $id 2> /dev/null &"
[vmon1][WARNING] 		    do_cmd "$cmd2"
[vmon1][WARNING] 		fi
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 
[vmon1][WARNING] 	    [ -n "$post_start" ] && do_cmd "$post_start"
[vmon1][WARNING] 	    [ -n "$lockfile" ] && [ "$?" -eq 0 ] && touch $lockfile
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	stop)
[vmon1][WARNING] 	    get_conf pre_stop "" "pre stop command"
[vmon1][WARNING] 	    get_conf post_stop "" "post stop command"
[vmon1][WARNING] 	    [ -n "$pre_stop" ] && do_cmd "$pre_stop"
[vmon1][WARNING] 	    stop_daemon $name ceph-$type $pid_file
[vmon1][WARNING] 	    [ -n "$post_stop" ] && do_cmd "$post_stop"
[vmon1][WARNING] 	    [ -n "$lockfile" ] && [ "$?" -eq 0 ] && rm -f $lockfile
[vmon1][WARNING] 	    if [ $dofsumount -eq 1 ] && [ -n "$fs_devs" ]; then
[vmon1][WARNING] 		echo Unmounting OSD volume on $host:$fs_path
[vmon1][WARNING] 		do_root_cmd "umount $fs_path || true"
[vmon1][WARNING] 	    fi
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	status)
[vmon1][WARNING] 	    if daemon_is_running $name ceph-$type $id $pid_file; then
[vmon1][WARNING] 		echo -n "$name: running "
[vmon1][WARNING] 		do_cmd "$BINDIR/ceph --admin-daemon $asok version 2>/dev/null" || echo unknown
[vmon1][WARNING]             elif [ -e "$pid_file" ]; then
[vmon1][WARNING]                 # daemon is dead, but pid file still exists
[vmon1][WARNING]                 echo "$name: dead."
[vmon1][WARNING]                 EXIT_STATUS=1
[vmon1][WARNING]             else
[vmon1][WARNING]                 # daemon is dead, and pid file is gone
[vmon1][WARNING]                 echo "$name: not running."
[vmon1][WARNING]                 EXIT_STATUS=3
[vmon1][WARNING]             fi
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	ssh)
[vmon1][WARNING] 	    $ssh
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	forcestop)
[vmon1][WARNING] 	    get_conf pre_forcestop "" "pre forcestop command"
[vmon1][WARNING] 	    get_conf post_forcestop "" "post forcestop command"
[vmon1][WARNING] 	    [ -n "$pre_forcestop" ] && do_cmd "$pre_forcestop"
[vmon1][WARNING] 	    stop_daemon $name ceph-$type $pid_file -9
[vmon1][WARNING] 	    [ -n "$post_forcestop" ] && do_cmd "$post_forcestop"
[vmon1][WARNING] 	    [ -n "$lockfile" ] && [ "$?" -eq 0 ] && rm -f $lockfile
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	killall)
[vmon1][WARNING] 	    echo "killall ceph-$type on $host"
[vmon1][WARNING] 	    do_cmd "pkill ^ceph-$type || true"
[vmon1][WARNING] 	    [ -n "$lockfile" ] && [ "$?" -eq 0 ] && rm -f $lockfile
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	force-reload | reload)
[vmon1][WARNING] 	    signal_daemon $name ceph-$type $pid_file -1 "Reloading"
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	restart)
[vmon1][WARNING] 	    $0 $options stop $name
[vmon1][WARNING] 	    $0 $options start $name
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING]         condrestart)
[vmon1][WARNING]             if daemon_is_running $name ceph-$type $id $pid_file; then
[vmon1][WARNING]                 $0 $options stop $name
[vmon1][WARNING]                 $0 $options start $name
[vmon1][WARNING]             else
[vmon1][WARNING]                 echo "$name: not running."
[vmon1][WARNING]             fi
[vmon1][WARNING]             ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	cleanlogs)
[vmon1][WARNING] 	    echo removing logs
[vmon1][WARNING] 	    [ -n "$log_dir" ] && do_cmd "rm -f $log_dir/$type.$id.*"
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	cleanalllogs)
[vmon1][WARNING] 	    echo removing all logs
[vmon1][WARNING] 	    [ -n "$log_dir" ] && do_cmd "rm -f $log_dir/* || true"
[vmon1][WARNING] 	    ;;
[vmon1][WARNING] 
[vmon1][WARNING] 	*)
[vmon1][WARNING] 	    usage_exit
[vmon1][WARNING] 	    ;;
[vmon1][WARNING]     esac
[vmon1][WARNING] done
[vmon1][WARNING] + cut -c 1-3
[vmon1][WARNING] + echo osd.2
[vmon1][WARNING] + type=osd
[vmon1][WARNING] + sed s/^\.//
[vmon1][WARNING] + cut -c 4-
[vmon1][WARNING] + echo osd.2
[vmon1][WARNING] + id=2
[vmon1][WARNING] + num=2
[vmon1][WARNING] + name=osd.2
[vmon1][WARNING] + check_host ceph
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n osd.2 host
[vmon1][WARNING] + host=vmon3
[vmon1][WARNING] + [ vmon3 = localhost ]
[vmon1][WARNING] + expr match vmon3 .*\.
[vmon1][WARNING] + ssh=
[vmon1][WARNING] + rootssh=
[vmon1][WARNING] + sshdir=/
[vmon1][WARNING] + get_conf user  user
[vmon1][WARNING] + var=user
[vmon1][WARNING] + def=
[vmon1][WARNING] + key=user
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n osd.2 user
[vmon1][WARNING] + eval echo -n 
[vmon1][WARNING] + echo -n
[vmon1][WARNING] + eval user=""
[vmon1][WARNING] + user=
[vmon1][WARNING] + cluster=ceph
[vmon1][WARNING] + [ -e /var/lib/ceph/osd/ceph-2/upstart ]
[vmon1][WARNING] + [ -e /var/lib/ceph/osd/ceph-2/sysvinit ]
[vmon1][WARNING] + [ -z vmon3 ]
[vmon1][WARNING] + [ vmon3 != vmon1 ]
[vmon1][WARNING] + [ 0 -eq 0 ]
[vmon1][WARNING] + return 1
[vmon1][WARNING] + continue
[vmon1][WARNING] + cut -c 1-3
[vmon1][WARNING] + echo osd.1
[vmon1][WARNING] + type=osd
[vmon1][WARNING] + sed s/^\.//
[vmon1][WARNING] + cut -c 4-
[vmon1][WARNING] + echo osd.1
[vmon1][WARNING] + id=1
[vmon1][WARNING] + num=1
[vmon1][WARNING] + name=osd.1
[vmon1][WARNING] + check_host ceph
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n osd.1 host
[vmon1][WARNING] + host=vmon2
[vmon1][WARNING] + [ vmon2 = localhost ]
[vmon1][WARNING] + expr match vmon2 .*\.
[vmon1][WARNING] + ssh=
[vmon1][WARNING] + rootssh=
[vmon1][WARNING] + sshdir=/
[vmon1][WARNING] + get_conf user  user
[vmon1][WARNING] + var=user
[vmon1][WARNING] + def=
[vmon1][WARNING] + key=user
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n osd.1 user
[vmon1][WARNING] + eval echo -n 
[vmon1][WARNING] + echo -n
[vmon1][WARNING] + eval user=""
[vmon1][WARNING] + user=
[vmon1][WARNING] + cluster=ceph
[vmon1][WARNING] + [ -e /var/lib/ceph/osd/ceph-1/upstart ]
[vmon1][WARNING] + [ -e /var/lib/ceph/osd/ceph-1/sysvinit ]
[vmon1][WARNING] + [ -z vmon2 ]
[vmon1][WARNING] + [ vmon2 != vmon1 ]
[vmon1][WARNING] + [ 0 -eq 0 ]
[vmon1][WARNING] + return 1
[vmon1][WARNING] + continue
[vmon1][WARNING] + cut -c 1-3
[vmon1][WARNING] + echo osd.0
[vmon1][WARNING] + type=osd
[vmon1][WARNING] + sed s/^\.//
[vmon1][WARNING] + cut -c 4-
[vmon1][WARNING] + echo osd.0
[vmon1][WARNING] + id=0
[vmon1][WARNING] + num=0
[vmon1][WARNING] + name=osd.0
[vmon1][WARNING] + check_host ceph
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n osd.0 host
[vmon1][WARNING] + host=vmon1
[vmon1][WARNING] + [ vmon1 = localhost ]
[vmon1][WARNING] + expr match vmon1 .*\.
[vmon1][WARNING] + ssh=
[vmon1][WARNING] + rootssh=
[vmon1][WARNING] + sshdir=/
[vmon1][WARNING] + get_conf user  user
[vmon1][WARNING] + var=user
[vmon1][WARNING] + def=
[vmon1][WARNING] + key=user
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n osd.0 user
[vmon1][WARNING] + eval echo -n 
[vmon1][WARNING] + echo -n
[vmon1][WARNING] + eval user=""
[vmon1][WARNING] + user=
[vmon1][WARNING] + cluster=ceph
[vmon1][WARNING] + [ -e /var/lib/ceph/osd/ceph-0/upstart ]
[vmon1][WARNING] + return 1
[vmon1][WARNING] + continue
[vmon1][WARNING] + cut -c 1-3
[vmon1][WARNING] + echo mds.0
[vmon1][WARNING] + type=mds
[vmon1][WARNING] + sed s/^\.//
[vmon1][WARNING] + cut -c 4-
[vmon1][WARNING] + echo mds.0
[vmon1][WARNING] + id=0
[vmon1][WARNING] + num=0
[vmon1][WARNING] + name=mds.0
[vmon1][WARNING] + check_host ceph
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 host
[vmon1][WARNING] + host=vmon1
[vmon1][WARNING] + [ vmon1 = localhost ]
[vmon1][WARNING] + expr match vmon1 .*\.
[vmon1][WARNING] + ssh=
[vmon1][WARNING] + rootssh=
[vmon1][WARNING] + sshdir=/
[vmon1][WARNING] + get_conf user  user
[vmon1][WARNING] + var=user
[vmon1][WARNING] + def=
[vmon1][WARNING] + key=user
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 user
[vmon1][WARNING] + eval echo -n 
[vmon1][DEBUG ] === mds.0 === 
[vmon1][WARNING] + echo -n
[vmon1][WARNING] + eval user=""
[vmon1][WARNING] + user=
[vmon1][WARNING] + cluster=ceph
[vmon1][WARNING] + [ -e /var/lib/ceph/mds/ceph-0/upstart ]
[vmon1][WARNING] + [ -e /var/lib/ceph/mds/ceph-0/sysvinit ]
[vmon1][WARNING] + [ -z vmon1 ]
[vmon1][WARNING] + [ vmon1 != vmon1 ]
[vmon1][WARNING] + echo === mds.0 === 
[vmon1][WARNING] + return 0
[vmon1][WARNING] + binary=/usr/bin/ceph-mds
[vmon1][WARNING] + cmd=/usr/bin/ceph-mds -i 0
[vmon1][WARNING] + get_conf run_dir /var/run/ceph run dir
[vmon1][WARNING] + var=run_dir
[vmon1][WARNING] + def=/var/run/ceph
[vmon1][WARNING] + key=run dir
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 run dir
[vmon1][WARNING] + eval echo -n /var/run/ceph
[vmon1][WARNING] + echo -n /var/run/ceph
[vmon1][WARNING] + eval run_dir="/var/run/ceph"
[vmon1][WARNING] + run_dir=/var/run/ceph
[vmon1][WARNING] + get_conf pid_file /var/run/ceph/mds.0.pid pid file
[vmon1][WARNING] + var=pid_file
[vmon1][WARNING] + def=/var/run/ceph/mds.0.pid
[vmon1][WARNING] + key=pid file
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 pid file
[vmon1][WARNING] + eval echo -n /var/run/ceph/mds.0.pid
[vmon1][WARNING] + echo -n /var/run/ceph/mds.0.pid
[vmon1][WARNING] + eval pid_file="/var/run/ceph/mds.0.pid"
[vmon1][WARNING] + pid_file=/var/run/ceph/mds.0.pid
[vmon1][WARNING] + [ stop = start ]
[vmon1][WARNING] + cmd=/usr/bin/ceph-mds -i 0 -c /etc/ceph/ceph.conf
[vmon1][WARNING] + grep -q ^osd
[vmon1][WARNING] + echo mds.0
[vmon1][WARNING] + get_conf lockfile /var/lock/subsys/ceph lock file
[vmon1][WARNING] + var=lockfile
[vmon1][WARNING] + def=/var/lock/subsys/ceph
[vmon1][WARNING] + key=lock file
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 lock file
[vmon1][WARNING] + eval echo -n /var/lock/subsys/ceph
[vmon1][WARNING] + echo -n /var/lock/subsys/ceph
[vmon1][WARNING] + eval lockfile="/var/lock/subsys/ceph"
[vmon1][WARNING] + lockfile=/var/lock/subsys/ceph
[vmon1][WARNING] + dirname /var/lock/subsys/ceph
[vmon1][WARNING] + lockdir=/var/lock/subsys
[vmon1][WARNING] + [ ! -d /var/lock/subsys ]
[vmon1][WARNING] + lockfile=
[vmon1][WARNING] + get_conf asok /var/run/ceph/ceph-mds.0.asok admin socket
[vmon1][WARNING] + var=asok
[vmon1][WARNING] + def=/var/run/ceph/ceph-mds.0.asok
[vmon1][WARNING] + key=admin socket
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 admin socket
[vmon1][WARNING] + eval echo -n /var/run/ceph/ceph-mds.0.asok
[vmon1][WARNING] + echo -n /var/run/ceph/ceph-mds.0.asok
[vmon1][WARNING] + eval asok="/var/run/ceph/ceph-mds.0.asok"
[vmon1][WARNING] + asok=/var/run/ceph/ceph-mds.0.asok
[vmon1][WARNING] + get_conf pre_stop  pre stop command
[vmon1][WARNING] + var=pre_stop
[vmon1][WARNING] + def=
[vmon1][WARNING] + key=pre stop command
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 pre stop command
[vmon1][WARNING] + eval echo -n 
[vmon1][WARNING] + echo -n
[vmon1][WARNING] + eval pre_stop=""
[vmon1][WARNING] + pre_stop=
[vmon1][WARNING] + get_conf post_stop  post stop command
[vmon1][WARNING] + var=post_stop
[vmon1][WARNING] + def=
[vmon1][WARNING] + key=post stop command
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + shift
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + /usr/bin/ceph-conf -c /etc/ceph/ceph.conf -n mds.0 post stop command
[vmon1][WARNING] + eval echo -n 
[vmon1][DEBUG ] Stopping Ceph mds.0 on vmon1...done
[vmon1][WARNING] + echo -n
[vmon1][WARNING] + eval post_stop=""
[vmon1][WARNING] + post_stop=
[vmon1][WARNING] + [ -n  ]
[vmon1][WARNING] + stop_daemon mds.0 ceph-mds /var/run/ceph/mds.0.pid
[vmon1][WARNING] + name=mds.0
[vmon1][WARNING] + daemon=ceph-mds
[vmon1][WARNING] + pidfile=/var/run/ceph/mds.0.pid
[vmon1][WARNING] + signal=
[vmon1][WARNING] + action=
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + action=Stopping
[vmon1][WARNING] + echo -n Stopping Ceph mds.0 on vmon1...
[vmon1][WARNING] + do_cmd while [ 1 ]; do
[vmon1][WARNING] 	[ -e /var/run/ceph/mds.0.pid ] || break
[vmon1][WARNING] 	pid=`cat /var/run/ceph/mds.0.pid`
[vmon1][WARNING] 	while [ -e /proc/$pid ] && grep -q ceph-mds /proc/$pid/cmdline ; do
[vmon1][WARNING] 	    cmd="kill  $pid"
[vmon1][WARNING] 	    echo -n $cmd...
[vmon1][WARNING] 	    $cmd
[vmon1][WARNING] 	    sleep 1
[vmon1][WARNING] 	    continue
[vmon1][WARNING] 	done
[vmon1][WARNING] 	break
[vmon1][WARNING]     done
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] + ulimit -c unlimited
[vmon1][WARNING] + whoami
[vmon1][WARNING] + whoami=root
[vmon1][WARNING] + [ root =  ]
[vmon1][WARNING] + [ -z  ]
[vmon1][WARNING] + bash -c while [ 1 ]; do
[vmon1][WARNING] 	[ -e /var/run/ceph/mds.0.pid ] || break
[vmon1][WARNING] 	pid=`cat /var/run/ceph/mds.0.pid`
[vmon1][WARNING] 	while [ -e /proc/$pid ] && grep -q ceph-mds /proc/$pid/cmdline ; do
[vmon1][WARNING] 	    cmd="kill  $pid"
[vmon1][WARNING] 	    echo -n $cmd...
[vmon1][WARNING] 	    $cmd
[vmon1][WARNING] 	    sleep 1
[vmon1][WARNING] 	    continue
[vmon1][WARNING] 	done
[vmon1][WARNING] 	break
[vmon1][WARNING]     done
[vmon1][WARNING] + echo done
[vmon1][WARNING] + [ -n  ]
[vmon1][WARNING] + [ -n  ]
[vmon1][WARNING] + [ 0 -eq 1 ]
[vmon1][WARNING] 
[vmon1][WARNING] # activate latent osds?
[vmon1][WARNING] if [ "$command" = "start" -a "$BINDIR" != "." ]; then
[vmon1][WARNING]     if [ "$*" = "" ] || echo $* | grep -q ^osd\$ ; then
[vmon1][WARNING] 	ceph-disk activate-all
[vmon1][WARNING]     fi
[vmon1][WARNING] fi
[vmon1][WARNING] + [ stop = start -a /usr/bin != . ]
[vmon1][WARNING] 
[vmon1][WARNING] exit $EXIT_STATUS
[vmon1][WARNING] + exit 0
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging host ... vmon2
[vmon2][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] The following packages will be REMOVED:
[vmon2][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 121 not upgraded.
[vmon2][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon2][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon2][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon2][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] debconf: unable to initialize frontend: Dialog
[vmon2][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon2][WARNING] debconf: falling back to frontend: Readline
[vmon2][WARNING] debconf: unable to initialize frontend: Readline
[vmon2][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon2][WARNING] debconf: falling back to frontend: Teletype
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging host ... vmon3
[vmon3][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon3][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon3][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon3][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] The following packages will be REMOVED:
[vmon3][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 121 not upgraded.
[vmon3][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon3][DEBUG ] (Reading database ... 57816 files and directories currently installed.)
[vmon3][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon3][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][WARNING] debconf: unable to initialize frontend: Dialog
[vmon3][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon3][WARNING] debconf: falling back to frontend: Readline
[vmon3][WARNING] debconf: unable to initialize frontend: Readline
[vmon3][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon3][WARNING] debconf: falling back to frontend: Teletype
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1 vmon2 vmon3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][WARNING] OSDs may still be mounted, trying to unmount them
[vmon1][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon1][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging data on vmon2
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][WARNING] OSDs may still be mounted, trying to unmount them
[vmon2][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon2][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging data on vmon3
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][WARNING] OSDs may still be mounted, trying to unmount them
[vmon3][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon3][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1 vmon2 vmon3
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon2][DEBUG ] connected to host: vdeploy 
[vmon2][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /bin/ip link show
[vmon2][INFO  ] Running command: sudo /bin/ip addr show
[vmon2][DEBUG ] IP addresses found: ['172.22.3.52']
[ceph_deploy.new][DEBUG ] Resolving host vmon2
[ceph_deploy.new][DEBUG ] Monitor vmon2 at 172.22.3.52
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon3][DEBUG ] connected to host: vdeploy 
[vmon3][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /bin/ip link show
[vmon3][INFO  ] Running command: sudo /bin/ip addr show
[vmon3][DEBUG ] IP addresses found: ['172.22.3.53']
[ceph_deploy.new][DEBUG ] Resolving host vmon3
[ceph_deploy.new][DEBUG ] Monitor vmon3 at 172.22.3.53
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1', 'vmon2', 'vmon3']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51', '172.22.3.52', '172.22.3.53']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 137 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-24 14:03:33--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      28.7M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-24 14:03:35 (28.7 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [72.6 kB]
[vmon1][DEBUG ] Get:6 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Get:10 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/main amd64 Packages [225 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/main i386 Packages [215 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [457 kB]
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [447 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon1][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon1][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon1][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon1][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon1][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon1][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon1][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon1][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon1][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon1][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon1][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon1][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2786 kB in 18s (147 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 137 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57927 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 121 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-24 14:04:01--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      8.81M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-24 14:04:03 (8.81 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon2][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/main Sources [72.6 kB]
[vmon2][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/main amd64 Packages [225 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/main i386 Packages [215 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:16 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon2][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Get:20 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [457 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [447 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon2][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon2][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon2][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon2][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon2][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon2][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon2][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon2][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon2][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon2][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon2][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon2][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2786 kB in 19s (140 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 121 not upgraded.
[vmon2][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon2][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon3][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon3][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon3][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 121 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-24 14:05:16--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      42.2M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-24 14:05:20 (42.2 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Get:2 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Get:3 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon3][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/main Sources [72.6 kB]
[vmon3][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/main amd64 Packages [225 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/main i386 Packages [215 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [184 kB]
[vmon3][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Get:20 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [457 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [259 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [447 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [260 kB]
[vmon3][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon3][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon3][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon3][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon3][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon3][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon3][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon3][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon3][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon3][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon3][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon3][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 2786 kB in 16s (169 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] Recommended packages:
[vmon3][DEBUG ]   btrfs-tools libradosstriper1
[vmon3][DEBUG ] The following NEW packages will be installed:
[vmon3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 121 not upgraded.
[vmon3][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon3][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon3][DEBUG ] Selecting previously unselected package ceph-common.
[vmon3][DEBUG ] (Reading database ... 57606 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph.
[vmon3][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all start/running
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all start/running
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 918d99c5-4de5-44a6-a2f3-d348dc6ad481
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 0, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0", 
[vmon1][DEBUG ]     "172.22.3.53:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 0, 
[vmon1][DEBUG ]     "fsid": "918d99c5-4de5-44a6-a2f3-d348dc6ad481", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/1", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/2", 
[vmon1][DEBUG ]         "name": "vmon3", 
[vmon1][DEBUG ]         "rank": 2
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [
[vmon1][DEBUG ]     "vmon1"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "quorum": [], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "probing", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNING] waiting 5 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 4
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 3
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 0, 
[vmon1][DEBUG ]   "extra_probe_peers": [
[vmon1][DEBUG ]     "172.22.3.52:6789/0", 
[vmon1][DEBUG ]     "172.22.3.53:6789/0"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 0, 
[vmon1][DEBUG ]     "fsid": "918d99c5-4de5-44a6-a2f3-d348dc6ad481", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/1", 
[vmon1][DEBUG ]         "name": "vmon2", 
[vmon1][DEBUG ]         "rank": 1
[vmon1][DEBUG ]       }, 
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "0.0.0.0:0/2", 
[vmon1][DEBUG ]         "name": "vmon3", 
[vmon1][DEBUG ]         "rank": 2
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [
[vmon1][DEBUG ]     "vmon1"
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "quorum": [], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "probing", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNING] waiting 5 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 4
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 3
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 2
[ceph_deploy.mon][WARNING] waiting 15 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 1
[ceph_deploy.mon][WARNING] waiting 20 seconds before retrying
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1 vmon2 vmon3
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 137 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58137 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging host ... vmon2
[vmon2][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] The following packages will be REMOVED:
[vmon2][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 121 not upgraded.
[vmon2][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon2][DEBUG ] (Reading database ... 56715 files and directories currently installed.)
[vmon2][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all stop/waiting
[vmon2][DEBUG ] /etc/init.d/ceph: ceph conf /etc/ceph/ceph.conf not found; system is not configured.
[vmon2][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all stop/waiting
[vmon2][DEBUG ] /etc/init.d/ceph: ceph conf /etc/ceph/ceph.conf not found; system is not configured.
[vmon2][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon2][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] debconf: unable to initialize frontend: Dialog
[vmon2][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon2][WARNING] debconf: falling back to frontend: Readline
[vmon2][WARNING] debconf: unable to initialize frontend: Readline
[vmon2][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon2][WARNING] debconf: falling back to frontend: Teletype
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging host ... vmon3
[vmon3][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon3][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon3][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon3][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] The following packages will be REMOVED:
[vmon3][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 121 not upgraded.
[vmon3][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon3][DEBUG ] (Reading database ... 57816 files and directories currently installed.)
[vmon3][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all stop/waiting
[vmon3][DEBUG ] /etc/init.d/ceph: ceph conf /etc/ceph/ceph.conf not found; system is not configured.
[vmon3][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all stop/waiting
[vmon3][DEBUG ] /etc/init.d/ceph: ceph conf /etc/ceph/ceph.conf not found; system is not configured.
[vmon3][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon3][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][WARNING] debconf: unable to initialize frontend: Dialog
[vmon3][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon3][WARNING] debconf: falling back to frontend: Readline
[vmon3][WARNING] debconf: unable to initialize frontend: Readline
[vmon3][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon3][WARNING] debconf: falling back to frontend: Teletype
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1 vmon2 vmon3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging data on vmon2
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging data on vmon3
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 137 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-24 14:08:53--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      10.8M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-24 14:08:55 (10.8 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 137 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57927 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 121 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-24 14:09:16--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      12.9M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-24 14:09:18 (12.9 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 121 not upgraded.
[vmon2][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon2][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] (Reading database ... 56505 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon3][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon3][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon3][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 121 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-24 14:09:39--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      2.12M=0.001s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-24 14:09:41 (2.12 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Get:3 http://security.ubuntu.com trusty-security/main Sources [72.6 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/main amd64 Packages [225 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/universe amd64 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/main i386 Packages [215 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/universe i386 Packages [88.1 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 800 kB in 12s (61.8 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] Recommended packages:
[vmon3][DEBUG ]   btrfs-tools libradosstriper1
[vmon3][DEBUG ] The following NEW packages will be installed:
[vmon3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 121 not upgraded.
[vmon3][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon3][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon3][DEBUG ] Selecting previously unselected package ceph-common.
[vmon3][DEBUG ] (Reading database ... 57606 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph.
[vmon3][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all start/running
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all start/running
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 35c06775-244e-422f-9fdb-999ea51a200e
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 2, 
[vmon1][DEBUG ]   "extra_probe_peers": [], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "35c06775-244e-422f-9fdb-999ea51a200e", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 2, 
[vmon1][DEBUG ]   "extra_probe_peers": [], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "35c06775-244e-422f-9fdb-999ea51a200e", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.client.admin.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-osd.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-mds.keyring
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdc
[ceph_deploy.osd][DEBUG ] zapping /dev/sdc on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdc
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdc
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdc
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdc:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdc:/dev/sdb1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdc journal /dev/sdb1 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdc /dev/sdb1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb1 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:864fdb80-56b3-4ec2-811c-250e312719de --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdc
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdc1
[vmon1][DEBUG ] meta-data=/dev/sdc1              isize=2048   agcount=4, agsize=3276735 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=13106939, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=6399, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.KgOSQE with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.KgOSQE
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.KgOSQE
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.KgOSQE/journal -> /dev/sdb1
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.KgOSQE
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.KgOSQE
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdc
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdc1:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdc1:/dev/sdb1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdc1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.l1Eru3 with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.l1Eru3
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is 864fdb80-56b3-4ec2-811c-250e312719de
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 0
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.0 data dir is ready at /var/lib/ceph/tmp/mnt.l1Eru3
[vmon1][WARNING] INFO:ceph-disk:ceph osd.0 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.l1Eru3
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.l1Eru3
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.0...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=0
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdd
[ceph_deploy.osd][DEBUG ] zapping /dev/sdd on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdd
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdd
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdd
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdd:/dev/sdb2
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdd:/dev/sdb2
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdd journal /dev/sdb2 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdd /dev/sdb2
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb2 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:2999aeaf-478d-40cd-9f7b-2479a9e00a16 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdd
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdd1
[vmon1][DEBUG ] meta-data=/dev/sdd1              isize=2048   agcount=4, agsize=3276735 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=13106939, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=6399, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdd1 on /var/lib/ceph/tmp/mnt.Cp9VIb with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdd1 /var/lib/ceph/tmp/mnt.Cp9VIb
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.Cp9VIb
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.Cp9VIb/journal -> /dev/sdb2
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.Cp9VIb
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.Cp9VIb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdd
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdd
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdd1:/dev/sdb2
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdd1:/dev/sdb2
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdd1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdd1 on /var/lib/ceph/tmp/mnt.pvTzi8 with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdd1 /var/lib/ceph/tmp/mnt.pvTzi8
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is 2999aeaf-478d-40cd-9f7b-2479a9e00a16
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 1
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.1 data dir is ready at /var/lib/ceph/tmp/mnt.pvTzi8
[vmon1][WARNING] INFO:ceph-disk:ceph osd.1 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.pvTzi8
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.pvTzi8
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.1...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=1
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sde
[ceph_deploy.osd][DEBUG ] zapping /dev/sde on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sde
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sde
[vmon1][INFO  ] Running command: sudo partprobe /dev/sde
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sde:/dev/sdb3
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sde:/dev/sdb3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sde journal /dev/sdb3 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sde /dev/sdb3
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb3 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:c6ec8d6e-59e3-4b45-856f-9e4d4add963b --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sde
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sde1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sde1
[vmon1][DEBUG ] meta-data=/dev/sde1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sde1 on /var/lib/ceph/tmp/mnt.9ibsW0 with options noatime,inode64
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sde1 /var/lib/ceph/tmp/mnt.9ibsW0
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.9ibsW0
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.9ibsW0/journal -> /dev/sdb3
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.9ibsW0
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.9ibsW0
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sde
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sde
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sde1:/dev/sdb3
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sde1:/dev/sdb3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sde1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sde1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sde1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sde1 on /var/lib/ceph/tmp/mnt.nzW0dN with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sde1 /var/lib/ceph/tmp/mnt.nzW0dN
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is c6ec8d6e-59e3-4b45-856f-9e4d4add963b
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 2
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.2 data dir is ready at /var/lib/ceph/tmp/mnt.nzW0dN
[vmon1][WARNING] INFO:ceph-disk:ceph osd.2 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.nzW0dN
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.nzW0dN
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.2...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=2
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdf
[ceph_deploy.osd][DEBUG ] zapping /dev/sdf on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdf
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdf
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdf:/dev/sdb4
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdf:/dev/sdb4
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdf journal /dev/sdb4 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdf /dev/sdb4
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb4 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdf
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:929e16ca-a75c-48f6-9290-8725127353a7 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdf
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdf
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdf
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdf1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdf1
[vmon1][DEBUG ] meta-data=/dev/sdf1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdf1 on /var/lib/ceph/tmp/mnt.QFAVlC with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdf1 /var/lib/ceph/tmp/mnt.QFAVlC
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.QFAVlC
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.QFAVlC/journal -> /dev/sdb4
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.QFAVlC
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.QFAVlC
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdf
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdf
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdf
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdf1:/dev/sdb4
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdf1:/dev/sdb4
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdf1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdf1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdf1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdf1 on /var/lib/ceph/tmp/mnt.WoAajh with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdf1 /var/lib/ceph/tmp/mnt.WoAajh
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is 929e16ca-a75c-48f6-9290-8725127353a7
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 3
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.3 data dir is ready at /var/lib/ceph/tmp/mnt.WoAajh
[vmon1][WARNING] INFO:ceph-disk:ceph osd.3 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.WoAajh
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.WoAajh
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.3...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=3
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdg
[ceph_deploy.osd][DEBUG ] zapping /dev/sdg on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdg
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdg
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdg
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdg:/dev/sdb5
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdg:/dev/sdb5
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdg journal /dev/sdb5 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdg /dev/sdb5
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb5 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdg
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:af31996b-19b6-4fab-aaa7-fae83e214256 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdg
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdg
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdg
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdg1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdg1
[vmon1][DEBUG ] meta-data=/dev/sdg1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdg1 on /var/lib/ceph/tmp/mnt.97bD7P with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdg1 /var/lib/ceph/tmp/mnt.97bD7P
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.97bD7P
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.97bD7P/journal -> /dev/sdb5
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.97bD7P
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.97bD7P
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdg
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdg
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdg
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdg1:/dev/sdb5
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdg1:/dev/sdb5
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdg1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdg1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdg1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdg1 on /var/lib/ceph/tmp/mnt.fqaUPW with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdg1 /var/lib/ceph/tmp/mnt.fqaUPW
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is af31996b-19b6-4fab-aaa7-fae83e214256
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 4
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.4 data dir is ready at /var/lib/ceph/tmp/mnt.fqaUPW
[vmon1][WARNING] INFO:ceph-disk:ceph osd.4 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.fqaUPW
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.fqaUPW
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.4...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=4
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdh
[ceph_deploy.osd][DEBUG ] zapping /dev/sdh on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdh
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdh
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdh
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdh:/dev/sdb6
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdh:/dev/sdb6
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdh journal /dev/sdb6 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdh /dev/sdb6
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb6 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdh
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:1bcaf883-2019-4497-a8c0-476c2ec10201 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdh
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdh
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdh
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdh1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdh1
[vmon1][DEBUG ] meta-data=/dev/sdh1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdh1 on /var/lib/ceph/tmp/mnt.mM0rKy with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdh1 /var/lib/ceph/tmp/mnt.mM0rKy
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.mM0rKy
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.mM0rKy/journal -> /dev/sdb6
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.mM0rKy
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.mM0rKy
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdh
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdh
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdh
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdh1:/dev/sdb6
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdh1:/dev/sdb6
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdh1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdh1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdh1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdh1 on /var/lib/ceph/tmp/mnt.UexqwP with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdh1 /var/lib/ceph/tmp/mnt.UexqwP
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is 1bcaf883-2019-4497-a8c0-476c2ec10201
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 5
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.5 data dir is ready at /var/lib/ceph/tmp/mnt.UexqwP
[vmon1][WARNING] INFO:ceph-disk:ceph osd.5 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.UexqwP
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.UexqwP
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.5...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=5
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon2:/dev/sdc
[ceph_deploy.osd][DEBUG ] zapping /dev/sdc on vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] zeroing last few blocks of device
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdc
[vmon2][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon2][WARNING] backup header from main header.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon2][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon2][WARNING] 
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon2][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon2][DEBUG ] other utilities.
[vmon2][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdc
[vmon2][INFO  ] Running command: sudo partprobe /dev/sdc
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon2:/dev/sdc:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon2:/dev/sdc:/dev/sdb1
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][WARNING] osd keyring does not exist yet, creating one
[vmon2][DEBUG ] create a keyring file
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon2 disk /dev/sdc journal /dev/sdb1 activate False
[vmon2][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdc /dev/sdb1
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon2][WARNING] DEBUG:ceph-disk:Journal /dev/sdb1 is a partition
[vmon2][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon2][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdc
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:ecf0a338-c960-498d-a429-d5a7b256b41f --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdc
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdc
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdc1
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdc1
[vmon2][DEBUG ] meta-data=/dev/sdc1              isize=2048   agcount=4, agsize=1310655 blks
[vmon2][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon2][DEBUG ] data     =                       bsize=4096   blocks=5242619, imaxpct=25
[vmon2][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon2][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon2][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon2][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon2][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon2][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.B41WMI with options noatime,inode64
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.B41WMI
[vmon2][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.B41WMI
[vmon2][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.B41WMI/journal -> /dev/sdb1
[vmon2][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.B41WMI
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.B41WMI
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdc
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdc
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon2][INFO  ] checking OSD status...
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon2 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon2:/dev/sdc1:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon2:/dev/sdc1:/dev/sdb1
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon2 disk /dev/sdc1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon2][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdc1
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdc1
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon2][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.w4jRfh with options noatime,inode64
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.w4jRfh
[vmon2][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon2][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon2][WARNING] DEBUG:ceph-disk:OSD uuid is ecf0a338-c960-498d-a429-d5a7b256b41f
[vmon2][WARNING] DEBUG:ceph-disk:OSD id is 6
[vmon2][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon2][WARNING] DEBUG:ceph-disk:ceph osd.6 data dir is ready at /var/lib/ceph/tmp/mnt.w4jRfh
[vmon2][WARNING] INFO:ceph-disk:ceph osd.6 already mounted in position; unmounting ours.
[vmon2][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.w4jRfh
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.w4jRfh
[vmon2][WARNING] DEBUG:ceph-disk:Starting ceph osd.6...
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=6
[vmon2][INFO  ] checking OSD status...
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon3:/dev/sdc
[ceph_deploy.osd][DEBUG ] zapping /dev/sdc on vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] zeroing last few blocks of device
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdc
[vmon3][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon3][WARNING] backup header from main header.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon3][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon3][WARNING] 
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon3][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon3][DEBUG ] other utilities.
[vmon3][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdc
[vmon3][INFO  ] Running command: sudo partprobe /dev/sdc
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon3:/dev/sdc:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon3:/dev/sdc:/dev/sdb1
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][WARNING] osd keyring does not exist yet, creating one
[vmon3][DEBUG ] create a keyring file
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon3 disk /dev/sdc journal /dev/sdb1 activate False
[vmon3][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdc /dev/sdb1
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon3][WARNING] DEBUG:ceph-disk:Journal /dev/sdb1 is a partition
[vmon3][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon3][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdc
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:720a2904-66b1-49f7-b5e5-be5705736b29 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdc
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdc
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdc1
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdc1
[vmon3][DEBUG ] meta-data=/dev/sdc1              isize=2048   agcount=4, agsize=1310655 blks
[vmon3][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon3][DEBUG ] data     =                       bsize=4096   blocks=5242619, imaxpct=25
[vmon3][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon3][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon3][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon3][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon3][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon3][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.W2Veqv with options noatime,inode64
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.W2Veqv
[vmon3][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.W2Veqv
[vmon3][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.W2Veqv/journal -> /dev/sdb1
[vmon3][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.W2Veqv
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.W2Veqv
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdc
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdc
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon3][INFO  ] checking OSD status...
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon3 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon3:/dev/sdc1:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon3:/dev/sdc1:/dev/sdb1
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon3 disk /dev/sdc1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon3][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdc1
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdc1
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon3][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.5Cy7WJ with options noatime,inode64
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.5Cy7WJ
[vmon3][WARNING] DEBUG:ceph-disk:Cluster uuid is 35c06775-244e-422f-9fdb-999ea51a200e
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon3][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon3][WARNING] DEBUG:ceph-disk:OSD uuid is 720a2904-66b1-49f7-b5e5-be5705736b29
[vmon3][WARNING] DEBUG:ceph-disk:OSD id is 7
[vmon3][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon3][WARNING] DEBUG:ceph-disk:ceph osd.7 data dir is ready at /var/lib/ceph/tmp/mnt.5Cy7WJ
[vmon3][WARNING] INFO:ceph-disk:ceph osd.7 already mounted in position; unmounting ours.
[vmon3][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.5Cy7WJ
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.5Cy7WJ
[vmon3][WARNING] DEBUG:ceph-disk:Starting ceph osd.7...
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=7
[vmon3][INFO  ] checking OSD status...
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create path if it doesn't exist
[vmon1][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon1 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon1/keyring
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create path if it doesn't exist
[vmon1][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon1 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon1/keyring
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create path if it doesn't exist
[vmon1][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon1 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon1/keyring
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create path if it doesn't exist
[vmon1][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon1 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon1/keyring
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create path if it doesn't exist
[vmon1][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon1 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon1/keyring
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon1
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon1:vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create path if it doesn't exist
[vmon1][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon1 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon1/keyring
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][WARNING] mds keyring does not exist yet, creating one
[vmon2][DEBUG ] create a keyring file
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create c
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts c:c
[ceph_deploy.mds][ERROR ] connecting to host: c resulted in errors: HostNotFound c
[ceph_deploy][ERROR ] GenericError: Failed to create 1 MDSs

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mds create vmon2
[ceph_deploy.mds][DEBUG ] Deploying mds, cluster ceph hosts vmon2:vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.mds][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.mds][DEBUG ] remote host will use upstart
[ceph_deploy.mds][DEBUG ] deploying mds bootstrap to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][DEBUG ] create path if it doesn't exist
[vmon2][INFO  ] Running command: sudo ceph --cluster ceph --name client.bootstrap-mds --keyring /var/lib/ceph/bootstrap-mds/ceph.keyring auth get-or-create mds.vmon2 osd allow rwx mds allow mon allow profile mds -o /var/lib/ceph/mds/ceph-vmon2/keyring
[vmon2][INFO  ] Running command: sudo initctl emit ceph-mds cluster=ceph id=vmon2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon2
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon2
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging host ... vmon2
[vmon2][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon2][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon2][DEBUG ]   python-itsdangerous python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] The following packages will be REMOVED:
[vmon2][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 121 not upgraded.
[vmon2][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon2][DEBUG ] (Reading database ... 73025 files and directories currently installed.)
[vmon2][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all stop/waiting
[vmon2][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mds' not empty so not removed
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon2][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] debconf: unable to initialize frontend: Dialog
[vmon2][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon2][WARNING] debconf: falling back to frontend: Readline
[vmon2][WARNING] debconf: unable to initialize frontend: Readline
[vmon2][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon2][WARNING] debconf: falling back to frontend: Teletype
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon2
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging data on vmon2
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][WARNING] OSDs may still be mounted, trying to unmount them
[vmon2][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon2][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon2
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon2
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon2][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon2][DEBUG ]   python-itsdangerous python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 121 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-25 10:12:31--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      3.18M=0.001s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-25 10:12:32 (3.18 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [74.8 kB]
[vmon2][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon2][DEBUG ] Get:11 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/universe i386 Packages [89.4 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/main Sources [187 kB]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [486 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [260 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [475 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [261 kB]
[vmon2][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon2][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon2][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon2][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon2][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon2][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon2][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon2][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon2][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon2][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon2][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon2][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2904 kB in 19s (149 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 121 not upgraded.
[vmon2][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon2][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] (Reading database ... 72815 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon1][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon1][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon1][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 125 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58144 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][WARNING] OSDs may still be mounted, trying to unmount them
[vmon1][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon1][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon1][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon1][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon1][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 125 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-25 10:33:56--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      10.9M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-25 10:33:59 (10.9 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon1][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/main Sources [74.8 kB]
[vmon1][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/universe Sources [17.9 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:12 http://us.archive.ubuntu.com trusty-updates/main Sources [187 kB]
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.3 kB]
[vmon1][DEBUG ] Get:15 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:16 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon1][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4484 B]
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [486 kB]
[vmon1][DEBUG ] Get:21 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Get:22 http://security.ubuntu.com trusty-security/universe i386 Packages [89.4 kB]
[vmon1][DEBUG ] Get:23 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [260 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.2 kB]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [475 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [261 kB]
[vmon1][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.3 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon1][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon1][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon1][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon1][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon1][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon1][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon1][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon1][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon1][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon1][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon1][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2904 kB in 33s (85.5 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 125 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57934 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 7904a6ca-63b3-4782-9d33-686f649a67ea
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 2, 
[vmon1][DEBUG ]   "extra_probe_peers": [], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "7904a6ca-63b3-4782-9d33-686f649a67ea", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 11 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-27 10:39:24--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      15.7M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-27 10:39:28 (15.7 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Hit http://apt.postgresql.org trusty-pgdg InRelease
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://ppa.launchpad.net trusty InRelease
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty Release.gpg
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Hit http://apt.postgresql.org trusty-pgdg/main amd64 Packages
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty Release
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [75.7 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://apt.postgresql.org trusty-pgdg/main i386 Packages
[vmon1][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty/main i386 Packages
[vmon1][DEBUG ] Get:6 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon1][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [18.0 kB]
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty/main Translation-en
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.7 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon1][DEBUG ] Ign http://apt.postgresql.org trusty-pgdg/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [89.6 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [189 kB]
[vmon1][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4765 B]
[vmon1][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [488 kB]
[vmon1][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [260 kB]
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.8 kB]
[vmon1][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [477 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [262 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.9 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 2755 kB in 22s (124 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] ceph is already the newest version.
[vmon1][DEBUG ] ceph-common is already the newest version.
[vmon1][DEBUG ] ceph-fs-common is already the newest version.
[vmon1][DEBUG ] ceph-mds is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 11 not upgraded.
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 124 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-27 10:52:12--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: 1752 (1.7K) [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                     100% 32.8M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-27 10:52:32 (32.8 MB/s) - 'release.asc' saved [1752/1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:2 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Get:3 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon2][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [75.7 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [18.0 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.7 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:14 http://us.archive.ubuntu.com trusty-updates/main Sources [189 kB]
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/universe i386 Packages [89.6 kB]
[vmon2][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4765 B]
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [488 kB]
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [260 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.8 kB]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [477 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [262 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.9 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 2755 kB in 23s (117 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] ceph is already the newest version.
[vmon2][DEBUG ] ceph-common is already the newest version.
[vmon2][DEBUG ] ceph-fs-common is already the newest version.
[vmon2][DEBUG ] ceph-mds is already the newest version.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 124 not upgraded.
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 124 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-27 10:53:03--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      6.74M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-27 10:53:05 (6.74 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon3][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [75.7 kB]
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/universe Sources [18.0 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.7 kB]
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/universe i386 Packages [89.6 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:16 http://us.archive.ubuntu.com trusty-updates/main Sources [189 kB]
[vmon3][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4765 B]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [488 kB]
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [260 kB]
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.8 kB]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [477 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [262 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.9 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 2755 kB in 18s (150 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] ceph is already the newest version.
[vmon3][DEBUG ] ceph-common is already the newest version.
[vmon3][DEBUG ] ceph-fs-common is already the newest version.
[vmon3][DEBUG ] ceph-mds is already the newest version.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 124 not upgraded.
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.mon][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to create 1 monitors

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1 vmon2 vmon3
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon1][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon1][DEBUG ]   python-itsdangerous python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 11 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 91931 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1ubuntu1) ...
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6.6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging host ... vmon2
[vmon2][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon2][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon2][DEBUG ]   python-itsdangerous python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] The following packages will be REMOVED:
[vmon2][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 124 not upgraded.
[vmon2][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon2][DEBUG ] (Reading database ... 73025 files and directories currently installed.)
[vmon2][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all stop/waiting
[vmon2][DEBUG ] /etc/init.d/ceph: ceph conf /etc/ceph/ceph.conf not found; system is not configured.
[vmon2][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all stop/waiting
[vmon2][DEBUG ] /etc/init.d/ceph: ceph conf /etc/ceph/ceph.conf not found; system is not configured.
[vmon2][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon2][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon2][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] debconf: unable to initialize frontend: Dialog
[vmon2][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon2][WARNING] debconf: falling back to frontend: Readline
[vmon2][WARNING] debconf: unable to initialize frontend: Readline
[vmon2][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon2][WARNING] debconf: falling back to frontend: Teletype
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging host ... vmon3
[vmon3][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon3][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon3][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon3][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] The following packages will be REMOVED:
[vmon3][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 124 not upgraded.
[vmon3][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon3][DEBUG ] (Reading database ... 57816 files and directories currently installed.)
[vmon3][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all stop/waiting
[vmon3][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon3][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vmon3][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][WARNING] debconf: unable to initialize frontend: Dialog
[vmon3][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon3][WARNING] debconf: falling back to frontend: Readline
[vmon3][WARNING] debconf: unable to initialize frontend: Readline
[vmon3][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon3][WARNING] debconf: falling back to frontend: Teletype
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1 vmon2 vmon3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] find the location of an executable
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][WARNING] OSDs may still be mounted, trying to unmount them
[vmon1][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon1][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] purging data on vmon2
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon2][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] purging data on vmon3
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][WARNING] OSDs may still be mounted, trying to unmount them
[vmon3][INFO  ] Running command: sudo find /var/lib/ceph -mindepth 1 -maxdepth 2 -type d -exec umount {} ;
[vmon3][WARNING] umount: /var/lib/ceph/osd: not mounted
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon3][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon1][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon1][DEBUG ]   python-itsdangerous python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 11 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-27 10:43:11--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      21.6M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-27 10:43:13 (21.6 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon1][DEBUG ] Ign http://ppa.launchpad.net trusty InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon1][DEBUG ] Hit http://apt.postgresql.org trusty-pgdg InRelease
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty Release
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://apt.postgresql.org trusty-pgdg/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon1][DEBUG ] Hit http://ppa.launchpad.net trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://apt.postgresql.org trusty-pgdg/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Ign http://apt.postgresql.org trusty-pgdg/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 11 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 91721 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1ubuntu1) ...
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6.6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] ca-certificates is already the newest version.
[vmon2][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon2][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon2][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon2][DEBUG ]   python-itsdangerous python-werkzeug xfsprogs
[vmon2][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 124 not upgraded.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-27 10:55:47--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      37.5M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-27 10:55:49 (37.5 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] gdisk is already the newest version.
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 124 not upgraded.
[vmon2][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon2][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] (Reading database ... 72815 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] ca-certificates is already the newest version.
[vmon3][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon3][DEBUG ]   cryptsetup-bin libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery
[vmon3][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 librados2 librbd1 libsnappy1
[vmon3][DEBUG ]   libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph python-flask
[vmon3][DEBUG ]   python-itsdangerous python-jinja2 python-markupsafe python-werkzeug xfsprogs
[vmon3][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 124 not upgraded.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-27 10:56:09--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      2.53M=0.001s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-27 10:56:11 (2.53 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release.gpg
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates Release
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] gdisk is already the newest version.
[vmon3][DEBUG ] Recommended packages:
[vmon3][DEBUG ]   btrfs-tools libradosstriper1
[vmon3][DEBUG ] The following NEW packages will be installed:
[vmon3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 124 not upgraded.
[vmon3][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon3][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon3][DEBUG ] Selecting previously unselected package ceph-common.
[vmon3][DEBUG ] (Reading database ... 57606 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph.
[vmon3][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all start/running
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all start/running
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon3
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon3
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] determining if provided host has same hostname in remote
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] deploying mon to vmon3
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] remote hostname: vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][DEBUG ] create the mon path if it does not exist
[vmon3][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon3/done
[vmon3][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create the monitor keyring file
[vmon3][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon3 --keyring /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] ceph-mon: set fsid to 9d5075bb-94f6-4464-9866-318a57f09cdb
[vmon3][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon3 for mon.vmon3
[vmon3][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon3.mon.keyring
[vmon3][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon3][DEBUG ] create the init path if it does not exist
[vmon3][DEBUG ] locating the `service` executable...
[vmon3][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon3
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[vmon3][WARNING] monitor: mon.vmon3, might not be running yet
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon3.asok mon_status
[vmon3][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[vmon3][WARNING] vmon3 is not defined in `mon initial members`
[vmon3][WARNING] monitor vmon3 does not exist in monmap
[vmon3][WARNING] neither `public_addr` nor `public_network` keys are defined for monitors
[vmon3][WARNING] monitors may not be able to form quorum
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNING] waiting 5 seconds before retrying
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNING] mon.vmon1 monitor is not yet in quorum, tries left: 4
[ceph_deploy.mon][WARNING] waiting 10 seconds before retrying
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial cmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts cmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host cmon1 ...
[ceph_deploy.mon][ERROR ] connecting to host: cmon1 resulted in errors: HostNotFound cmon1
[ceph_deploy][ERROR ] GenericError: Failed to create 1 monitors

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 9d5075bb-94f6-4464-9866-318a57f09cdb
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 2, 
[vmon1][DEBUG ]   "extra_probe_peers": [], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "9d5075bb-94f6-4464-9866-318a57f09cdb", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1
[ceph_deploy][ERROR ] RuntimeError: zap command needs both HOSTNAME and DISK but got "vmon1 None"

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon1
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1::
[ceph_deploy][ERROR ] NeedDiskError: Must supply disk/path argument: vmon1

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon2
[ceph_deploy][ERROR ] RuntimeError: zap command needs both HOSTNAME and DISK but got "vmon2 None"

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon2
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon2::
[ceph_deploy][ERROR ] NeedDiskError: Must supply disk/path argument: vmon2

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon3
[ceph_deploy][ERROR ] RuntimeError: zap command needs both HOSTNAME and DISK but got "vmon3 None"

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon3
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon3::
[ceph_deploy][ERROR ] NeedDiskError: Must supply disk/path argument: vmon3

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon1][WARNING] backup header from main header.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon1][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon1][WARNING] 
[vmon1][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon1][WARNING] 
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon1][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon1][DEBUG ] ****************************************************************************
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon1:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdb:
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdb journal None activate True
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon1][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:56ca037e-8be2-44cd-8402-0b09e6165b8f --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/56ca037e-8be2-44cd-8402-0b09e6165b8f
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:714b12ce-3d77-4143-b5e3-8faeafd669d9 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon1][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=2949055 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=11796219, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=5759, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.jP3B4W with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.jP3B4W
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.jP3B4W
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.jP3B4W/journal -> /dev/disk/by-partuuid/56ca037e-8be2-44cd-8402-0b09e6165b8f
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.jP3B4W
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.jP3B4W
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] zeroing last few blocks of device
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon2][DEBUG ] Creating new GPT entries.
[vmon2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon2][DEBUG ] other utilities.
[vmon2][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon2][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon2:/dev/sdb:
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][WARNING] osd keyring does not exist yet, creating one
[vmon2][DEBUG ] create a keyring file
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon2 disk /dev/sdb journal None activate True
[vmon2][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon2][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon2][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:4982e142-1778-4908-9722-ce2d181154d0 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/4982e142-1778-4908-9722-ce2d181154d0
[vmon2][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:2a0f0f58-f185-426a-98b7-544dc9f1ad53 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon2][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon2][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon2][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon2][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon2][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon2][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon2][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon2][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.EEZeOG with options noatime,inode64
[vmon2][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.EEZeOG
[vmon2][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.EEZeOG
[vmon2][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.EEZeOG/journal -> /dev/disk/by-partuuid/4982e142-1778-4908-9722-ce2d181154d0
[vmon2][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.EEZeOG
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.EEZeOG
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon2][INFO  ] checking OSD status...
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon2 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] zeroing last few blocks of device
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon3][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon3][WARNING] backup header from main header.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon3][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon3][WARNING] 
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon3][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon3][DEBUG ] other utilities.
[vmon3][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon3][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon3:/dev/sdb:
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][WARNING] osd keyring does not exist yet, creating one
[vmon3][DEBUG ] create a keyring file
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon3 disk /dev/sdb journal None activate True
[vmon3][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon3][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon3][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:859bce2f-0b75-43e5-9720-416cfa2821ca --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/859bce2f-0b75-43e5-9720-416cfa2821ca
[vmon3][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:542819d4-e22a-48cf-95d9-077b254a6b3c --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon3][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon3][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon3][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon3][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon3][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon3][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon3][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon3][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon3][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.S3hVP0 with options noatime,inode64
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.S3hVP0
[vmon3][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.S3hVP0
[vmon3][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.S3hVP0/journal -> /dev/disk/by-partuuid/859bce2f-0b75-43e5-9720-416cfa2821ca
[vmon3][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.S3hVP0
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.S3hVP0
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon3][INFO  ] checking OSD status...
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon3 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 vmon2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy calamari connect vmon1 vmon2 vmon3
[ceph_deploy][ERROR ] RuntimeError: no calamari-minion repo found

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[ceph_deploy.new][WARNING] could not connect via SSH
[ceph_deploy.new][INFO  ] will connect again with password prompt
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1 vmon2 vmon3
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 124 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-30 15:44:24--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      27.2M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-30 15:44:26 (27.2 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Get:1 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/main Sources [75.7 kB]
[vmon1][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon1][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon1][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/universe Sources [18.0 kB]
[vmon1][DEBUG ] Get:9 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon1][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon1][DEBUG ] Get:11 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.7 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:16 http://us.archive.ubuntu.com trusty-updates/main Sources [189 kB]
[vmon1][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon1][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/universe i386 Packages [89.6 kB]
[vmon1][DEBUG ] Get:19 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon1][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:21 http://security.ubuntu.com trusty-security/main Translation-en [126 kB]
[vmon1][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4765 B]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [488 kB]
[vmon1][DEBUG ] Get:25 http://security.ubuntu.com trusty-security/universe Translation-en [49.8 kB]
[vmon1][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [261 kB]
[vmon1][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.7 kB]
[vmon1][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [477 kB]
[vmon1][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [261 kB]
[vmon1][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.9 kB]
[vmon1][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-updates/main Translation-en [231 kB]
[vmon1][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en [6076 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-updates/universe Translation-en [134 kB]
[vmon1][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon1][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon1][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon1][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon1][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon1][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon1][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon1][DEBUG ] Get:43 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon1][DEBUG ] Get:44 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon1][DEBUG ] Get:45 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon1][DEBUG ] Get:46 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon1][DEBUG ] Get:47 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 3462 kB in 22s (157 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] ceph is already the newest version.
[vmon1][DEBUG ] ceph-common is already the newest version.
[vmon1][DEBUG ] ceph-fs-common is already the newest version.
[vmon1][DEBUG ] ceph-mds is already the newest version.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 140 not upgraded.
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages will be upgraded:
[vmon2][DEBUG ]   ca-certificates
[vmon2][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon2][DEBUG ] Need to get 189 kB of archives.
[vmon2][DEBUG ] After this operation, 20.5 kB of additional disk space will be used.
[vmon2][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main ca-certificates all 20141019ubuntu0.14.04.1 [189 kB]
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Preconfiguring packages ...
[vmon2][DEBUG ] Fetched 189 kB in 1s (97.4 kB/s)
[vmon2][DEBUG ] (Reading database ... 55776 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../ca-certificates_20141019ubuntu0.14.04.1_all.deb ...
[vmon2][DEBUG ] Unpacking ca-certificates (20141019ubuntu0.14.04.1) over (20130906ubuntu2) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ca-certificates (20141019ubuntu0.14.04.1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Processing triggers for ca-certificates (20141019ubuntu0.14.04.1) ...
[vmon2][DEBUG ] Updating certificates in /etc/ssl/certs... 17 added, 8 removed; done.
[vmon2][DEBUG ] Running hooks in /etc/ca-certificates/update.d....done.
[vmon2][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2015-03-30 15:45:02--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: unspecified [text/plain]
[vmon2][WARNING] Saving to: 'release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                      22.8M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2015-03-30 15:45:04 (22.8 MB/s) - 'release.asc' saved [1752]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: sudo apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: sudo apt-get -q update
[vmon2][DEBUG ] Get:1 http://ceph.com trusty InRelease [6855 B]
[vmon2][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon2][DEBUG ] Get:2 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon2][DEBUG ] Get:3 http://ceph.com trusty/main amd64 Packages [6926 B]
[vmon2][DEBUG ] Get:4 http://ceph.com trusty/main i386 Packages [785 B]
[vmon2][DEBUG ] Get:5 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon2][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon2][DEBUG ] Get:6 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon2][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon2][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon2][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/main Sources [75.7 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon2][DEBUG ] Get:9 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon2][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon2][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/universe Sources [18.0 kB]
[vmon2][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon2][DEBUG ] Get:13 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon2][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon2][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon2][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.7 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon2][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon2][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon2][DEBUG ] Get:19 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon2][DEBUG ] Get:20 http://security.ubuntu.com trusty-security/universe i386 Packages [89.6 kB]
[vmon2][DEBUG ] Get:21 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon2][DEBUG ] Get:22 http://security.ubuntu.com trusty-security/main Translation-en [126 kB]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon2][DEBUG ] Get:23 http://security.ubuntu.com trusty-security/universe Translation-en [49.8 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/main Sources [189 kB]
[vmon2][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4765 B]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [488 kB]
[vmon2][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon2][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [261 kB]
[vmon2][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.7 kB]
[vmon2][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [477 kB]
[vmon2][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon2][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [261 kB]
[vmon2][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.9 kB]
[vmon2][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-updates/main Translation-en [231 kB]
[vmon2][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en [6076 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon2][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-updates/universe Translation-en [134 kB]
[vmon2][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon2][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon2][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon2][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon2][DEBUG ] Get:43 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon2][DEBUG ] Get:44 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon2][DEBUG ] Get:45 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon2][DEBUG ] Get:46 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon2][DEBUG ] Get:47 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon2][DEBUG ] Get:48 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon2][DEBUG ] Get:49 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon2][DEBUG ] Get:50 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon2][DEBUG ] Fetched 3477 kB in 20s (168 kB/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following extra packages will be installed:
[vmon2][DEBUG ]   binutils cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon2][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libicu52 libjs-jquery
[vmon2][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb
[vmon2][DEBUG ]   librados2 librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1
[vmon2][DEBUG ]   python-ceph python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] Suggested packages:
[vmon2][DEBUG ]   binutils-doc javascript-common python-flask-doc python-jinja2-doc ipython
[vmon2][DEBUG ]   python-genshi python-lxml python-greenlet python-redis python-pylibmc
[vmon2][DEBUG ]   python-memcache python-werkzeug-doc xfsdump acl attr quota
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse python-blinker python-pyinotify
[vmon2][DEBUG ] The following NEW packages will be installed:
[vmon2][DEBUG ]   binutils ceph ceph-common ceph-fs-common ceph-mds cryptsetup-bin gdisk
[vmon2][DEBUG ]   libaio1 libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon2][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libicu52 libjs-jquery libleveldb1
[vmon2][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon2][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon2][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon2][DEBUG ]   python-werkzeug xfsprogs
[vmon2][DEBUG ] 0 upgraded, 34 newly installed, 0 to remove and 124 not upgraded.
[vmon2][DEBUG ] Need to get 35.4 MB of archives.
[vmon2][DEBUG ] After this operation, 156 MB of additional disk space will be used.
[vmon2][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty/main libaio1 amd64 0.3.109-4 [6364 B]
[vmon2][DEBUG ] Get:2 http://ceph.com/debian-giant/ trusty/main librados2 amd64 0.87.1-1trusty [2256 kB]
[vmon2][DEBUG ] Get:3 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libboost-system1.54.0 amd64 1.54.0-4ubuntu3.1 [10.1 kB]
[vmon2][DEBUG ] Get:4 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libboost-thread1.54.0 amd64 1.54.0-4ubuntu3.1 [26.5 kB]
[vmon2][DEBUG ] Get:5 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libicu52 amd64 52.1-3ubuntu0.2 [6751 kB]
[vmon2][DEBUG ] Get:6 http://ceph.com/debian-giant/ trusty/main librbd1 amd64 0.87.1-1trusty [1075 kB]
[vmon2][DEBUG ] Get:7 http://us.archive.ubuntu.com/ubuntu/ trusty/main libsnappy1 amd64 1.1.0-1ubuntu1 [11.2 kB]
[vmon2][DEBUG ] Get:8 http://us.archive.ubuntu.com/ubuntu/ trusty/main libleveldb1 amd64 1.15.0-2 [117 kB]
[vmon2][DEBUG ] Get:9 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libnspr4 amd64 2:4.10.7-0ubuntu0.14.04.1 [111 kB]
[vmon2][DEBUG ] Get:10 http://ceph.com/debian-giant/ trusty/main libcephfs1 amd64 0.87.1-1trusty [2276 kB]
[vmon2][DEBUG ] Get:11 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libnss3-nssdb all 2:3.17.4-0ubuntu0.14.04.1 [10.6 kB]
[vmon2][DEBUG ] Get:12 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libnss3 amd64 2:3.17.4-0ubuntu0.14.04.1 [1096 kB]
[vmon2][DEBUG ] Get:13 http://us.archive.ubuntu.com/ubuntu/ trusty/main libunwind8 amd64 1.1-2.2ubuntu3 [48.3 kB]
[vmon2][DEBUG ] Get:14 http://us.archive.ubuntu.com/ubuntu/ trusty/main liburcu1 amd64 0.7.12-0ubuntu2 [34.9 kB]
[vmon2][DEBUG ] Get:15 http://us.archive.ubuntu.com/ubuntu/ trusty/main liblttng-ust-ctl2 amd64 2.4.0-4ubuntu1 [61.7 kB]
[vmon2][DEBUG ] Get:16 http://us.archive.ubuntu.com/ubuntu/ trusty/main liblttng-ust0 amd64 2.4.0-4ubuntu1 [106 kB]
[vmon2][DEBUG ] Get:17 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main binutils amd64 2.24-5ubuntu3.1 [2076 kB]
[vmon2][DEBUG ] Get:18 http://ceph.com/debian-giant/ trusty/main python-ceph amd64 0.87.1-1trusty [743 kB]
[vmon2][DEBUG ] Get:19 http://ceph.com/debian-giant/ trusty/main ceph-common amd64 0.87.1-1trusty [4904 kB]
[vmon2][DEBUG ] Get:20 http://us.archive.ubuntu.com/ubuntu/ trusty/main libtcmalloc-minimal4 amd64 2.1-2ubuntu1 [104 kB]
[vmon2][DEBUG ] Get:21 http://us.archive.ubuntu.com/ubuntu/ trusty/main libgoogle-perftools4 amd64 2.1-2ubuntu1 [184 kB]
[vmon2][DEBUG ] Get:22 http://us.archive.ubuntu.com/ubuntu/ trusty/main libcryptsetup4 amd64 2:1.6.1-1ubuntu1 [77.0 kB]
[vmon2][DEBUG ] Get:23 http://us.archive.ubuntu.com/ubuntu/ trusty/main cryptsetup-bin amd64 2:1.6.1-1ubuntu1 [80.4 kB]
[vmon2][DEBUG ] Get:24 http://us.archive.ubuntu.com/ubuntu/ trusty/main gdisk amd64 0.8.8-1build1 [186 kB]
[vmon2][DEBUG ] Get:25 http://ceph.com/debian-giant/ trusty/main ceph amd64 0.87.1-1trusty [7767 kB]
[vmon2][DEBUG ] Get:26 http://us.archive.ubuntu.com/ubuntu/ trusty/main xfsprogs amd64 3.1.9ubuntu2 [508 kB]
[vmon2][DEBUG ] Get:27 http://us.archive.ubuntu.com/ubuntu/ trusty/main libjs-jquery all 1.7.2+dfsg-2ubuntu1 [78.8 kB]
[vmon2][DEBUG ] Get:28 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main python-werkzeug all 0.9.4+dfsg-1.1ubuntu2 [236 kB]
[vmon2][DEBUG ] Get:29 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-markupsafe amd64 0.18-1build2 [14.3 kB]
[vmon2][DEBUG ] Get:30 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-jinja2 all 2.7.2-2 [161 kB]
[vmon2][DEBUG ] Get:31 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-itsdangerous all 0.22+dfsg1-1build1 [11.5 kB]
[vmon2][DEBUG ] Get:32 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-flask all 0.10.1-2build1 [51.7 kB]
[vmon2][DEBUG ] Get:33 http://ceph.com/debian-giant/ trusty/main ceph-fs-common amd64 0.87.1-1trusty [737 kB]
[vmon2][DEBUG ] Get:34 http://ceph.com/debian-giant/ trusty/main ceph-mds amd64 0.87.1-1trusty [3451 kB]
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] Extracting templates from packages: 88%Extracting templates from packages: 100%
[vmon2][DEBUG ] Fetched 35.4 MB in 23s (1537 kB/s)
[vmon2][DEBUG ] Selecting previously unselected package libaio1:amd64.
[vmon2][DEBUG ] (Reading database ... 55785 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to unpack .../libaio1_0.3.109-4_amd64.deb ...
[vmon2][DEBUG ] Unpacking libaio1:amd64 (0.3.109-4) ...
[vmon2][DEBUG ] Selecting previously unselected package libboost-system1.54.0:amd64.
[vmon2][DEBUG ] Preparing to unpack .../libboost-system1.54.0_1.54.0-4ubuntu3.1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libboost-system1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon2][DEBUG ] Selecting previously unselected package libboost-thread1.54.0:amd64.
[vmon2][DEBUG ] Preparing to unpack .../libboost-thread1.54.0_1.54.0-4ubuntu3.1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libboost-thread1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon2][DEBUG ] Selecting previously unselected package libicu52:amd64.
[vmon2][DEBUG ] Preparing to unpack .../libicu52_52.1-3ubuntu0.2_amd64.deb ...
[vmon2][DEBUG ] Unpacking libicu52:amd64 (52.1-3ubuntu0.2) ...
[vmon2][DEBUG ] Selecting previously unselected package libsnappy1.
[vmon2][DEBUG ] Preparing to unpack .../libsnappy1_1.1.0-1ubuntu1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libsnappy1 (1.1.0-1ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package libleveldb1:amd64.
[vmon2][DEBUG ] Preparing to unpack .../libleveldb1_1.15.0-2_amd64.deb ...
[vmon2][DEBUG ] Unpacking libleveldb1:amd64 (1.15.0-2) ...
[vmon2][DEBUG ] Selecting previously unselected package libnspr4:amd64.
[vmon2][DEBUG ] Preparing to unpack .../libnspr4_2%3a4.10.7-0ubuntu0.14.04.1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libnspr4:amd64 (2:4.10.7-0ubuntu0.14.04.1) ...
[vmon2][DEBUG ] Selecting previously unselected package libnss3-nssdb.
[vmon2][DEBUG ] Preparing to unpack .../libnss3-nssdb_2%3a3.17.4-0ubuntu0.14.04.1_all.deb ...
[vmon2][DEBUG ] Unpacking libnss3-nssdb (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon2][DEBUG ] Selecting previously unselected package libnss3:amd64.
[vmon2][DEBUG ] Preparing to unpack .../libnss3_2%3a3.17.4-0ubuntu0.14.04.1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libnss3:amd64 (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon2][DEBUG ] Selecting previously unselected package libunwind8.
[vmon2][DEBUG ] Preparing to unpack .../libunwind8_1.1-2.2ubuntu3_amd64.deb ...
[vmon2][DEBUG ] Unpacking libunwind8 (1.1-2.2ubuntu3) ...
[vmon2][DEBUG ] Selecting previously unselected package liburcu1.
[vmon2][DEBUG ] Preparing to unpack .../liburcu1_0.7.12-0ubuntu2_amd64.deb ...
[vmon2][DEBUG ] Unpacking liburcu1 (0.7.12-0ubuntu2) ...
[vmon2][DEBUG ] Selecting previously unselected package liblttng-ust-ctl2:amd64.
[vmon2][DEBUG ] Preparing to unpack .../liblttng-ust-ctl2_2.4.0-4ubuntu1_amd64.deb ...
[vmon2][DEBUG ] Unpacking liblttng-ust-ctl2:amd64 (2.4.0-4ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package liblttng-ust0:amd64.
[vmon2][DEBUG ] Preparing to unpack .../liblttng-ust0_2.4.0-4ubuntu1_amd64.deb ...
[vmon2][DEBUG ] Unpacking liblttng-ust0:amd64 (2.4.0-4ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package binutils.
[vmon2][DEBUG ] Preparing to unpack .../binutils_2.24-5ubuntu3.1_amd64.deb ...
[vmon2][DEBUG ] Unpacking binutils (2.24-5ubuntu3.1) ...
[vmon2][DEBUG ] Selecting previously unselected package librados2.
[vmon2][DEBUG ] Preparing to unpack .../librados2_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking librados2 (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package librbd1.
[vmon2][DEBUG ] Preparing to unpack .../librbd1_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking librbd1 (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package libtcmalloc-minimal4.
[vmon2][DEBUG ] Preparing to unpack .../libtcmalloc-minimal4_2.1-2ubuntu1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libtcmalloc-minimal4 (2.1-2ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package libgoogle-perftools4.
[vmon2][DEBUG ] Preparing to unpack .../libgoogle-perftools4_2.1-2ubuntu1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libgoogle-perftools4 (2.1-2ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package libcephfs1.
[vmon2][DEBUG ] Preparing to unpack .../libcephfs1_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking libcephfs1 (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package python-ceph.
[vmon2][DEBUG ] Preparing to unpack .../python-ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking python-ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package libcryptsetup4.
[vmon2][DEBUG ] Preparing to unpack .../libcryptsetup4_2%3a1.6.1-1ubuntu1_amd64.deb ...
[vmon2][DEBUG ] Unpacking libcryptsetup4 (2:1.6.1-1ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package cryptsetup-bin.
[vmon2][DEBUG ] Preparing to unpack .../cryptsetup-bin_2%3a1.6.1-1ubuntu1_amd64.deb ...
[vmon2][DEBUG ] Unpacking cryptsetup-bin (2:1.6.1-1ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package gdisk.
[vmon2][DEBUG ] Preparing to unpack .../gdisk_0.8.8-1build1_amd64.deb ...
[vmon2][DEBUG ] Unpacking gdisk (0.8.8-1build1) ...
[vmon2][DEBUG ] Selecting previously unselected package xfsprogs.
[vmon2][DEBUG ] Preparing to unpack .../xfsprogs_3.1.9ubuntu2_amd64.deb ...
[vmon2][DEBUG ] Unpacking xfsprogs (3.1.9ubuntu2) ...
[vmon2][DEBUG ] Selecting previously unselected package libjs-jquery.
[vmon2][DEBUG ] Preparing to unpack .../libjs-jquery_1.7.2+dfsg-2ubuntu1_all.deb ...
[vmon2][DEBUG ] Unpacking libjs-jquery (1.7.2+dfsg-2ubuntu1) ...
[vmon2][DEBUG ] Selecting previously unselected package python-werkzeug.
[vmon2][DEBUG ] Preparing to unpack .../python-werkzeug_0.9.4+dfsg-1.1ubuntu2_all.deb ...
[vmon2][DEBUG ] Unpacking python-werkzeug (0.9.4+dfsg-1.1ubuntu2) ...
[vmon2][DEBUG ] Selecting previously unselected package python-markupsafe.
[vmon2][DEBUG ] Preparing to unpack .../python-markupsafe_0.18-1build2_amd64.deb ...
[vmon2][DEBUG ] Unpacking python-markupsafe (0.18-1build2) ...
[vmon2][DEBUG ] Selecting previously unselected package python-jinja2.
[vmon2][DEBUG ] Preparing to unpack .../python-jinja2_2.7.2-2_all.deb ...
[vmon2][DEBUG ] Unpacking python-jinja2 (2.7.2-2) ...
[vmon2][DEBUG ] Selecting previously unselected package python-itsdangerous.
[vmon2][DEBUG ] Preparing to unpack .../python-itsdangerous_0.22+dfsg1-1build1_all.deb ...
[vmon2][DEBUG ] Unpacking python-itsdangerous (0.22+dfsg1-1build1) ...
[vmon2][DEBUG ] Selecting previously unselected package python-flask.
[vmon2][DEBUG ] Preparing to unpack .../python-flask_0.10.1-2build1_all.deb ...
[vmon2][DEBUG ] Unpacking python-flask (0.10.1-2build1) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph.
[vmon2][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon2][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon2][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon2][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon2][DEBUG ] Setting up libaio1:amd64 (0.3.109-4) ...
[vmon2][DEBUG ] Setting up libboost-system1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon2][DEBUG ] Setting up libboost-thread1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon2][DEBUG ] Setting up libicu52:amd64 (52.1-3ubuntu0.2) ...
[vmon2][DEBUG ] Setting up libsnappy1 (1.1.0-1ubuntu1) ...
[vmon2][DEBUG ] Setting up libleveldb1:amd64 (1.15.0-2) ...
[vmon2][DEBUG ] Setting up libnspr4:amd64 (2:4.10.7-0ubuntu0.14.04.1) ...
[vmon2][DEBUG ] Setting up libunwind8 (1.1-2.2ubuntu3) ...
[vmon2][DEBUG ] Setting up liburcu1 (0.7.12-0ubuntu2) ...
[vmon2][DEBUG ] Setting up liblttng-ust-ctl2:amd64 (2.4.0-4ubuntu1) ...
[vmon2][DEBUG ] Setting up liblttng-ust0:amd64 (2.4.0-4ubuntu1) ...
[vmon2][DEBUG ] Setting up binutils (2.24-5ubuntu3.1) ...
[vmon2][DEBUG ] Setting up libtcmalloc-minimal4 (2.1-2ubuntu1) ...
[vmon2][DEBUG ] Setting up libgoogle-perftools4 (2.1-2ubuntu1) ...
[vmon2][DEBUG ] Setting up libcryptsetup4 (2:1.6.1-1ubuntu1) ...
[vmon2][DEBUG ] Setting up cryptsetup-bin (2:1.6.1-1ubuntu1) ...
[vmon2][DEBUG ] Setting up gdisk (0.8.8-1build1) ...
[vmon2][DEBUG ] Setting up xfsprogs (3.1.9ubuntu2) ...
[vmon2][DEBUG ] Setting up libjs-jquery (1.7.2+dfsg-2ubuntu1) ...
[vmon2][DEBUG ] Setting up python-werkzeug (0.9.4+dfsg-1.1ubuntu2) ...
[vmon2][DEBUG ] Setting up python-markupsafe (0.18-1build2) ...
[vmon2][DEBUG ] Setting up python-jinja2 (2.7.2-2) ...
[vmon2][DEBUG ] Setting up python-itsdangerous (0.22+dfsg1-1build1) ...
[vmon2][DEBUG ] Setting up python-flask (0.10.1-2build1) ...
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up libnss3-nssdb (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon2][DEBUG ] Setting up libnss3:amd64 (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon2][DEBUG ] Setting up librados2 (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up librbd1 (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up libcephfs1 (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up python-ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-all start/running
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon2][DEBUG ] ceph-mds-all start/running
[vmon2][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon2][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon2][INFO  ] Running command: sudo ceph --version
[vmon2][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon3 ...
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][INFO  ] installing ceph on vmon3
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following packages will be upgraded:
[vmon3][DEBUG ]   ca-certificates
[vmon3][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 119 not upgraded.
[vmon3][DEBUG ] Need to get 189 kB of archives.
[vmon3][DEBUG ] After this operation, 20.5 kB of additional disk space will be used.
[vmon3][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main ca-certificates all 20141019ubuntu0.14.04.1 [189 kB]
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Preconfiguring packages ...
[vmon3][DEBUG ] Fetched 189 kB in 1s (182 kB/s)
[vmon3][DEBUG ] (Reading database ... 55776 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../ca-certificates_20141019ubuntu0.14.04.1_all.deb ...
[vmon3][DEBUG ] Unpacking ca-certificates (20141019ubuntu0.14.04.1) over (20130906ubuntu2) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Setting up ca-certificates (20141019ubuntu0.14.04.1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Processing triggers for ca-certificates (20141019ubuntu0.14.04.1) ...
[vmon3][DEBUG ] Updating certificates in /etc/ssl/certs... 17 added, 8 removed; done.
[vmon3][DEBUG ] Running hooks in /etc/ca-certificates/update.d....done.
[vmon3][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] --2015-03-30 15:46:11--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon3][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon3][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon3][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon3][WARNING] Length: unspecified [text/plain]
[vmon3][WARNING] Saving to: 'release.asc'
[vmon3][WARNING] 
[vmon3][WARNING]      0K .                                                      46.2M=0s
[vmon3][WARNING] 
[vmon3][WARNING] 2015-03-30 15:46:17 (46.2 MB/s) - 'release.asc' saved [1752]
[vmon3][WARNING] 
[vmon3][INFO  ] Running command: sudo apt-key add release.asc
[vmon3][DEBUG ] OK
[vmon3][DEBUG ] add deb repo to sources.list
[vmon3][INFO  ] Running command: sudo apt-get -q update
[vmon3][DEBUG ] Get:1 http://ceph.com trusty InRelease [6855 B]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon3][DEBUG ] Get:2 http://ceph.com trusty/main amd64 Packages [6926 B]
[vmon3][DEBUG ] Get:3 http://ceph.com trusty/main i386 Packages [785 B]
[vmon3][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon3][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon3][DEBUG ] Get:4 http://security.ubuntu.com trusty-security Release.gpg [933 B]
[vmon3][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security Release [63.5 kB]
[vmon3][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-backports Release.gpg [933 B]
[vmon3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon3][DEBUG ] Get:8 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon3][DEBUG ] Get:9 http://us.archive.ubuntu.com trusty-backports Release [63.5 kB]
[vmon3][DEBUG ] Get:10 http://security.ubuntu.com trusty-security/main Sources [75.7 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon3][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/restricted Sources [2061 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/universe Sources [18.0 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon3][DEBUG ] Get:13 http://security.ubuntu.com trusty-security/multiverse Sources [1905 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/main amd64 Packages [251 kB]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/restricted amd64 Packages [8875 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon3][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/universe amd64 Packages [89.7 kB]
[vmon3][DEBUG ] Get:17 http://us.archive.ubuntu.com trusty-updates/main Sources [189 kB]
[vmon3][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [3459 B]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon3][DEBUG ] Get:20 http://security.ubuntu.com trusty-security/main i386 Packages [241 kB]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4765 B]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [488 kB]
[vmon3][DEBUG ] Get:24 http://security.ubuntu.com trusty-security/restricted i386 Packages [8846 B]
[vmon3][DEBUG ] Get:25 http://security.ubuntu.com trusty-security/universe i386 Packages [89.6 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [261 kB]
[vmon3][DEBUG ] Get:28 http://security.ubuntu.com trusty-security/multiverse i386 Packages [3628 B]
[vmon3][DEBUG ] Get:29 http://security.ubuntu.com trusty-security/main Translation-en [126 kB]
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon3][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.7 kB]
[vmon3][DEBUG ] Get:31 http://security.ubuntu.com trusty-security/universe Translation-en [49.8 kB]
[vmon3][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [477 kB]
[vmon3][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon3][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [261 kB]
[vmon3][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.9 kB]
[vmon3][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-updates/main Translation-en [231 kB]
[vmon3][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en [6076 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon3][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-updates/universe Translation-en [134 kB]
[vmon3][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/main Sources [5298 B]
[vmon3][DEBUG ] Get:40 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vmon3][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/universe Sources [22.5 kB]
[vmon3][DEBUG ] Get:42 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vmon3][DEBUG ] Get:43 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [5536 B]
[vmon3][DEBUG ] Get:44 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vmon3][DEBUG ] Get:45 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [26.2 kB]
[vmon3][DEBUG ] Get:46 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1245 B]
[vmon3][DEBUG ] Get:47 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [5550 B]
[vmon3][DEBUG ] Get:48 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vmon3][DEBUG ] Get:49 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [26.3 kB]
[vmon3][DEBUG ] Get:50 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1249 B]
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon3][DEBUG ] Fetched 3477 kB in 19s (177 kB/s)
[vmon3][DEBUG ] Reading package lists...
[vmon3][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon3][DEBUG ] Reading package lists...
[vmon3][DEBUG ] Building dependency tree...
[vmon3][DEBUG ] Reading state information...
[vmon3][DEBUG ] The following extra packages will be installed:
[vmon3][DEBUG ]   binutils cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vmon3][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libicu52 libjs-jquery
[vmon3][DEBUG ]   libleveldb1 liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb
[vmon3][DEBUG ]   librados2 librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1
[vmon3][DEBUG ]   python-ceph python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] Suggested packages:
[vmon3][DEBUG ]   binutils-doc javascript-common python-flask-doc python-jinja2-doc ipython
[vmon3][DEBUG ]   python-genshi python-lxml python-greenlet python-redis python-pylibmc
[vmon3][DEBUG ]   python-memcache python-werkzeug-doc xfsdump acl attr quota
[vmon3][DEBUG ] Recommended packages:
[vmon3][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse python-blinker python-pyinotify
[vmon3][DEBUG ] The following NEW packages will be installed:
[vmon3][DEBUG ]   binutils ceph ceph-common ceph-fs-common ceph-mds cryptsetup-bin gdisk
[vmon3][DEBUG ]   libaio1 libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon3][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libicu52 libjs-jquery libleveldb1
[vmon3][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon3][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon3][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon3][DEBUG ]   python-werkzeug xfsprogs
[vmon3][DEBUG ] 0 upgraded, 34 newly installed, 0 to remove and 124 not upgraded.
[vmon3][DEBUG ] Need to get 35.4 MB of archives.
[vmon3][DEBUG ] After this operation, 156 MB of additional disk space will be used.
[vmon3][DEBUG ] Get:1 http://ceph.com/debian-giant/ trusty/main librados2 amd64 0.87.1-1trusty [2256 kB]
[vmon3][DEBUG ] Get:2 http://us.archive.ubuntu.com/ubuntu/ trusty/main libaio1 amd64 0.3.109-4 [6364 B]
[vmon3][DEBUG ] Get:3 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libboost-system1.54.0 amd64 1.54.0-4ubuntu3.1 [10.1 kB]
[vmon3][DEBUG ] Get:4 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libboost-thread1.54.0 amd64 1.54.0-4ubuntu3.1 [26.5 kB]
[vmon3][DEBUG ] Get:5 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libicu52 amd64 52.1-3ubuntu0.2 [6751 kB]
[vmon3][DEBUG ] Get:6 http://ceph.com/debian-giant/ trusty/main librbd1 amd64 0.87.1-1trusty [1075 kB]
[vmon3][DEBUG ] Get:7 http://ceph.com/debian-giant/ trusty/main libcephfs1 amd64 0.87.1-1trusty [2276 kB]
[vmon3][DEBUG ] Get:8 http://us.archive.ubuntu.com/ubuntu/ trusty/main libsnappy1 amd64 1.1.0-1ubuntu1 [11.2 kB]
[vmon3][DEBUG ] Get:9 http://us.archive.ubuntu.com/ubuntu/ trusty/main libleveldb1 amd64 1.15.0-2 [117 kB]
[vmon3][DEBUG ] Get:10 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libnspr4 amd64 2:4.10.7-0ubuntu0.14.04.1 [111 kB]
[vmon3][DEBUG ] Get:11 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libnss3-nssdb all 2:3.17.4-0ubuntu0.14.04.1 [10.6 kB]
[vmon3][DEBUG ] Get:12 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main libnss3 amd64 2:3.17.4-0ubuntu0.14.04.1 [1096 kB]
[vmon3][DEBUG ] Get:13 http://ceph.com/debian-giant/ trusty/main python-ceph amd64 0.87.1-1trusty [743 kB]
[vmon3][DEBUG ] Get:14 http://us.archive.ubuntu.com/ubuntu/ trusty/main libunwind8 amd64 1.1-2.2ubuntu3 [48.3 kB]
[vmon3][DEBUG ] Get:15 http://ceph.com/debian-giant/ trusty/main ceph-common amd64 0.87.1-1trusty [4904 kB]
[vmon3][DEBUG ] Get:16 http://us.archive.ubuntu.com/ubuntu/ trusty/main liburcu1 amd64 0.7.12-0ubuntu2 [34.9 kB]
[vmon3][DEBUG ] Get:17 http://us.archive.ubuntu.com/ubuntu/ trusty/main liblttng-ust-ctl2 amd64 2.4.0-4ubuntu1 [61.7 kB]
[vmon3][DEBUG ] Get:18 http://us.archive.ubuntu.com/ubuntu/ trusty/main liblttng-ust0 amd64 2.4.0-4ubuntu1 [106 kB]
[vmon3][DEBUG ] Get:19 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main binutils amd64 2.24-5ubuntu3.1 [2076 kB]
[vmon3][DEBUG ] Get:20 http://us.archive.ubuntu.com/ubuntu/ trusty/main libtcmalloc-minimal4 amd64 2.1-2ubuntu1 [104 kB]
[vmon3][DEBUG ] Get:21 http://us.archive.ubuntu.com/ubuntu/ trusty/main libgoogle-perftools4 amd64 2.1-2ubuntu1 [184 kB]
[vmon3][DEBUG ] Get:22 http://us.archive.ubuntu.com/ubuntu/ trusty/main libcryptsetup4 amd64 2:1.6.1-1ubuntu1 [77.0 kB]
[vmon3][DEBUG ] Get:23 http://us.archive.ubuntu.com/ubuntu/ trusty/main cryptsetup-bin amd64 2:1.6.1-1ubuntu1 [80.4 kB]
[vmon3][DEBUG ] Get:24 http://us.archive.ubuntu.com/ubuntu/ trusty/main gdisk amd64 0.8.8-1build1 [186 kB]
[vmon3][DEBUG ] Get:25 http://us.archive.ubuntu.com/ubuntu/ trusty/main xfsprogs amd64 3.1.9ubuntu2 [508 kB]
[vmon3][DEBUG ] Get:26 http://us.archive.ubuntu.com/ubuntu/ trusty/main libjs-jquery all 1.7.2+dfsg-2ubuntu1 [78.8 kB]
[vmon3][DEBUG ] Get:27 http://ceph.com/debian-giant/ trusty/main ceph amd64 0.87.1-1trusty [7767 kB]
[vmon3][DEBUG ] Get:28 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main python-werkzeug all 0.9.4+dfsg-1.1ubuntu2 [236 kB]
[vmon3][DEBUG ] Get:29 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-markupsafe amd64 0.18-1build2 [14.3 kB]
[vmon3][DEBUG ] Get:30 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-jinja2 all 2.7.2-2 [161 kB]
[vmon3][DEBUG ] Get:31 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-itsdangerous all 0.22+dfsg1-1build1 [11.5 kB]
[vmon3][DEBUG ] Get:32 http://us.archive.ubuntu.com/ubuntu/ trusty/main python-flask all 0.10.1-2build1 [51.7 kB]
[vmon3][DEBUG ] Get:33 http://ceph.com/debian-giant/ trusty/main ceph-fs-common amd64 0.87.1-1trusty [737 kB]
[vmon3][DEBUG ] Get:34 http://ceph.com/debian-giant/ trusty/main ceph-mds amd64 0.87.1-1trusty [3451 kB]
[vmon3][WARNING] perl: warning: Setting locale failed.
[vmon3][WARNING] perl: warning: Please check that your locale settings:
[vmon3][WARNING] 	LANGUAGE = (unset),
[vmon3][WARNING] 	LC_ALL = (unset),
[vmon3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon3][WARNING] 	LANG = "en_US.UTF-8"
[vmon3][WARNING]     are supported and installed on your system.
[vmon3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][WARNING] Extracting templates from packages: 88%Extracting templates from packages: 100%
[vmon3][DEBUG ] Fetched 35.4 MB in 32s (1091 kB/s)
[vmon3][DEBUG ] Selecting previously unselected package libaio1:amd64.
[vmon3][DEBUG ] (Reading database ... 55785 files and directories currently installed.)
[vmon3][DEBUG ] Preparing to unpack .../libaio1_0.3.109-4_amd64.deb ...
[vmon3][DEBUG ] Unpacking libaio1:amd64 (0.3.109-4) ...
[vmon3][DEBUG ] Selecting previously unselected package libboost-system1.54.0:amd64.
[vmon3][DEBUG ] Preparing to unpack .../libboost-system1.54.0_1.54.0-4ubuntu3.1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libboost-system1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon3][DEBUG ] Selecting previously unselected package libboost-thread1.54.0:amd64.
[vmon3][DEBUG ] Preparing to unpack .../libboost-thread1.54.0_1.54.0-4ubuntu3.1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libboost-thread1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon3][DEBUG ] Selecting previously unselected package libicu52:amd64.
[vmon3][DEBUG ] Preparing to unpack .../libicu52_52.1-3ubuntu0.2_amd64.deb ...
[vmon3][DEBUG ] Unpacking libicu52:amd64 (52.1-3ubuntu0.2) ...
[vmon3][DEBUG ] Selecting previously unselected package libsnappy1.
[vmon3][DEBUG ] Preparing to unpack .../libsnappy1_1.1.0-1ubuntu1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libsnappy1 (1.1.0-1ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package libleveldb1:amd64.
[vmon3][DEBUG ] Preparing to unpack .../libleveldb1_1.15.0-2_amd64.deb ...
[vmon3][DEBUG ] Unpacking libleveldb1:amd64 (1.15.0-2) ...
[vmon3][DEBUG ] Selecting previously unselected package libnspr4:amd64.
[vmon3][DEBUG ] Preparing to unpack .../libnspr4_2%3a4.10.7-0ubuntu0.14.04.1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libnspr4:amd64 (2:4.10.7-0ubuntu0.14.04.1) ...
[vmon3][DEBUG ] Selecting previously unselected package libnss3-nssdb.
[vmon3][DEBUG ] Preparing to unpack .../libnss3-nssdb_2%3a3.17.4-0ubuntu0.14.04.1_all.deb ...
[vmon3][DEBUG ] Unpacking libnss3-nssdb (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon3][DEBUG ] Selecting previously unselected package libnss3:amd64.
[vmon3][DEBUG ] Preparing to unpack .../libnss3_2%3a3.17.4-0ubuntu0.14.04.1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libnss3:amd64 (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon3][DEBUG ] Selecting previously unselected package libunwind8.
[vmon3][DEBUG ] Preparing to unpack .../libunwind8_1.1-2.2ubuntu3_amd64.deb ...
[vmon3][DEBUG ] Unpacking libunwind8 (1.1-2.2ubuntu3) ...
[vmon3][DEBUG ] Selecting previously unselected package liburcu1.
[vmon3][DEBUG ] Preparing to unpack .../liburcu1_0.7.12-0ubuntu2_amd64.deb ...
[vmon3][DEBUG ] Unpacking liburcu1 (0.7.12-0ubuntu2) ...
[vmon3][DEBUG ] Selecting previously unselected package liblttng-ust-ctl2:amd64.
[vmon3][DEBUG ] Preparing to unpack .../liblttng-ust-ctl2_2.4.0-4ubuntu1_amd64.deb ...
[vmon3][DEBUG ] Unpacking liblttng-ust-ctl2:amd64 (2.4.0-4ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package liblttng-ust0:amd64.
[vmon3][DEBUG ] Preparing to unpack .../liblttng-ust0_2.4.0-4ubuntu1_amd64.deb ...
[vmon3][DEBUG ] Unpacking liblttng-ust0:amd64 (2.4.0-4ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package binutils.
[vmon3][DEBUG ] Preparing to unpack .../binutils_2.24-5ubuntu3.1_amd64.deb ...
[vmon3][DEBUG ] Unpacking binutils (2.24-5ubuntu3.1) ...
[vmon3][DEBUG ] Selecting previously unselected package librados2.
[vmon3][DEBUG ] Preparing to unpack .../librados2_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking librados2 (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package librbd1.
[vmon3][DEBUG ] Preparing to unpack .../librbd1_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking librbd1 (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package libtcmalloc-minimal4.
[vmon3][DEBUG ] Preparing to unpack .../libtcmalloc-minimal4_2.1-2ubuntu1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libtcmalloc-minimal4 (2.1-2ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package libgoogle-perftools4.
[vmon3][DEBUG ] Preparing to unpack .../libgoogle-perftools4_2.1-2ubuntu1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libgoogle-perftools4 (2.1-2ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package libcephfs1.
[vmon3][DEBUG ] Preparing to unpack .../libcephfs1_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking libcephfs1 (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package python-ceph.
[vmon3][DEBUG ] Preparing to unpack .../python-ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking python-ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package libcryptsetup4.
[vmon3][DEBUG ] Preparing to unpack .../libcryptsetup4_2%3a1.6.1-1ubuntu1_amd64.deb ...
[vmon3][DEBUG ] Unpacking libcryptsetup4 (2:1.6.1-1ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package cryptsetup-bin.
[vmon3][DEBUG ] Preparing to unpack .../cryptsetup-bin_2%3a1.6.1-1ubuntu1_amd64.deb ...
[vmon3][DEBUG ] Unpacking cryptsetup-bin (2:1.6.1-1ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package gdisk.
[vmon3][DEBUG ] Preparing to unpack .../gdisk_0.8.8-1build1_amd64.deb ...
[vmon3][DEBUG ] Unpacking gdisk (0.8.8-1build1) ...
[vmon3][DEBUG ] Selecting previously unselected package xfsprogs.
[vmon3][DEBUG ] Preparing to unpack .../xfsprogs_3.1.9ubuntu2_amd64.deb ...
[vmon3][DEBUG ] Unpacking xfsprogs (3.1.9ubuntu2) ...
[vmon3][DEBUG ] Selecting previously unselected package libjs-jquery.
[vmon3][DEBUG ] Preparing to unpack .../libjs-jquery_1.7.2+dfsg-2ubuntu1_all.deb ...
[vmon3][DEBUG ] Unpacking libjs-jquery (1.7.2+dfsg-2ubuntu1) ...
[vmon3][DEBUG ] Selecting previously unselected package python-werkzeug.
[vmon3][DEBUG ] Preparing to unpack .../python-werkzeug_0.9.4+dfsg-1.1ubuntu2_all.deb ...
[vmon3][DEBUG ] Unpacking python-werkzeug (0.9.4+dfsg-1.1ubuntu2) ...
[vmon3][DEBUG ] Selecting previously unselected package python-markupsafe.
[vmon3][DEBUG ] Preparing to unpack .../python-markupsafe_0.18-1build2_amd64.deb ...
[vmon3][DEBUG ] Unpacking python-markupsafe (0.18-1build2) ...
[vmon3][DEBUG ] Selecting previously unselected package python-jinja2.
[vmon3][DEBUG ] Preparing to unpack .../python-jinja2_2.7.2-2_all.deb ...
[vmon3][DEBUG ] Unpacking python-jinja2 (2.7.2-2) ...
[vmon3][DEBUG ] Selecting previously unselected package python-itsdangerous.
[vmon3][DEBUG ] Preparing to unpack .../python-itsdangerous_0.22+dfsg1-1build1_all.deb ...
[vmon3][DEBUG ] Unpacking python-itsdangerous (0.22+dfsg1-1build1) ...
[vmon3][DEBUG ] Selecting previously unselected package python-flask.
[vmon3][DEBUG ] Preparing to unpack .../python-flask_0.10.1-2build1_all.deb ...
[vmon3][DEBUG ] Unpacking python-flask (0.10.1-2build1) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph.
[vmon3][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon3][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon3][DEBUG ] Setting up libaio1:amd64 (0.3.109-4) ...
[vmon3][DEBUG ] Setting up libboost-system1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon3][DEBUG ] Setting up libboost-thread1.54.0:amd64 (1.54.0-4ubuntu3.1) ...
[vmon3][DEBUG ] Setting up libicu52:amd64 (52.1-3ubuntu0.2) ...
[vmon3][DEBUG ] Setting up libsnappy1 (1.1.0-1ubuntu1) ...
[vmon3][DEBUG ] Setting up libleveldb1:amd64 (1.15.0-2) ...
[vmon3][DEBUG ] Setting up libnspr4:amd64 (2:4.10.7-0ubuntu0.14.04.1) ...
[vmon3][DEBUG ] Setting up libunwind8 (1.1-2.2ubuntu3) ...
[vmon3][DEBUG ] Setting up liburcu1 (0.7.12-0ubuntu2) ...
[vmon3][DEBUG ] Setting up liblttng-ust-ctl2:amd64 (2.4.0-4ubuntu1) ...
[vmon3][DEBUG ] Setting up liblttng-ust0:amd64 (2.4.0-4ubuntu1) ...
[vmon3][DEBUG ] Setting up binutils (2.24-5ubuntu3.1) ...
[vmon3][DEBUG ] Setting up libtcmalloc-minimal4 (2.1-2ubuntu1) ...
[vmon3][DEBUG ] Setting up libgoogle-perftools4 (2.1-2ubuntu1) ...
[vmon3][DEBUG ] Setting up libcryptsetup4 (2:1.6.1-1ubuntu1) ...
[vmon3][DEBUG ] Setting up cryptsetup-bin (2:1.6.1-1ubuntu1) ...
[vmon3][DEBUG ] Setting up gdisk (0.8.8-1build1) ...
[vmon3][DEBUG ] Setting up xfsprogs (3.1.9ubuntu2) ...
[vmon3][DEBUG ] Setting up libjs-jquery (1.7.2+dfsg-2ubuntu1) ...
[vmon3][DEBUG ] Setting up python-werkzeug (0.9.4+dfsg-1.1ubuntu2) ...
[vmon3][DEBUG ] Setting up python-markupsafe (0.18-1build2) ...
[vmon3][DEBUG ] Setting up python-jinja2 (2.7.2-2) ...
[vmon3][DEBUG ] Setting up python-itsdangerous (0.22+dfsg1-1build1) ...
[vmon3][DEBUG ] Setting up python-flask (0.10.1-2build1) ...
[vmon3][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up libnss3-nssdb (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon3][DEBUG ] Setting up libnss3:amd64 (2:3.17.4-0ubuntu0.14.04.1) ...
[vmon3][DEBUG ] Setting up librados2 (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up librbd1 (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up libcephfs1 (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up python-ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-all start/running
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon3][DEBUG ] ceph-mds-all start/running
[vmon3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon3][INFO  ] Running command: sudo ceph --version
[vmon3][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial mon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts mon1
[ceph_deploy.mon][DEBUG ] detecting platform for host mon1 ...
[mon1][DEBUG ] connection detected need for sudo
[mon1][DEBUG ] connected to host: mon1 
[mon1][DEBUG ] detect platform information from remote host
[mon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[mon1][DEBUG ] determining if provided host has same hostname in remote
[mon1][DEBUG ] get remote short hostname
[mon1][WARNING] ********************************************************************************
[mon1][WARNING] provided hostname must match remote hostname
[mon1][WARNING] provided hostname: mon1
[mon1][WARNING] remote hostname: vmon1
[mon1][WARNING] monitors may not reach quorum and create-keys will not complete
[mon1][WARNING] ********************************************************************************
[mon1][DEBUG ] deploying mon to mon1
[mon1][DEBUG ] get remote short hostname
[mon1][DEBUG ] remote hostname: vmon1
[mon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.mon][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to create 1 monitors

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial mon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts mon1
[ceph_deploy.mon][DEBUG ] detecting platform for host mon1 ...
[mon1][DEBUG ] connection detected need for sudo
[mon1][DEBUG ] connected to host: mon1 
[mon1][DEBUG ] detect platform information from remote host
[mon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[mon1][DEBUG ] determining if provided host has same hostname in remote
[mon1][DEBUG ] get remote short hostname
[mon1][WARNING] ********************************************************************************
[mon1][WARNING] provided hostname must match remote hostname
[mon1][WARNING] provided hostname: mon1
[mon1][WARNING] remote hostname: vmon1
[mon1][WARNING] monitors may not reach quorum and create-keys will not complete
[mon1][WARNING] ********************************************************************************
[mon1][DEBUG ] deploying mon to mon1
[mon1][DEBUG ] get remote short hostname
[mon1][DEBUG ] remote hostname: vmon1
[mon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.mon][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to create 1 monitors

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf mon create-initial mon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts mon1
[ceph_deploy.mon][DEBUG ] detecting platform for host mon1 ...
[mon1][DEBUG ] connection detected need for sudo
[mon1][DEBUG ] connected to host: mon1 
[mon1][DEBUG ] detect platform information from remote host
[mon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[mon1][DEBUG ] determining if provided host has same hostname in remote
[mon1][DEBUG ] get remote short hostname
[mon1][WARNING] ********************************************************************************
[mon1][WARNING] provided hostname must match remote hostname
[mon1][WARNING] provided hostname: mon1
[mon1][WARNING] remote hostname: vmon1
[mon1][WARNING] monitors may not reach quorum and create-keys will not complete
[mon1][WARNING] ********************************************************************************
[mon1][DEBUG ] deploying mon to mon1
[mon1][DEBUG ] get remote short hostname
[mon1][DEBUG ] remote hostname: vmon1
[mon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[mon1][DEBUG ] create the mon path if it does not exist
[mon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[mon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[mon1][DEBUG ] create the init path if it does not exist
[mon1][DEBUG ] locating the `service` executable...
[mon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[mon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.mon1.asok mon_status
[mon1][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[mon1][WARNING] monitor: mon.mon1, might not be running yet
[mon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.mon1.asok mon_status
[mon1][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[mon1][WARNING] monitor mon1 does not exist in monmap
[mon1][WARNING] neither `public_addr` nor `public_network` keys are defined for monitors
[mon1][WARNING] monitors may not be able to form quorum
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.client.admin.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-osd.keyring
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.bootstrap-mds.keyring
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purge vmon1
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging host ... vmon1
[vmon1][INFO  ] Running command: sudo apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] The following packages will be REMOVED:
[vmon1][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 140 not upgraded.
[vmon1][DEBUG ] After this operation, 84.1 MB disk space will be freed.
[vmon1][DEBUG ] (Reading database ... 58137 files and directories currently installed.)
[vmon1][DEBUG ] Removing ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all stop/waiting
[vmon1][DEBUG ] Purging configuration files for ceph (0.87.1-1trusty) ...
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-mds' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/mon' not empty so not removed
[vmon1][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vmon1][DEBUG ] Removing ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Purging configuration files for ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Removing ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] debconf: unable to initialize frontend: Dialog
[vmon1][WARNING] debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
[vmon1][WARNING] debconf: falling back to frontend: Readline
[vmon1][WARNING] debconf: unable to initialize frontend: Readline
[vmon1][WARNING] debconf: (This frontend requires a controlling tty.)
[vmon1][WARNING] debconf: falling back to frontend: Teletype
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy purgedata vmon1
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] purging data on vmon1
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /var/lib/ceph
[vmon1][INFO  ] Running command: sudo rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: vdeploy 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /bin/ip link show
[vmon1][INFO  ] Running command: sudo /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.51
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.51']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy install vmon1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] ca-certificates is already the newest version.
[vmon1][DEBUG ] The following packages were automatically installed and are no longer required:
[vmon1][DEBUG ]   cryptsetup-bin libboost-system1.54.0 libboost-thread1.54.0 libcephfs1
[vmon1][DEBUG ]   libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vmon1][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vmon1][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vmon1][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vmon1][DEBUG ]   python-werkzeug xfsprogs
[vmon1][DEBUG ] Use 'apt-get autoremove' to remove them.
[vmon1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 140 not upgraded.
[vmon1][INFO  ] Running command: sudo wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2015-03-30 15:50:10--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 208.113.241.137, 2607:f298:4:147::b05:fe2a
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|208.113.241.137|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: unspecified [text/plain]
[vmon1][WARNING] Saving to: 'release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                      34.9M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2015-03-30 15:50:13 (34.9 MB/s) - 'release.asc' saved [1752]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: sudo apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: sudo apt-get -q update
[vmon1][DEBUG ] Hit http://ceph.com trusty InRelease
[vmon1][DEBUG ] Ign http://security.ubuntu.com trusty-security InRelease
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release.gpg
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-updates InRelease
[vmon1][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security Release
[vmon1][DEBUG ] Ign http://us.archive.ubuntu.com trusty-backports InRelease
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vmon1][DEBUG ] Get:1 http://us.archive.ubuntu.com trusty-updates Release.gpg [933 B]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vmon1][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vmon1][DEBUG ] Get:2 http://us.archive.ubuntu.com trusty-updates Release [63.5 kB]
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vmon1][DEBUG ] Get:3 http://us.archive.ubuntu.com trusty-updates/main Sources [189 kB]
[vmon1][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-updates/restricted Sources [2564 B]
[vmon1][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates/universe Sources [107 kB]
[vmon1][DEBUG ] Get:6 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [4765 B]
[vmon1][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [488 kB]
[vmon1][DEBUG ] Get:8 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [9238 B]
[vmon1][DEBUG ] Get:9 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [261 kB]
[vmon1][DEBUG ] Get:10 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [11.7 kB]
[vmon1][DEBUG ] Get:11 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [477 kB]
[vmon1][DEBUG ] Get:12 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [9256 B]
[vmon1][DEBUG ] Get:13 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [261 kB]
[vmon1][DEBUG ] Get:14 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [11.9 kB]
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vmon1][DEBUG ] Fetched 1896 kB in 20s (91.4 kB/s)
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] gdisk is already the newest version.
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vmon1][DEBUG ] The following NEW packages will be installed:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 140 not upgraded.
[vmon1][DEBUG ] Need to get 0 B/16.9 MB of archives.
[vmon1][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vmon1][DEBUG ] Selecting previously unselected package ceph-common.
[vmon1][DEBUG ] (Reading database ... 57927 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to unpack .../ceph-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph.
[vmon1][DEBUG ] Preparing to unpack .../ceph_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vmon1][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Selecting previously unselected package ceph-mds.
[vmon1][DEBUG ] Preparing to unpack .../ceph-mds_0.87.1-1trusty_amd64.deb ...
[vmon1][DEBUG ] Unpacking ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] ureadahead will be reprofiled on next reboot
[vmon1][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ceph-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.1-1trusty) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-all start/running
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][DEBUG ] Setting up ceph-mds (0.87.1-1trusty) ...
[vmon1][DEBUG ] ceph-mds-all start/running
[vmon1][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vmon1][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vmon1][INFO  ] Running command: sudo ceph --version
[vmon1][DEBUG ] ceph version 0.87.1 (283c2e7cfa2457799f534744d7d549f83ea1335e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][DEBUG ] create the mon path if it does not exist
[vmon1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-vmon1/done
[vmon1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create the monitor keyring file
[vmon1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i vmon1 --keyring /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] ceph-mon: mon.noname-a 172.22.3.51:6789/0 is local, renaming to mon.vmon1
[vmon1][DEBUG ] ceph-mon: set fsid to 9a0ec34e-d143-46ff-8879-fc0b2b7e0914
[vmon1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-vmon1 for mon.vmon1
[vmon1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-vmon1.mon.keyring
[vmon1][DEBUG ] create a done file to avoid re-doing the mon deployment
[vmon1][DEBUG ] create the init path if it does not exist
[vmon1][DEBUG ] locating the `service` executable...
[vmon1][INFO  ] Running command: sudo initctl emit ceph-mon cluster=ceph id=vmon1
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[vmon1][DEBUG ] ********************************************************************************
[vmon1][DEBUG ] status for monitor: mon.vmon1
[vmon1][DEBUG ] {
[vmon1][DEBUG ]   "election_epoch": 2, 
[vmon1][DEBUG ]   "extra_probe_peers": [], 
[vmon1][DEBUG ]   "monmap": {
[vmon1][DEBUG ]     "created": "0.000000", 
[vmon1][DEBUG ]     "epoch": 1, 
[vmon1][DEBUG ]     "fsid": "9a0ec34e-d143-46ff-8879-fc0b2b7e0914", 
[vmon1][DEBUG ]     "modified": "0.000000", 
[vmon1][DEBUG ]     "mons": [
[vmon1][DEBUG ]       {
[vmon1][DEBUG ]         "addr": "172.22.3.51:6789/0", 
[vmon1][DEBUG ]         "name": "vmon1", 
[vmon1][DEBUG ]         "rank": 0
[vmon1][DEBUG ]       }
[vmon1][DEBUG ]     ]
[vmon1][DEBUG ]   }, 
[vmon1][DEBUG ]   "name": "vmon1", 
[vmon1][DEBUG ]   "outside_quorum": [], 
[vmon1][DEBUG ]   "quorum": [
[vmon1][DEBUG ]     0
[vmon1][DEBUG ]   ], 
[vmon1][DEBUG ]   "rank": 0, 
[vmon1][DEBUG ]   "state": "leader", 
[vmon1][DEBUG ]   "sync_provider": []
[vmon1][DEBUG ] }
[vmon1][DEBUG ] ********************************************************************************
[vmon1][INFO  ] monitor: mon.vmon1 is running
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] processing monitor mon.vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.vmon1.asok mon_status
[ceph_deploy.mon][INFO  ] mon.vmon1 monitor has reached quorum!
[ceph_deploy.mon][INFO  ] all initial monitors are running and have formed quorum
[ceph_deploy.mon][INFO  ] Running gatherkeys...
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdc
[ceph_deploy.osd][DEBUG ] zapping /dev/sdc on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdc
[vmon1][DEBUG ] Creating new GPT entries.
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdc
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdc
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdc:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdc:/dev/sdb1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdc journal /dev/sdb1 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdc /dev/sdb1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb1 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:2edef958-f7f9-4639-a4ef-679e8148a49c --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdc
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdc1
[vmon1][DEBUG ] meta-data=/dev/sdc1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.x7e_Rw with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.x7e_Rw
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.x7e_Rw
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.x7e_Rw/journal -> /dev/sdb1
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.x7e_Rw
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.x7e_Rw
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdc
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdc
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdc
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdc1:/dev/sdb1
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdc1:/dev/sdb1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdc1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdc1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdc1 on /var/lib/ceph/tmp/mnt.sQAJ8J with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdc1 /var/lib/ceph/tmp/mnt.sQAJ8J
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 9a0ec34e-d143-46ff-8879-fc0b2b7e0914
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is 2edef958-f7f9-4639-a4ef-679e8148a49c
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 0
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.0 data dir is ready at /var/lib/ceph/tmp/mnt.sQAJ8J
[vmon1][WARNING] INFO:ceph-disk:ceph osd.0 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.sQAJ8J
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.sQAJ8J
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.0...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=0
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sdd
[ceph_deploy.osd][DEBUG ] zapping /dev/sdd on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdd
[vmon1][DEBUG ] Creating new GPT entries.
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdd
[vmon1][INFO  ] Running command: sudo partprobe /dev/sdd
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sdd:/dev/sdb2
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sdd:/dev/sdb2
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sdd journal /dev/sdb2 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdd /dev/sdb2
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb2 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:e3e413bf-b2cc-4b0e-bd58-cfb52fba9002 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdd
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdd1
[vmon1][DEBUG ] meta-data=/dev/sdd1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdd1 on /var/lib/ceph/tmp/mnt.7M7jIT with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdd1 /var/lib/ceph/tmp/mnt.7M7jIT
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.7M7jIT
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.7M7jIT/journal -> /dev/sdb2
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.7M7jIT
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.7M7jIT
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdd
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdd
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdd
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sdd1:/dev/sdb2
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sdd1:/dev/sdb2
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sdd1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sdd1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdd1 on /var/lib/ceph/tmp/mnt.E9jlFz with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdd1 /var/lib/ceph/tmp/mnt.E9jlFz
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 9a0ec34e-d143-46ff-8879-fc0b2b7e0914
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is e3e413bf-b2cc-4b0e-bd58-cfb52fba9002
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 1
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.1 data dir is ready at /var/lib/ceph/tmp/mnt.E9jlFz
[vmon1][WARNING] INFO:ceph-disk:ceph osd.1 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.E9jlFz
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.E9jlFz
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.1...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=1
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon1:/dev/sde
[ceph_deploy.osd][DEBUG ] zapping /dev/sde on vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon1][DEBUG ] zeroing last few blocks of device
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sde
[vmon1][DEBUG ] Creating new GPT entries.
[vmon1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon1][DEBUG ] other utilities.
[vmon1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sde
[vmon1][INFO  ] Running command: sudo partprobe /dev/sde
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd prepare vmon1:/dev/sde:/dev/sdb3
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon1:/dev/sde:/dev/sdb3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon1][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon1 disk /dev/sde journal /dev/sdb3 activate False
[vmon1][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sde /dev/sdb3
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon1][WARNING] DEBUG:ceph-disk:Journal /dev/sdb3 is a partition
[vmon1][WARNING] WARNING:ceph-disk:OSD will not be hot-swappable if journal is not the same device as the osd data
[vmon1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:21fee862-c7e5-42c8-9864-99f87b54be51 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sde
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sde1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sde1
[vmon1][DEBUG ] meta-data=/dev/sde1              isize=2048   agcount=4, agsize=524223 blks
[vmon1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon1][DEBUG ] data     =                       bsize=4096   blocks=2096891, imaxpct=25
[vmon1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sde1 on /var/lib/ceph/tmp/mnt.x7jIoF with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sde1 /var/lib/ceph/tmp/mnt.x7jIoF
[vmon1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.x7jIoF
[vmon1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.x7jIoF/journal -> /dev/sdb3
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.x7jIoF
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.x7jIoF
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sde
[vmon1][DEBUG ] The operation has completed successfully.
[vmon1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sde
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sde
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd activate vmon1:/dev/sde1:/dev/sdb3
[ceph_deploy.osd][DEBUG ] Activating cluster ceph disks vmon1:/dev/sde1:/dev/sdb3
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] activating host vmon1 disk /dev/sde1
[ceph_deploy.osd][DEBUG ] will use init type: upstart
[vmon1][INFO  ] Running command: sudo ceph-disk -v activate --mark-init upstart --mount /dev/sde1
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/blkid -p -s TYPE -ovalue -- /dev/sde1
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon1][WARNING] DEBUG:ceph-disk:Mounting /dev/sde1 on /var/lib/ceph/tmp/mnt.xii038 with options noatime,inode64
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sde1 /var/lib/ceph/tmp/mnt.xii038
[vmon1][WARNING] DEBUG:ceph-disk:Cluster uuid is 9a0ec34e-d143-46ff-8879-fc0b2b7e0914
[vmon1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon1][WARNING] DEBUG:ceph-disk:Cluster name is ceph
[vmon1][WARNING] DEBUG:ceph-disk:OSD uuid is 21fee862-c7e5-42c8-9864-99f87b54be51
[vmon1][WARNING] DEBUG:ceph-disk:OSD id is 2
[vmon1][WARNING] DEBUG:ceph-disk:Marking with init system upstart
[vmon1][WARNING] DEBUG:ceph-disk:ceph osd.2 data dir is ready at /var/lib/ceph/tmp/mnt.xii038
[vmon1][WARNING] INFO:ceph-disk:ceph osd.2 already mounted in position; unmounting ours.
[vmon1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.xii038
[vmon1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.xii038
[vmon1][WARNING] DEBUG:ceph-disk:Starting ceph osd.2...
[vmon1][WARNING] INFO:ceph-disk:Running command: /sbin/initctl emit --no-wait -- ceph-osd cluster=ceph id=2
[vmon1][INFO  ] checking OSD status...
[vmon1][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon2][DEBUG ] zeroing last few blocks of device
[vmon2][DEBUG ] find the location of an executable
[vmon2][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon2][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon2][WARNING] backup header from main header.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon2][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon2][WARNING] 
[vmon2][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon2][WARNING] 
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon2][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon2][DEBUG ] ****************************************************************************
[vmon2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon2][DEBUG ] other utilities.
[vmon2][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon2][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon2:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon2:/dev/sdb:
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon2
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon2][WARNING] osd keyring does not exist yet, creating one
[vmon2][DEBUG ] create a keyring file
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon2 disk /dev/sdb journal None activate True
[vmon2][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon2][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon2][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon2][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:4a7407c1-8469-45b9-b0cc-15aef8c30933 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/4a7407c1-8469-45b9-b0cc-15aef8c30933
[vmon2][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:70ea54c3-e0e1-47cb-beee-c1b55f94b55d --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon2][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon2][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon2][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon2][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon2][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon2][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon2][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon2][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon2][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon2][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.UAStQ5 with options noatime,inode64
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.UAStQ5
[vmon2][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.UAStQ5
[vmon2][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.UAStQ5/journal -> /dev/disk/by-partuuid/4a7407c1-8469-45b9-b0cc-15aef8c30933
[vmon2][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.UAStQ5
[vmon2][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.UAStQ5
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon2][DEBUG ] The operation has completed successfully.
[vmon2][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon2][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon2][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon2][INFO  ] checking OSD status...
[vmon2][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon2 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy disk zap vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vmon3][DEBUG ] zeroing last few blocks of device
[vmon3][DEBUG ] find the location of an executable
[vmon3][INFO  ] Running command: sudo /usr/sbin/ceph-disk zap /dev/sdb
[vmon3][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vmon3][WARNING] backup header from main header.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vmon3][WARNING] on the recovery & transformation menu to examine the two tables.
[vmon3][WARNING] 
[vmon3][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vmon3][WARNING] 
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vmon3][DEBUG ] verification and recovery are STRONGLY recommended.
[vmon3][DEBUG ] ****************************************************************************
[vmon3][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vmon3][DEBUG ] other utilities.
[vmon3][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vmon3][INFO  ] Running command: sudo partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy osd create vmon3:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vmon3:/dev/sdb:
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[ceph_deploy.osd][DEBUG ] Deploying osd to vmon3
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vmon3][WARNING] osd keyring does not exist yet, creating one
[vmon3][DEBUG ] create a keyring file
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vmon3 disk /dev/sdb journal None activate True
[vmon3][INFO  ] Running command: sudo ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vmon3][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vmon3][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vmon3][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:1285fcda-ab7b-4c5e-9d87-a87ac5c5dc2e --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/1285fcda-ab7b-4c5e-9d87-a87ac5c5dc2e
[vmon3][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:14f7234c-1a21-43cd-a290-01e8fa99ddd9 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vmon3][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vmon3][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=982975 blks
[vmon3][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vmon3][DEBUG ] data     =                       bsize=4096   blocks=3931899, imaxpct=25
[vmon3][DEBUG ]          =                       sunit=0      swidth=0 blks
[vmon3][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vmon3][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vmon3][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vmon3][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vmon3][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.9yUJGO with options noatime,inode64
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.9yUJGO
[vmon3][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.9yUJGO
[vmon3][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.9yUJGO/journal -> /dev/disk/by-partuuid/1285fcda-ab7b-4c5e-9d87-a87ac5c5dc2e
[vmon3][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.9yUJGO
[vmon3][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.9yUJGO
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vmon3][DEBUG ] The operation has completed successfully.
[vmon3][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vmon3][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vmon3][INFO  ] Running command: sudo udevadm trigger --subsystem-match=block --action=add
[vmon3][INFO  ] checking OSD status...
[vmon3][INFO  ] Running command: sudo ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vmon3 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon1 von2 vmon3
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to von2
[ceph_deploy.admin][ERROR ] connecting to host: von2 resulted in errors: HostNotFound von2
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] get remote short hostname
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy][ERROR ] GenericError: Failed to configure 1 admin hosts

[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf admin vmon2
[ceph_deploy.admin][DEBUG ] Pushing admin keys and conf to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] get remote short hostname
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/frank/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.22): /usr/bin/ceph-deploy --overwrite-conf config push vmon1 vmon2 vmon3
[ceph_deploy.config][DEBUG ] Pushing config to vmon1
[vmon1][DEBUG ] connection detected need for sudo
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.config][DEBUG ] Pushing config to vmon2
[vmon2][DEBUG ] connection detected need for sudo
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[vmon2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.config][DEBUG ] Pushing config to vmon3
[vmon3][DEBUG ] connection detected need for sudo
[vmon3][DEBUG ] connected to host: vmon3 
[vmon3][DEBUG ] detect platform information from remote host
[vmon3][DEBUG ] detect machine type
[vmon3][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: frankHPC 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: /bin/ip link show
[vmon1][INFO  ] Running command: /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.141']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.141
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.141']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd0
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd0
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd0 ...
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd0][INFO  ] installing ceph on vosd0
[vosd0][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd0][DEBUG ] Reading package lists...
[vosd0][DEBUG ] Building dependency tree...
[vosd0][DEBUG ] Reading state information...
[vosd0][DEBUG ] The following packages will be upgraded:
[vosd0][DEBUG ]   ca-certificates
[vosd0][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 162 not upgraded.
[vosd0][DEBUG ] Need to get 207 kB of archives.
[vosd0][DEBUG ] After this operation, 15.4 kB of additional disk space will be used.
[vosd0][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd0][DEBUG ] Err http://security.ubuntu.com/ubuntu/ precise-security/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.91.26 80]
[vosd0][WARNING] Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.12.04.1_all.deb  404  Not Found [IP: 91.189.91.26 80]
[vosd0][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd0
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd0
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd0 ...
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd0][INFO  ] installing ceph on vosd0
[vosd0][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd0][DEBUG ] Reading package lists...
[vosd0][DEBUG ] Building dependency tree...
[vosd0][DEBUG ] Reading state information...
[vosd0][DEBUG ] The following packages will be upgraded:
[vosd0][DEBUG ]   ca-certificates
[vosd0][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 162 not upgraded.
[vosd0][DEBUG ] Need to get 207 kB of archives.
[vosd0][DEBUG ] After this operation, 15.4 kB of additional disk space will be used.
[vosd0][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd0][DEBUG ] Err http://security.ubuntu.com/ubuntu/ precise-security/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.88.162 80]
[vosd0][WARNING] Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.12.04.1_all.deb  404  Not Found [IP: 91.189.88.162 80]
[vosd0][WARNING] E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
[vosd0][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd0
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd0
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd0 ...
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd0][INFO  ] installing ceph on vosd0
[vosd0][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd0][DEBUG ] Reading package lists...
[vosd0][DEBUG ] Building dependency tree...
[vosd0][DEBUG ] Reading state information...
[vosd0][DEBUG ] The following packages will be upgraded:
[vosd0][DEBUG ]   ca-certificates
[vosd0][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 162 not upgraded.
[vosd0][DEBUG ] Need to get 207 kB of archives.
[vosd0][DEBUG ] After this operation, 15.4 kB of additional disk space will be used.
[vosd0][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd0][DEBUG ] Err http://security.ubuntu.com/ubuntu/ precise-security/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd0][WARNING] Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.12.04.1_all.deb  404  Not Found [IP: 91.189.91.23 80]
[vosd0][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd0
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd0
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd0 ...
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd0][INFO  ] installing ceph on vosd0
[vosd0][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd0][DEBUG ] Reading package lists...
[vosd0][DEBUG ] Building dependency tree...
[vosd0][DEBUG ] Reading state information...
[vosd0][DEBUG ] The following packages will be upgraded:
[vosd0][DEBUG ]   ca-certificates
[vosd0][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 162 not upgraded.
[vosd0][DEBUG ] Need to get 207 kB of archives.
[vosd0][DEBUG ] After this operation, 15.4 kB of additional disk space will be used.
[vosd0][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd0][DEBUG ] Err http://security.ubuntu.com/ubuntu/ precise-security/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd0][DEBUG ]   404  Not Found [IP: 91.189.88.161 80]
[vosd0][WARNING] Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.12.04.1_all.deb  404  Not Found [IP: 91.189.88.161 80]
[vosd0][WARNING] E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
[vosd0][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd1
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd1 ...
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd1][INFO  ] installing ceph on vosd1
[vosd1][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd1][DEBUG ] Reading package lists...
[vosd1][DEBUG ] Building dependency tree...
[vosd1][DEBUG ] Reading state information...
[vosd1][DEBUG ] The following packages will be upgraded:
[vosd1][DEBUG ]   ca-certificates
[vosd1][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 162 not upgraded.
[vosd1][DEBUG ] Need to get 207 kB of archives.
[vosd1][DEBUG ] After this operation, 15.4 kB of additional disk space will be used.
[vosd1][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd1][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd1][DEBUG ] Err http://security.ubuntu.com/ubuntu/ precise-security/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd1][DEBUG ]   404  Not Found [IP: 91.189.88.161 80]
[vosd1][WARNING] Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.12.04.1_all.deb  404  Not Found [IP: 91.189.88.161 80]
[vosd1][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd0
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd0
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd0 ...
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd0][INFO  ] installing ceph on vosd0
[vosd0][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd0][DEBUG ] Reading package lists...
[vosd0][DEBUG ] Building dependency tree...
[vosd0][DEBUG ] Reading state information...
[vosd0][DEBUG ] The following packages will be upgraded:
[vosd0][DEBUG ]   ca-certificates
[vosd0][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 189 not upgraded.
[vosd0][DEBUG ] Need to get 208 kB of archives.
[vosd0][DEBUG ] After this operation, 11.3 kB of additional disk space will be used.
[vosd0][DEBUG ] Get:1 http://tw.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20160104ubuntu0.12.04.1 [208 kB]
[vosd0][WARNING] perl: warning: Setting locale failed.
[vosd0][WARNING] perl: warning: Please check that your locale settings:
[vosd0][WARNING] 	LANGUAGE = (unset),
[vosd0][WARNING] 	LC_ALL = (unset),
[vosd0][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd0][WARNING] 	LANG = "en_US.UTF-8"
[vosd0][WARNING]     are supported and installed on your system.
[vosd0][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd0][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd0][DEBUG ] Preconfiguring packages ...
[vosd0][DEBUG ] Fetched 208 kB in 0s (3447 kB/s)
[vosd0][DEBUG ] (Reading database ... 55149 files and directories currently installed.)
[vosd0][DEBUG ] Preparing to replace ca-certificates 20130906ubuntu0.12.04.1 (using .../ca-certificates_20160104ubuntu0.12.04.1_all.deb) ...
[vosd0][DEBUG ] Unpacking replacement ca-certificates ...
[vosd0][DEBUG ] Processing triggers for man-db ...
[vosd0][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd0][DEBUG ] Setting up ca-certificates (20160104ubuntu0.12.04.1) ...
[vosd0][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd0][WARNING] Updating certificates in /etc/ssl/certs... 35 added, 26 removed; done.
[vosd0][WARNING] Running hooks in /etc/ca-certificates/update.d....done.
[vosd0][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd0][WARNING] --2016-09-08 15:33:24--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd0][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd0][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd0][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd0][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd0][WARNING] --2016-09-08 15:33:24--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd0][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd0][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd0][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd0][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd0][WARNING] Saving to: `release.asc'
[vosd0][WARNING] 
[vosd0][WARNING]      0K .                                                     100% 29.9M=0s
[vosd0][WARNING] 
[vosd0][WARNING] 2016-09-08 15:33:26 (29.9 MB/s) - `release.asc' saved [1645/1645]
[vosd0][WARNING] 
[vosd0][INFO  ] Running command: apt-key add release.asc
[vosd0][DEBUG ] OK
[vosd0][DEBUG ] add deb repo to sources.list
[vosd0][INFO  ] Running command: apt-get -q update
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise Release.gpg
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates Release.gpg
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise Release
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates Release
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/main Sources
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/restricted Sources
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/main amd64 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/restricted amd64 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/main i386 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/restricted i386 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/main TranslationIndex
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/restricted TranslationIndex
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/main Translation-en
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise/restricted Translation-en
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/main Sources
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/restricted Sources
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/main amd64 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/restricted amd64 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/main i386 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/restricted i386 Packages
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/main TranslationIndex
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/restricted TranslationIndex
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/main Translation-en
[vosd0][DEBUG ] Hit http://tw.archive.ubuntu.com precise-updates/restricted Translation-en
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security Release.gpg
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise Release.gpg
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release.gpg
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release.gpg
[vosd0][DEBUG ] Hit http://ppa.launchpad.net precise Release.gpg
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security Release
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise Release
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/main Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release
[vosd0][DEBUG ] Hit http://ppa.launchpad.net precise Release
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Sources
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Sources
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Sources
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/main amd64 Packages
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted amd64 Packages
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/universe amd64 Packages
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse amd64 Packages
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/main i386 Packages
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted i386 Packages
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/universe i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/main amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/main i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted i386 Packages
[vosd0][DEBUG ] Hit http://ceph.com precise Release.gpg
[vosd0][DEBUG ] Hit http://ppa.launchpad.net precise/main amd64 Packages
[vosd0][DEBUG ] Hit http://ppa.launchpad.net precise/main i386 Packages
[vosd0][DEBUG ] Hit http://ppa.launchpad.net precise/main TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/main TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Sources
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse i386 Packages
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/main TranslationIndex
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse TranslationIndex
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted TranslationIndex
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/universe TranslationIndex
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/main Translation-en
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Translation-en
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Translation-en
[vosd0][DEBUG ] Hit http://ppa.launchpad.net precise/main Translation-en
[vosd0][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Sources
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe amd64 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse amd64 Packages
[vosd0][DEBUG ] Hit http://ceph.com precise Release
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse i386 Packages
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe TranslationIndex
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Translation-en
[vosd0][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Translation-en
[vosd0][DEBUG ] Hit http://ceph.com precise/main amd64 Packages
[vosd0][DEBUG ] Hit http://ceph.com precise/main i386 Packages
[vosd0][DEBUG ] Ign http://ceph.com precise/main TranslationIndex
[vosd0][DEBUG ] Ign http://ceph.com precise/main Translation-en
[vosd0][DEBUG ] Reading package lists...
[vosd0][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd0][DEBUG ] Reading package lists...
[vosd0][DEBUG ] Building dependency tree...
[vosd0][DEBUG ] Reading state information...
[vosd0][DEBUG ] The following extra packages will be installed:
[vosd0][DEBUG ]   librados2 librbd1 python-ceph
[vosd0][DEBUG ] Recommended packages:
[vosd0][DEBUG ]   btrfs-tools libradosstriper1
[vosd0][DEBUG ] The following packages will be upgraded:
[vosd0][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vosd0][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 181 not upgraded.
[vosd0][DEBUG ] Need to get 31.8 MB of archives.
[vosd0][DEBUG ] After this operation, 68.6 kB of additional disk space will be used.
[vosd0][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe gdisk amd64 0.8.1-1ubuntu0.1 [299 kB]
[vosd0][DEBUG ] Get:2 http://ceph.com/debian-giant/ precise/main ceph-common amd64 0.87.2-1precise [7467 kB]
[vosd0][DEBUG ] Get:3 http://ceph.com/debian-giant/ precise/main librbd1 amd64 0.87.2-1precise [1142 kB]
[vosd0][DEBUG ] Get:4 http://ceph.com/debian-giant/ precise/main librados2 amd64 0.87.2-1precise [2635 kB]
[vosd0][DEBUG ] Get:5 http://ceph.com/debian-giant/ precise/main ceph-mds amd64 0.87.2-1precise [5368 kB]
[vosd0][DEBUG ] Get:6 http://ceph.com/debian-giant/ precise/main ceph amd64 0.87.2-1precise [13.4 MB]
[vosd0][DEBUG ] Get:7 http://ceph.com/debian-giant/ precise/main python-ceph amd64 0.87.2-1precise [749 kB]
[vosd0][DEBUG ] Get:8 http://ceph.com/debian-giant/ precise/main ceph-fs-common amd64 0.87.2-1precise [743 kB]
[vosd0][WARNING] perl: warning: Setting locale failed.
[vosd0][WARNING] perl: warning: Please check that your locale settings:
[vosd0][WARNING] 	LANGUAGE = (unset),
[vosd0][WARNING] 	LC_ALL = (unset),
[vosd0][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd0][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd0][WARNING] 	LANG = "en_US.UTF-8"
[vosd0][WARNING]     are supported and installed on your system.
[vosd0][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd0][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd0][DEBUG ] Fetched 31.8 MB in 16s (1918 kB/s)
[vosd0][DEBUG ] (Reading database ... 55157 files and directories currently installed.)
[vosd0][DEBUG ] Preparing to replace ceph-common 0.87-1precise (using .../ceph-common_0.87.2-1precise_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement ceph-common ...
[vosd0][DEBUG ] Preparing to replace librbd1 0.87-1precise (using .../librbd1_0.87.2-1precise_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement librbd1 ...
[vosd0][DEBUG ] Preparing to replace librados2 0.87-1precise (using .../librados2_0.87.2-1precise_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement librados2 ...
[vosd0][DEBUG ] Preparing to replace ceph-mds 0.87-1precise (using .../ceph-mds_0.87.2-1precise_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement ceph-mds ...
[vosd0][DEBUG ] Preparing to replace ceph 0.87-1precise (using .../ceph_0.87.2-1precise_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement ceph ...
[vosd0][DEBUG ] Preparing to replace python-ceph 0.87-1precise (using .../python-ceph_0.87.2-1precise_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement python-ceph ...
[vosd0][DEBUG ] Preparing to replace gdisk 0.8.1-1build1 (using .../gdisk_0.8.1-1ubuntu0.1_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement gdisk ...
[vosd0][DEBUG ] Preparing to replace ceph-fs-common 0.87-1precise (using .../ceph-fs-common_0.87.2-1precise_amd64.deb) ...
[vosd0][DEBUG ] Unpacking replacement ceph-fs-common ...
[vosd0][DEBUG ] Processing triggers for man-db ...
[vosd0][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd0][DEBUG ] Processing triggers for ureadahead ...
[vosd0][DEBUG ] Setting up librados2 (0.87.2-1precise) ...
[vosd0][DEBUG ] Setting up librbd1 (0.87.2-1precise) ...
[vosd0][DEBUG ] Setting up python-ceph (0.87.2-1precise) ...
[vosd0][DEBUG ] Setting up ceph-common (0.87.2-1precise) ...
[vosd0][DEBUG ] Setting up gdisk (0.8.1-1ubuntu0.1) ...
[vosd0][DEBUG ] Setting up ceph (0.87.2-1precise) ...
[vosd0][WARNING] start: Unknown job: ceph-all
[vosd0][DEBUG ] Setting up ceph-mds (0.87.2-1precise) ...
[vosd0][WARNING] start: Unknown job: ceph-mds-all
[vosd0][DEBUG ] Setting up ceph-fs-common (0.87.2-1precise) ...
[vosd0][DEBUG ] Processing triggers for libc-bin ...
[vosd0][DEBUG ] ldconfig deferred processing now taking place
[vosd0][INFO  ] Running command: ceph --version
[vosd0][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd1
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd1 ...
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd1][INFO  ] installing ceph on vosd1
[vosd1][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd1][DEBUG ] Reading package lists...
[vosd1][DEBUG ] Building dependency tree...
[vosd1][DEBUG ] Reading state information...
[vosd1][DEBUG ] The following packages will be upgraded:
[vosd1][DEBUG ]   ca-certificates
[vosd1][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 162 not upgraded.
[vosd1][DEBUG ] Need to get 207 kB of archives.
[vosd1][DEBUG ] After this operation, 15.4 kB of additional disk space will be used.
[vosd1][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd1][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd1][DEBUG ] Err http://security.ubuntu.com/ubuntu/ precise-security/main ca-certificates all 20141019ubuntu0.12.04.1
[vosd1][DEBUG ]   404  Not Found [IP: 91.189.88.162 80]
[vosd1][WARNING] Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.12.04.1_all.deb  404  Not Found [IP: 91.189.88.162 80]
[vosd1][WARNING] E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
[vosd1][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd1
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd1 ...
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd1][INFO  ] installing ceph on vosd1
[vosd1][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd1][DEBUG ] Reading package lists...
[vosd1][DEBUG ] Building dependency tree...
[vosd1][DEBUG ] Reading state information...
[vosd1][DEBUG ] The following packages will be upgraded:
[vosd1][DEBUG ]   ca-certificates
[vosd1][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 189 not upgraded.
[vosd1][DEBUG ] Need to get 208 kB of archives.
[vosd1][DEBUG ] After this operation, 11.3 kB of additional disk space will be used.
[vosd1][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20160104ubuntu0.12.04.1 [208 kB]
[vosd1][WARNING] perl: warning: Setting locale failed.
[vosd1][WARNING] perl: warning: Please check that your locale settings:
[vosd1][WARNING] 	LANGUAGE = (unset),
[vosd1][WARNING] 	LC_ALL = (unset),
[vosd1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd1][WARNING] 	LANG = "en_US.UTF-8"
[vosd1][WARNING]     are supported and installed on your system.
[vosd1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd1][DEBUG ] Preconfiguring packages ...
[vosd1][DEBUG ] Fetched 208 kB in 1s (144 kB/s)
[vosd1][DEBUG ] (Reading database ... 55149 files and directories currently installed.)
[vosd1][DEBUG ] Preparing to replace ca-certificates 20130906ubuntu0.12.04.1 (using .../ca-certificates_20160104ubuntu0.12.04.1_all.deb) ...
[vosd1][DEBUG ] Unpacking replacement ca-certificates ...
[vosd1][DEBUG ] Processing triggers for man-db ...
[vosd1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd1][DEBUG ] Setting up ca-certificates (20160104ubuntu0.12.04.1) ...
[vosd1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd1][WARNING] Updating certificates in /etc/ssl/certs... 35 added, 26 removed; done.
[vosd1][WARNING] Running hooks in /etc/ca-certificates/update.d....done.
[vosd1][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd1][WARNING] --2016-09-08 15:35:14--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd1][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd1][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd1][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd1][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd1][WARNING] --2016-09-08 15:35:15--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd1][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd1][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd1][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd1][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd1][WARNING] Saving to: `release.asc'
[vosd1][WARNING] 
[vosd1][WARNING]      0K .                                                     100% 17.9M=0s
[vosd1][WARNING] 
[vosd1][WARNING] 2016-09-08 15:35:16 (17.9 MB/s) - `release.asc' saved [1645/1645]
[vosd1][WARNING] 
[vosd1][INFO  ] Running command: apt-key add release.asc
[vosd1][DEBUG ] OK
[vosd1][DEBUG ] add deb repo to sources.list
[vosd1][INFO  ] Running command: apt-get -q update
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise Release.gpg
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release.gpg
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release.gpg
[vosd1][DEBUG ] Hit http://ppa.launchpad.net precise Release.gpg
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security Release.gpg
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise Release
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release
[vosd1][DEBUG ] Hit http://ppa.launchpad.net precise Release
[vosd1][DEBUG ] Hit http://ceph.com precise Release.gpg
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security Release
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted i386 Packages
[vosd1][DEBUG ] Hit http://ppa.launchpad.net precise/main amd64 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/main Sources
[vosd1][DEBUG ] Hit http://ppa.launchpad.net precise/main i386 Packages
[vosd1][DEBUG ] Hit http://ppa.launchpad.net precise/main TranslationIndex
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Sources
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Sources
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Sources
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/main amd64 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted amd64 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe amd64 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse amd64 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/main i386 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted i386 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Sources
[vosd1][DEBUG ] Hit http://ppa.launchpad.net precise/main Translation-en
[vosd1][DEBUG ] Hit http://ceph.com precise Release
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse TranslationIndex
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse i386 Packages
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/main TranslationIndex
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse TranslationIndex
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted TranslationIndex
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Sources
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse i386 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse TranslationIndex
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/main Translation-en
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Translation-en
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe TranslationIndex
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Translation-en
[vosd1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Translation-en
[vosd1][DEBUG ] Hit http://ceph.com precise/main amd64 Packages
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Translation-en
[vosd1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Translation-en
[vosd1][DEBUG ] Hit http://ceph.com precise/main i386 Packages
[vosd1][DEBUG ] Ign http://ceph.com precise/main TranslationIndex
[vosd1][DEBUG ] Ign http://ceph.com precise/main Translation-en
[vosd1][DEBUG ] Reading package lists...
[vosd1][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd1][DEBUG ] Reading package lists...
[vosd1][DEBUG ] Building dependency tree...
[vosd1][DEBUG ] Reading state information...
[vosd1][DEBUG ] The following extra packages will be installed:
[vosd1][DEBUG ]   librados2 librbd1 python-ceph
[vosd1][DEBUG ] Recommended packages:
[vosd1][DEBUG ]   btrfs-tools libradosstriper1
[vosd1][DEBUG ] The following packages will be upgraded:
[vosd1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vosd1][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 181 not upgraded.
[vosd1][DEBUG ] Need to get 31.8 MB of archives.
[vosd1][DEBUG ] After this operation, 68.6 kB of additional disk space will be used.
[vosd1][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe gdisk amd64 0.8.1-1ubuntu0.1 [299 kB]
[vosd1][DEBUG ] Get:2 http://ceph.com/debian-giant/ precise/main ceph-common amd64 0.87.2-1precise [7467 kB]
[vosd1][DEBUG ] Get:3 http://ceph.com/debian-giant/ precise/main librbd1 amd64 0.87.2-1precise [1142 kB]
[vosd1][DEBUG ] Get:4 http://ceph.com/debian-giant/ precise/main librados2 amd64 0.87.2-1precise [2635 kB]
[vosd1][DEBUG ] Get:5 http://ceph.com/debian-giant/ precise/main ceph-mds amd64 0.87.2-1precise [5368 kB]
[vosd1][DEBUG ] Get:6 http://ceph.com/debian-giant/ precise/main ceph amd64 0.87.2-1precise [13.4 MB]
[vosd1][DEBUG ] Get:7 http://ceph.com/debian-giant/ precise/main python-ceph amd64 0.87.2-1precise [749 kB]
[vosd1][DEBUG ] Get:8 http://ceph.com/debian-giant/ precise/main ceph-fs-common amd64 0.87.2-1precise [743 kB]
[vosd1][WARNING] perl: warning: Setting locale failed.
[vosd1][WARNING] perl: warning: Please check that your locale settings:
[vosd1][WARNING] 	LANGUAGE = (unset),
[vosd1][WARNING] 	LC_ALL = (unset),
[vosd1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd1][WARNING] 	LANG = "en_US.UTF-8"
[vosd1][WARNING]     are supported and installed on your system.
[vosd1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd1][DEBUG ] Fetched 31.8 MB in 2min 36s (203 kB/s)
[vosd1][DEBUG ] (Reading database ... 55157 files and directories currently installed.)
[vosd1][DEBUG ] Preparing to replace ceph-common 0.87-1precise (using .../ceph-common_0.87.2-1precise_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement ceph-common ...
[vosd1][DEBUG ] Preparing to replace librbd1 0.87-1precise (using .../librbd1_0.87.2-1precise_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement librbd1 ...
[vosd1][DEBUG ] Preparing to replace librados2 0.87-1precise (using .../librados2_0.87.2-1precise_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement librados2 ...
[vosd1][DEBUG ] Preparing to replace ceph-mds 0.87-1precise (using .../ceph-mds_0.87.2-1precise_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement ceph-mds ...
[vosd1][DEBUG ] Preparing to replace ceph 0.87-1precise (using .../ceph_0.87.2-1precise_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement ceph ...
[vosd1][DEBUG ] Preparing to replace python-ceph 0.87-1precise (using .../python-ceph_0.87.2-1precise_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement python-ceph ...
[vosd1][DEBUG ] Preparing to replace gdisk 0.8.1-1build1 (using .../gdisk_0.8.1-1ubuntu0.1_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement gdisk ...
[vosd1][DEBUG ] Preparing to replace ceph-fs-common 0.87-1precise (using .../ceph-fs-common_0.87.2-1precise_amd64.deb) ...
[vosd1][DEBUG ] Unpacking replacement ceph-fs-common ...
[vosd1][DEBUG ] Processing triggers for man-db ...
[vosd1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd1][DEBUG ] Processing triggers for ureadahead ...
[vosd1][DEBUG ] Setting up librados2 (0.87.2-1precise) ...
[vosd1][DEBUG ] Setting up librbd1 (0.87.2-1precise) ...
[vosd1][DEBUG ] Setting up python-ceph (0.87.2-1precise) ...
[vosd1][DEBUG ] Setting up ceph-common (0.87.2-1precise) ...
[vosd1][DEBUG ] Setting up gdisk (0.8.1-1ubuntu0.1) ...
[vosd1][DEBUG ] Setting up ceph (0.87.2-1precise) ...
[vosd1][WARNING] start: Job is already running: ceph-all
[vosd1][DEBUG ] Setting up ceph-mds (0.87.2-1precise) ...
[vosd1][WARNING] start: Job is already running: ceph-mds-all
[vosd1][DEBUG ] Setting up ceph-fs-common (0.87.2-1precise) ...
[vosd1][DEBUG ] Processing triggers for libc-bin ...
[vosd1][DEBUG ] ldconfig deferred processing now taking place
[vosd1][INFO  ] Running command: ceph --version
[vosd1][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd2
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd2
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd2 ...
[vosd2][DEBUG ] connected to host: vosd2 
[vosd2][DEBUG ] detect platform information from remote host
[vosd2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd2][INFO  ] installing ceph on vosd2
[vosd2][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd2][DEBUG ] Reading package lists...
[vosd2][DEBUG ] Building dependency tree...
[vosd2][DEBUG ] Reading state information...
[vosd2][DEBUG ] The following packages will be upgraded:
[vosd2][DEBUG ]   ca-certificates
[vosd2][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 189 not upgraded.
[vosd2][DEBUG ] Need to get 208 kB of archives.
[vosd2][DEBUG ] After this operation, 11.3 kB of additional disk space will be used.
[vosd2][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20160104ubuntu0.12.04.1 [208 kB]
[vosd2][WARNING] perl: warning: Setting locale failed.
[vosd2][WARNING] perl: warning: Please check that your locale settings:
[vosd2][WARNING] 	LANGUAGE = (unset),
[vosd2][WARNING] 	LC_ALL = (unset),
[vosd2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd2][WARNING] 	LANG = "en_US.UTF-8"
[vosd2][WARNING]     are supported and installed on your system.
[vosd2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd2][DEBUG ] Preconfiguring packages ...
[vosd2][DEBUG ] Fetched 208 kB in 1s (161 kB/s)
[vosd2][DEBUG ] (Reading database ... 55149 files and directories currently installed.)
[vosd2][DEBUG ] Preparing to replace ca-certificates 20130906ubuntu0.12.04.1 (using .../ca-certificates_20160104ubuntu0.12.04.1_all.deb) ...
[vosd2][DEBUG ] Unpacking replacement ca-certificates ...
[vosd2][DEBUG ] Processing triggers for man-db ...
[vosd2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd2][DEBUG ] Setting up ca-certificates (20160104ubuntu0.12.04.1) ...
[vosd2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd2][WARNING] Updating certificates in /etc/ssl/certs... 35 added, 26 removed; done.
[vosd2][WARNING] Running hooks in /etc/ca-certificates/update.d....done.
[vosd2][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd2][WARNING] --2016-09-08 15:42:20--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd2][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd2][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd2][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd2][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd2][WARNING] --2016-09-08 15:42:22--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd2][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd2][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd2][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd2][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd2][WARNING] Saving to: `release.asc'
[vosd2][WARNING] 
[vosd2][WARNING]      0K .                                                     100% 45.9M=0s
[vosd2][WARNING] 
[vosd2][WARNING] 2016-09-08 15:42:23 (45.9 MB/s) - `release.asc' saved [1645/1645]
[vosd2][WARNING] 
[vosd2][INFO  ] Running command: apt-key add release.asc
[vosd2][DEBUG ] OK
[vosd2][DEBUG ] add deb repo to sources.list
[vosd2][INFO  ] Running command: apt-get -q update
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise Release.gpg
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release.gpg
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release.gpg
[vosd2][DEBUG ] Hit http://ppa.launchpad.net precise Release.gpg
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security Release.gpg
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise Release
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release
[vosd2][DEBUG ] Hit http://ppa.launchpad.net precise Release
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release
[vosd2][DEBUG ] Hit http://ceph.com precise Release.gpg
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted i386 Packages
[vosd2][DEBUG ] Hit http://ppa.launchpad.net precise/main amd64 Packages
[vosd2][DEBUG ] Hit http://ppa.launchpad.net precise/main i386 Packages
[vosd2][DEBUG ] Hit http://ppa.launchpad.net precise/main TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Sources
[vosd2][DEBUG ] Hit http://ppa.launchpad.net precise/main Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse TranslationIndex
[vosd2][DEBUG ] Hit http://ceph.com precise Release
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse TranslationIndex
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security Release
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Translation-en
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/main Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Translation-en
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Sources
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Sources
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Sources
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/main amd64 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted amd64 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe amd64 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse amd64 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/main i386 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted i386 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe i386 Packages
[vosd2][DEBUG ] Hit http://ceph.com precise/main amd64 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse i386 Packages
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/main TranslationIndex
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse TranslationIndex
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted TranslationIndex
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe TranslationIndex
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/main Translation-en
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Translation-en
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Translation-en
[vosd2][DEBUG ] Hit http://ceph.com precise/main i386 Packages
[vosd2][DEBUG ] Ign http://ceph.com precise/main TranslationIndex
[vosd2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Translation-en
[vosd2][DEBUG ] Ign http://ceph.com precise/main Translation-en
[vosd2][DEBUG ] Reading package lists...
[vosd2][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd2][DEBUG ] Reading package lists...
[vosd2][DEBUG ] Building dependency tree...
[vosd2][DEBUG ] Reading state information...
[vosd2][DEBUG ] The following extra packages will be installed:
[vosd2][DEBUG ]   librados2 librbd1 python-ceph
[vosd2][DEBUG ] Recommended packages:
[vosd2][DEBUG ]   btrfs-tools libradosstriper1
[vosd2][DEBUG ] The following packages will be upgraded:
[vosd2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vosd2][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 181 not upgraded.
[vosd2][DEBUG ] Need to get 31.8 MB of archives.
[vosd2][DEBUG ] After this operation, 68.6 kB of additional disk space will be used.
[vosd2][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe gdisk amd64 0.8.1-1ubuntu0.1 [299 kB]
[vosd2][DEBUG ] Get:2 http://ceph.com/debian-giant/ precise/main ceph-common amd64 0.87.2-1precise [7467 kB]
[vosd2][DEBUG ] Get:3 http://ceph.com/debian-giant/ precise/main librbd1 amd64 0.87.2-1precise [1142 kB]
[vosd2][DEBUG ] Get:4 http://ceph.com/debian-giant/ precise/main librados2 amd64 0.87.2-1precise [2635 kB]
[vosd2][DEBUG ] Get:5 http://ceph.com/debian-giant/ precise/main ceph-mds amd64 0.87.2-1precise [5368 kB]
[vosd2][DEBUG ] Get:6 http://ceph.com/debian-giant/ precise/main ceph amd64 0.87.2-1precise [13.4 MB]
[vosd2][DEBUG ] Get:7 http://ceph.com/debian-giant/ precise/main python-ceph amd64 0.87.2-1precise [749 kB]
[vosd2][DEBUG ] Get:8 http://ceph.com/debian-giant/ precise/main ceph-fs-common amd64 0.87.2-1precise [743 kB]
[vosd2][WARNING] perl: warning: Setting locale failed.
[vosd2][WARNING] perl: warning: Please check that your locale settings:
[vosd2][WARNING] 	LANGUAGE = (unset),
[vosd2][WARNING] 	LC_ALL = (unset),
[vosd2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd2][WARNING] 	LANG = "en_US.UTF-8"
[vosd2][WARNING]     are supported and installed on your system.
[vosd2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd2][DEBUG ] Fetched 31.8 MB in 2min 35s (205 kB/s)
[vosd2][DEBUG ] (Reading database ... 55157 files and directories currently installed.)
[vosd2][DEBUG ] Preparing to replace ceph-common 0.87-1precise (using .../ceph-common_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph-common ...
[vosd2][DEBUG ] Preparing to replace librbd1 0.87-1precise (using .../librbd1_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement librbd1 ...
[vosd2][DEBUG ] Preparing to replace librados2 0.87-1precise (using .../librados2_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement librados2 ...
[vosd2][DEBUG ] Preparing to replace ceph-mds 0.87-1precise (using .../ceph-mds_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph-mds ...
[vosd2][DEBUG ] Preparing to replace ceph 0.87-1precise (using .../ceph_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph ...
[vosd2][DEBUG ] Preparing to replace python-ceph 0.87-1precise (using .../python-ceph_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement python-ceph ...
[vosd2][DEBUG ] Preparing to replace gdisk 0.8.1-1build1 (using .../gdisk_0.8.1-1ubuntu0.1_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement gdisk ...
[vosd2][DEBUG ] Preparing to replace ceph-fs-common 0.87-1precise (using .../ceph-fs-common_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph-fs-common ...
[vosd2][DEBUG ] Processing triggers for man-db ...
[vosd2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd2][DEBUG ] Processing triggers for ureadahead ...
[vosd2][DEBUG ] Setting up librados2 (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up librbd1 (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up python-ceph (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up ceph-common (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up gdisk (0.8.1-1ubuntu0.1) ...
[vosd2][DEBUG ] Setting up ceph (0.87.2-1precise) ...
[vosd2][WARNING] start: Job is already running: ceph-all
[vosd2][DEBUG ] Setting up ceph-mds (0.87.2-1precise) ...
[vosd2][WARNING] start: Job is already running: ceph-mds-all
[vosd2][DEBUG ] Setting up ceph-fs-common (0.87.2-1precise) ...
[vosd2][DEBUG ] Processing triggers for libc-bin ...
[vosd2][DEBUG ] ldconfig deferred processing now taking place
[vosd2][INFO  ] Running command: ceph --version
[vosd2][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd3
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd3 ...
[vosd3][DEBUG ] connected to host: vosd3 
[vosd3][DEBUG ] detect platform information from remote host
[vosd3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd3][INFO  ] installing ceph on vosd3
[vosd3][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd3][DEBUG ] Reading package lists...
[vosd3][DEBUG ] Building dependency tree...
[vosd3][DEBUG ] Reading state information...
[vosd3][DEBUG ] The following packages will be upgraded:
[vosd3][DEBUG ]   ca-certificates
[vosd3][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 221 not upgraded.
[vosd3][DEBUG ] Need to get 190 kB of archives.
[vosd3][DEBUG ] After this operation, 16.4 kB of additional disk space will be used.
[vosd3][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main ca-certificates all 20160104ubuntu0.14.04.1 [190 kB]
[vosd3][WARNING] perl: warning: Setting locale failed.
[vosd3][WARNING] perl: warning: Please check that your locale settings:
[vosd3][WARNING] 	LANGUAGE = (unset),
[vosd3][WARNING] 	LC_ALL = (unset),
[vosd3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd3][WARNING] 	LANG = "en_US.UTF-8"
[vosd3][WARNING]     are supported and installed on your system.
[vosd3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd3][DEBUG ] Preconfiguring packages ...
[vosd3][DEBUG ] Fetched 190 kB in 1s (183 kB/s)
[vosd3][DEBUG ] (Reading database ... 56898 files and directories currently installed.)
[vosd3][DEBUG ] Preparing to unpack .../ca-certificates_20160104ubuntu0.14.04.1_all.deb ...
[vosd3][DEBUG ] Unpacking ca-certificates (20160104ubuntu0.14.04.1) over (20130906ubuntu2) ...
[vosd3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vosd3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd3][DEBUG ] Setting up ca-certificates (20160104ubuntu0.14.04.1) ...
[vosd3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd3][DEBUG ] Processing triggers for ca-certificates (20160104ubuntu0.14.04.1) ...
[vosd3][DEBUG ] Updating certificates in /etc/ssl/certs... 35 added, 26 removed; done.
[vosd3][DEBUG ] Running hooks in /etc/ca-certificates/update.d....done.
[vosd3][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd3][WARNING] --2016-09-08 14:20:17--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd3][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd3][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd3][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd3][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd3][WARNING] --2016-09-08 14:20:18--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd3][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd3][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd3][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd3][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd3][WARNING] Saving to: 'release.asc'
[vosd3][WARNING] 
[vosd3][WARNING]      0K .                                                     100% 26.6M=0s
[vosd3][WARNING] 
[vosd3][WARNING] 2016-09-08 14:20:20 (26.6 MB/s) - 'release.asc' saved [1645/1645]
[vosd3][WARNING] 
[vosd3][INFO  ] Running command: apt-key add release.asc
[vosd3][DEBUG ] OK
[vosd3][DEBUG ] add deb repo to sources.list
[vosd3][INFO  ] Running command: apt-get -q update
[vosd3][DEBUG ] Get:1 http://security.ubuntu.com trusty-security InRelease [65.9 kB]
[vosd3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vosd3][DEBUG ] Get:2 http://us.archive.ubuntu.com trusty-updates InRelease [65.9 kB]
[vosd3][DEBUG ] Hit http://ceph.com trusty InRelease
[vosd3][DEBUG ] Get:3 http://security.ubuntu.com trusty-security/main Sources [119 kB]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports InRelease
[vosd3][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vosd3][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vosd3][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/restricted Sources [4064 B]
[vosd3][DEBUG ] Get:5 http://us.archive.ubuntu.com trusty-updates/main Sources [380 kB]
[vosd3][DEBUG ] Get:6 http://security.ubuntu.com trusty-security/universe Sources [41.4 kB]
[vosd3][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/multiverse Sources [2760 B]
[vosd3][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/main amd64 Packages [523 kB]
[vosd3][DEBUG ] Get:9 http://us.archive.ubuntu.com trusty-updates/restricted Sources [5360 B]
[vosd3][DEBUG ] Get:10 http://us.archive.ubuntu.com trusty-updates/universe Sources [164 kB]
[vosd3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vosd3][DEBUG ] Get:11 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [7137 B]
[vosd3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted amd64 Packages [13.0 kB]
[vosd3][DEBUG ] Get:13 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [889 kB]
[vosd3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/universe amd64 Packages [136 kB]
[vosd3][DEBUG ] Get:15 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [4990 B]
[vosd3][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/main i386 Packages [487 kB]
[vosd3][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/restricted i386 Packages [12.7 kB]
[vosd3][DEBUG ] Get:18 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [15.9 kB]
[vosd3][DEBUG ] Get:19 http://security.ubuntu.com trusty-security/universe i386 Packages [136 kB]
[vosd3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [373 kB]
[vosd3][DEBUG ] Get:21 http://security.ubuntu.com trusty-security/multiverse i386 Packages [5178 B]
[vosd3][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vosd3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [14.8 kB]
[vosd3][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vosd3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [851 kB]
[vosd3][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vosd3][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vosd3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [15.6 kB]
[vosd3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [375 kB]
[vosd3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [15.2 kB]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vosd3][DEBUG ] Fetched 4722 kB in 17s (275 kB/s)
[vosd3][DEBUG ] Reading package lists...
[vosd3][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd3][DEBUG ] Reading package lists...
[vosd3][DEBUG ] Building dependency tree...
[vosd3][DEBUG ] Reading state information...
[vosd3][DEBUG ] The following extra packages will be installed:
[vosd3][DEBUG ]   librados2 librbd1 python-ceph
[vosd3][DEBUG ] Recommended packages:
[vosd3][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vosd3][DEBUG ] The following packages will be upgraded:
[vosd3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vosd3][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 213 not upgraded.
[vosd3][DEBUG ] Need to get 21.1 MB of archives.
[vosd3][DEBUG ] After this operation, 35.8 kB of additional disk space will be used.
[vosd3][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main gdisk amd64 0.8.8-1ubuntu0.1 [185 kB]
[vosd3][DEBUG ] Get:2 http://ceph.com/debian-giant/ trusty/main ceph-common amd64 0.87.2-1trusty [4907 kB]
[vosd3][DEBUG ] Get:3 http://ceph.com/debian-giant/ trusty/main librbd1 amd64 0.87.2-1trusty [1076 kB]
[vosd3][DEBUG ] Get:4 http://ceph.com/debian-giant/ trusty/main librados2 amd64 0.87.2-1trusty [2254 kB]
[vosd3][DEBUG ] Get:5 http://ceph.com/debian-giant/ trusty/main ceph-mds amd64 0.87.2-1trusty [3452 kB]
[vosd3][DEBUG ] Get:6 http://ceph.com/debian-giant/ trusty/main ceph amd64 0.87.2-1trusty [7766 kB]
[vosd3][DEBUG ] Get:7 http://ceph.com/debian-giant/ trusty/main python-ceph amd64 0.87.2-1trusty [745 kB]
[vosd3][DEBUG ] Get:8 http://ceph.com/debian-giant/ trusty/main ceph-fs-common amd64 0.87.2-1trusty [739 kB]
[vosd3][WARNING] perl: warning: Setting locale failed.
[vosd3][WARNING] perl: warning: Please check that your locale settings:
[vosd3][WARNING] 	LANGUAGE = (unset),
[vosd3][WARNING] 	LC_ALL = (unset),
[vosd3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd3][WARNING] 	LANG = "en_US.UTF-8"
[vosd3][WARNING]     are supported and installed on your system.
[vosd3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd3][DEBUG ] Fetched 21.1 MB in 2min 8s (164 kB/s)
[vosd3][DEBUG ] (Reading database ... 56906 files and directories currently installed.)
[vosd3][DEBUG ] Preparing to unpack .../ceph-common_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph-common (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../librbd1_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking librbd1 (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../librados2_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking librados2 (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph-mds (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../ceph_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../python-ceph_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking python-ceph (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../gdisk_0.8.8-1ubuntu0.1_amd64.deb ...
[vosd3][DEBUG ] Unpacking gdisk (0.8.8-1ubuntu0.1) over (0.8.8-1build1) ...
[vosd3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph-fs-common (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vosd3][DEBUG ] ureadahead will be reprofiled on next reboot
[vosd3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vosd3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd3][DEBUG ] Setting up librados2 (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up librbd1 (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up python-ceph (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up ceph-common (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up gdisk (0.8.8-1ubuntu0.1) ...
[vosd3][DEBUG ] Setting up ceph (0.87.2-1trusty) ...
[vosd3][WARNING] start: Job is already running: ceph-all
[vosd3][DEBUG ] Setting up ceph-mds (0.87.2-1trusty) ...
[vosd3][WARNING] start: Job is already running: ceph-mds-all
[vosd3][DEBUG ] Setting up ceph-fs-common (0.87.2-1trusty) ...
[vosd3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vosd3][INFO  ] Running command: ceph --version
[vosd3][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vmon1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages will be upgraded:
[vmon1][DEBUG ]   ca-certificates
[vmon1][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 159 not upgraded.
[vmon1][DEBUG ] Need to get 207 kB of archives.
[vmon1][DEBUG ] After this operation, 15.4 kB of additional disk space will be used.
[vmon1][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20141019ubuntu0.12.04.1
[vmon1][DEBUG ]   404  Not Found [IP: 91.189.91.26 80]
[vmon1][DEBUG ] Err http://security.ubuntu.com/ubuntu/ precise-security/main ca-certificates all 20141019ubuntu0.12.04.1
[vmon1][DEBUG ]   404  Not Found [IP: 91.189.88.162 80]
[vmon1][WARNING] Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.12.04.1_all.deb  404  Not Found [IP: 91.189.88.162 80]
[vmon1][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vmon1
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon1
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon1 ...
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vmon1][INFO  ] installing ceph on vmon1
[vmon1][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following packages will be upgraded:
[vmon1][DEBUG ]   ca-certificates
[vmon1][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 183 not upgraded.
[vmon1][DEBUG ] Need to get 208 kB of archives.
[vmon1][DEBUG ] After this operation, 11.3 kB of additional disk space will be used.
[vmon1][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20160104ubuntu0.12.04.1 [208 kB]
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Preconfiguring packages ...
[vmon1][DEBUG ] Fetched 208 kB in 1s (165 kB/s)
[vmon1][DEBUG ] (Reading database ... 53193 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to replace ca-certificates 20130906ubuntu0.12.04.1 (using .../ca-certificates_20160104ubuntu0.12.04.1_all.deb) ...
[vmon1][DEBUG ] Unpacking replacement ca-certificates ...
[vmon1][DEBUG ] Processing triggers for man-db ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Setting up ca-certificates (20160104ubuntu0.12.04.1) ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][WARNING] Updating certificates in /etc/ssl/certs... 35 added, 26 removed; done.
[vmon1][WARNING] Running hooks in /etc/ca-certificates/update.d....done.
[vmon1][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] --2016-09-08 15:50:48--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vmon1][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vmon1][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vmon1][WARNING] --2016-09-08 15:50:49--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon1][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vmon1][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vmon1][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon1][WARNING] Length: 1645 (1.6K) [text/plain]
[vmon1][WARNING] Saving to: `release.asc'
[vmon1][WARNING] 
[vmon1][WARNING]      0K .                                                     100% 44.2M=0s
[vmon1][WARNING] 
[vmon1][WARNING] 2016-09-08 15:50:50 (44.2 MB/s) - `release.asc' saved [1645/1645]
[vmon1][WARNING] 
[vmon1][INFO  ] Running command: apt-key add release.asc
[vmon1][DEBUG ] OK
[vmon1][DEBUG ] add deb repo to sources.list
[vmon1][INFO  ] Running command: apt-get -q update
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release.gpg
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release
[vmon1][DEBUG ] Hit http://ceph.com precise Release.gpg
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Sources
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/main amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/main i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse TranslationIndex
[vmon1][DEBUG ] Hit http://ceph.com precise Release
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Sources
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe amd64 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse amd64 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/main TranslationIndex
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse TranslationIndex
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted TranslationIndex
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse i386 Packages
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe TranslationIndex
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/main Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Translation-en
[vmon1][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Translation-en
[vmon1][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Translation-en
[vmon1][DEBUG ] Hit http://ceph.com precise/main amd64 Packages
[vmon1][DEBUG ] Hit http://ceph.com precise/main i386 Packages
[vmon1][DEBUG ] Ign http://ceph.com precise/main TranslationIndex
[vmon1][DEBUG ] Ign http://ceph.com precise/main Translation-en
[vmon1][DEBUG ] Reading package lists...
[vmon1][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon1][DEBUG ] Reading package lists...
[vmon1][DEBUG ] Building dependency tree...
[vmon1][DEBUG ] Reading state information...
[vmon1][DEBUG ] The following extra packages will be installed:
[vmon1][DEBUG ]   librados2 librbd1 python-ceph
[vmon1][DEBUG ] Recommended packages:
[vmon1][DEBUG ]   btrfs-tools libradosstriper1
[vmon1][DEBUG ] The following packages will be upgraded:
[vmon1][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vmon1][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 175 not upgraded.
[vmon1][DEBUG ] Need to get 31.8 MB of archives.
[vmon1][DEBUG ] After this operation, 68.6 kB of additional disk space will be used.
[vmon1][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe gdisk amd64 0.8.1-1ubuntu0.1 [299 kB]
[vmon1][DEBUG ] Get:2 http://ceph.com/debian-giant/ precise/main ceph-common amd64 0.87.2-1precise [7467 kB]
[vmon1][DEBUG ] Get:3 http://ceph.com/debian-giant/ precise/main librbd1 amd64 0.87.2-1precise [1142 kB]
[vmon1][DEBUG ] Get:4 http://ceph.com/debian-giant/ precise/main librados2 amd64 0.87.2-1precise [2635 kB]
[vmon1][DEBUG ] Get:5 http://ceph.com/debian-giant/ precise/main ceph-mds amd64 0.87.2-1precise [5368 kB]
[vmon1][DEBUG ] Get:6 http://ceph.com/debian-giant/ precise/main ceph amd64 0.87.2-1precise [13.4 MB]
[vmon1][DEBUG ] Get:7 http://ceph.com/debian-giant/ precise/main python-ceph amd64 0.87.2-1precise [749 kB]
[vmon1][DEBUG ] Get:8 http://ceph.com/debian-giant/ precise/main ceph-fs-common amd64 0.87.2-1precise [743 kB]
[vmon1][WARNING] perl: warning: Setting locale failed.
[vmon1][WARNING] perl: warning: Please check that your locale settings:
[vmon1][WARNING] 	LANGUAGE = (unset),
[vmon1][WARNING] 	LC_ALL = (unset),
[vmon1][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon1][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon1][WARNING] 	LANG = "en_US.UTF-8"
[vmon1][WARNING]     are supported and installed on your system.
[vmon1][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Fetched 31.8 MB in 30s (1049 kB/s)
[vmon1][DEBUG ] (Reading database ... 53201 files and directories currently installed.)
[vmon1][DEBUG ] Preparing to replace ceph-common 0.87-1precise (using .../ceph-common_0.87.2-1precise_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement ceph-common ...
[vmon1][DEBUG ] Preparing to replace librbd1 0.87-1precise (using .../librbd1_0.87.2-1precise_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement librbd1 ...
[vmon1][DEBUG ] Preparing to replace librados2 0.87-1precise (using .../librados2_0.87.2-1precise_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement librados2 ...
[vmon1][DEBUG ] Preparing to replace ceph-mds 0.87-1precise (using .../ceph-mds_0.87.2-1precise_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement ceph-mds ...
[vmon1][DEBUG ] Preparing to replace ceph 0.87-1precise (using .../ceph_0.87.2-1precise_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement ceph ...
[vmon1][DEBUG ] Preparing to replace python-ceph 0.87-1precise (using .../python-ceph_0.87.2-1precise_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement python-ceph ...
[vmon1][DEBUG ] Preparing to replace gdisk 0.8.1-1build1 (using .../gdisk_0.8.1-1ubuntu0.1_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement gdisk ...
[vmon1][DEBUG ] Preparing to replace ceph-fs-common 0.87-1precise (using .../ceph-fs-common_0.87.2-1precise_amd64.deb) ...
[vmon1][DEBUG ] Unpacking replacement ceph-fs-common ...
[vmon1][DEBUG ] Processing triggers for man-db ...
[vmon1][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon1][DEBUG ] Processing triggers for ureadahead ...
[vmon1][DEBUG ] Setting up librados2 (0.87.2-1precise) ...
[vmon1][DEBUG ] Setting up librbd1 (0.87.2-1precise) ...
[vmon1][DEBUG ] Setting up python-ceph (0.87.2-1precise) ...
[vmon1][DEBUG ] Setting up ceph-common (0.87.2-1precise) ...
[vmon1][DEBUG ] Setting up gdisk (0.8.1-1ubuntu0.1) ...
[vmon1][DEBUG ] Setting up ceph (0.87.2-1precise) ...
[vmon1][WARNING] start: Job is already running: ceph-all
[vmon1][DEBUG ] Setting up ceph-mds (0.87.2-1precise) ...
[vmon1][WARNING] start: Job is already running: ceph-mds-all
[vmon1][DEBUG ] Setting up ceph-fs-common (0.87.2-1precise) ...
[vmon1][DEBUG ] Processing triggers for libc-bin ...
[vmon1][DEBUG ] ldconfig deferred processing now taking place
[vmon1][INFO  ] Running command: ceph --version
[vmon1][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vmon2
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vmon2
[ceph_deploy.install][DEBUG ] Detecting platform for host vmon2 ...
[vmon2][DEBUG ] connected to host: vmon2 
[vmon2][DEBUG ] detect platform information from remote host
[vmon2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vmon2][INFO  ] installing ceph on vmon2
[vmon2][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following packages will be upgraded:
[vmon2][DEBUG ]   ca-certificates
[vmon2][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 183 not upgraded.
[vmon2][DEBUG ] Need to get 208 kB of archives.
[vmon2][DEBUG ] After this operation, 11.3 kB of additional disk space will be used.
[vmon2][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/main ca-certificates all 20160104ubuntu0.12.04.1 [208 kB]
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Preconfiguring packages ...
[vmon2][DEBUG ] Fetched 208 kB in 1s (158 kB/s)
[vmon2][DEBUG ] (Reading database ... 53193 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to replace ca-certificates 20130906ubuntu0.12.04.1 (using .../ca-certificates_20160104ubuntu0.12.04.1_all.deb) ...
[vmon2][DEBUG ] Unpacking replacement ca-certificates ...
[vmon2][DEBUG ] Processing triggers for man-db ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Setting up ca-certificates (20160104ubuntu0.12.04.1) ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][WARNING] Updating certificates in /etc/ssl/certs... 35 added, 26 removed; done.
[vmon2][WARNING] Running hooks in /etc/ca-certificates/update.d....done.
[vmon2][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] --2016-09-08 15:52:04--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vmon2][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vmon2][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vmon2][WARNING] --2016-09-08 15:52:05--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vmon2][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vmon2][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vmon2][WARNING] HTTP request sent, awaiting response... 200 OK
[vmon2][WARNING] Length: 1645 (1.6K) [text/plain]
[vmon2][WARNING] Saving to: `release.asc'
[vmon2][WARNING] 
[vmon2][WARNING]      0K .                                                     100% 53.2M=0s
[vmon2][WARNING] 
[vmon2][WARNING] 2016-09-08 15:52:06 (53.2 MB/s) - `release.asc' saved [1645/1645]
[vmon2][WARNING] 
[vmon2][INFO  ] Running command: apt-key add release.asc
[vmon2][DEBUG ] OK
[vmon2][DEBUG ] add deb repo to sources.list
[vmon2][INFO  ] Running command: apt-get -q update
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise Release.gpg
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release.gpg
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release.gpg
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security Release.gpg
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise Release
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security Release
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports Release
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/main Sources
[vmon2][DEBUG ] Get:1 http://ceph.com precise Release.gpg [819 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/main amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/main i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Sources
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/main TranslationIndex
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse TranslationIndex
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted TranslationIndex
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe TranslationIndex
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/main Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/multiverse Translation-en
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/restricted Translation-en
[vmon2][DEBUG ] Get:2 http://ceph.com precise Release [5312 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse TranslationIndex
[vmon2][DEBUG ] Hit http://security.ubuntu.com precise-security/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Sources
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse amd64 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse i386 Packages
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe TranslationIndex
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Translation-en
[vmon2][DEBUG ] Get:3 http://ceph.com precise/main amd64 Packages [9929 B]
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-updates/universe Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/main Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/multiverse Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/restricted Translation-en
[vmon2][DEBUG ] Hit http://us.archive.ubuntu.com precise-backports/universe Translation-en
[vmon2][DEBUG ] Get:4 http://ceph.com precise/main i386 Packages [6879 B]
[vmon2][DEBUG ] Ign http://ceph.com precise/main TranslationIndex
[vmon2][DEBUG ] Ign http://ceph.com precise/main Translation-en
[vmon2][DEBUG ] Fetched 17.6 kB in 8s (2143 B/s)
[vmon2][DEBUG ] Reading package lists...
[vmon2][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vmon2][DEBUG ] Reading package lists...
[vmon2][DEBUG ] Building dependency tree...
[vmon2][DEBUG ] Reading state information...
[vmon2][DEBUG ] The following extra packages will be installed:
[vmon2][DEBUG ]   librados2 librbd1 python-ceph
[vmon2][DEBUG ] Recommended packages:
[vmon2][DEBUG ]   btrfs-tools libradosstriper1
[vmon2][DEBUG ] The following packages will be upgraded:
[vmon2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vmon2][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 175 not upgraded.
[vmon2][DEBUG ] Need to get 31.8 MB of archives.
[vmon2][DEBUG ] After this operation, 68.6 kB of additional disk space will be used.
[vmon2][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe gdisk amd64 0.8.1-1ubuntu0.1 [299 kB]
[vmon2][DEBUG ] Get:2 http://ceph.com/debian-giant/ precise/main ceph-common amd64 0.87.2-1precise [7467 kB]
[vmon2][DEBUG ] Get:3 http://ceph.com/debian-giant/ precise/main librbd1 amd64 0.87.2-1precise [1142 kB]
[vmon2][DEBUG ] Get:4 http://ceph.com/debian-giant/ precise/main librados2 amd64 0.87.2-1precise [2635 kB]
[vmon2][DEBUG ] Get:5 http://ceph.com/debian-giant/ precise/main ceph-mds amd64 0.87.2-1precise [5368 kB]
[vmon2][DEBUG ] Get:6 http://ceph.com/debian-giant/ precise/main ceph amd64 0.87.2-1precise [13.4 MB]
[vmon2][DEBUG ] Get:7 http://ceph.com/debian-giant/ precise/main python-ceph amd64 0.87.2-1precise [749 kB]
[vmon2][DEBUG ] Get:8 http://ceph.com/debian-giant/ precise/main ceph-fs-common amd64 0.87.2-1precise [743 kB]
[vmon2][WARNING] perl: warning: Setting locale failed.
[vmon2][WARNING] perl: warning: Please check that your locale settings:
[vmon2][WARNING] 	LANGUAGE = (unset),
[vmon2][WARNING] 	LC_ALL = (unset),
[vmon2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vmon2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vmon2][WARNING] 	LANG = "en_US.UTF-8"
[vmon2][WARNING]     are supported and installed on your system.
[vmon2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Fetched 31.8 MB in 2min 36s (203 kB/s)
[vmon2][DEBUG ] (Reading database ... 53201 files and directories currently installed.)
[vmon2][DEBUG ] Preparing to replace ceph-common 0.87-1precise (using .../ceph-common_0.87.2-1precise_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement ceph-common ...
[vmon2][DEBUG ] Preparing to replace librbd1 0.87-1precise (using .../librbd1_0.87.2-1precise_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement librbd1 ...
[vmon2][DEBUG ] Preparing to replace librados2 0.87-1precise (using .../librados2_0.87.2-1precise_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement librados2 ...
[vmon2][DEBUG ] Preparing to replace ceph-mds 0.87-1precise (using .../ceph-mds_0.87.2-1precise_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement ceph-mds ...
[vmon2][DEBUG ] Preparing to replace ceph 0.87-1precise (using .../ceph_0.87.2-1precise_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement ceph ...
[vmon2][DEBUG ] Preparing to replace python-ceph 0.87-1precise (using .../python-ceph_0.87.2-1precise_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement python-ceph ...
[vmon2][DEBUG ] Preparing to replace gdisk 0.8.1-1build1 (using .../gdisk_0.8.1-1ubuntu0.1_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement gdisk ...
[vmon2][DEBUG ] Preparing to replace ceph-fs-common 0.87-1precise (using .../ceph-fs-common_0.87.2-1precise_amd64.deb) ...
[vmon2][DEBUG ] Unpacking replacement ceph-fs-common ...
[vmon2][DEBUG ] Processing triggers for man-db ...
[vmon2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vmon2][DEBUG ] Processing triggers for ureadahead ...
[vmon2][DEBUG ] Setting up librados2 (0.87.2-1precise) ...
[vmon2][DEBUG ] Setting up librbd1 (0.87.2-1precise) ...
[vmon2][DEBUG ] Setting up python-ceph (0.87.2-1precise) ...
[vmon2][DEBUG ] Setting up ceph-common (0.87.2-1precise) ...
[vmon2][DEBUG ] Setting up gdisk (0.8.1-1ubuntu0.1) ...
[vmon2][DEBUG ] Setting up ceph (0.87.2-1precise) ...
[vmon2][WARNING] start: Job is already running: ceph-all
[vmon2][DEBUG ] Setting up ceph-mds (0.87.2-1precise) ...
[vmon2][WARNING] start: Job is already running: ceph-mds-all
[vmon2][DEBUG ] Setting up ceph-fs-common (0.87.2-1precise) ...
[vmon2][DEBUG ] Processing triggers for libc-bin ...
[vmon2][DEBUG ] ldconfig deferred processing now taking place
[vmon2][INFO  ] Running command: ceph --version
[vmon2][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy mon create-initial vmon1
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts vmon1
[ceph_deploy.mon][DEBUG ] detecting platform for host vmon1 ...
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 12.04 precise
[vmon1][DEBUG ] determining if provided host has same hostname in remote
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] deploying mon to vmon1
[vmon1][DEBUG ] get remote short hostname
[vmon1][DEBUG ] remote hostname: vmon1
[vmon1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.mon][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to create 1 monitors

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd prepare /dev/sda
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks /dev/sda::
[ceph_deploy][ERROR ] NeedDiskError: Must supply disk/path argument: /dev/sda

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd prepare vosd0:/dev/sda
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd0:/dev/sda:
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[ceph_deploy.osd][DEBUG ] Deploying osd to vosd0
[vosd0][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.osd][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd prepare vosd0:/dev/sda
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd0:/dev/sda:
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[ceph_deploy.osd][DEBUG ] Deploying osd to vosd0
[vosd0][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vosd0][INFO  ] Running command: udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vosd0 disk /dev/sda journal None activate False
[vosd0][INFO  ] Running command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vosd0][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sda
[vosd0][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:eb8cbebe-f288-4352-beb7-bda98ed98ffc --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sda
[vosd0][DEBUG ] Creating new GPT entries.
[vosd0][DEBUG ] Information: Moved requested sector from 34 to 2048 in
[vosd0][DEBUG ] order to align on 2048-sector boundaries.
[vosd0][DEBUG ] The operation has completed successfully.
[vosd0][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vosd0][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/eb8cbebe-f288-4352-beb7-bda98ed98ffc
[vosd0][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:c90d20ea-2e34-4fcd-8cbc-22dcf43e36e6 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sda
[vosd0][DEBUG ] Information: Moved requested sector from 10485761 to 10487808 in
[vosd0][DEBUG ] order to align on 2048-sector boundaries.
[vosd0][DEBUG ] The operation has completed successfully.
[vosd0][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vosd0][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sda1
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sda1
[vosd0][DEBUG ] meta-data=/dev/sda1              isize=2048   agcount=4, agsize=1041597 blks
[vosd0][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vosd0][DEBUG ] data     =                       bsize=4096   blocks=4166387, imaxpct=25
[vosd0][DEBUG ]          =                       sunit=0      swidth=0 blks
[vosd0][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vosd0][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vosd0][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vosd0][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vosd0][WARNING] DEBUG:ceph-disk:Mounting /dev/sda1 on /var/lib/ceph/tmp/mnt.JRdC_8 with options noatime,inode64
[vosd0][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sda1 /var/lib/ceph/tmp/mnt.JRdC_8
[vosd0][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.JRdC_8
[vosd0][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.JRdC_8/journal -> /dev/disk/by-partuuid/eb8cbebe-f288-4352-beb7-bda98ed98ffc
[vosd0][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.JRdC_8
[vosd0][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.JRdC_8
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sda
[vosd0][DEBUG ] The operation has completed successfully.
[vosd0][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sda
[vosd0][INFO  ] checking OSD status...
[vosd0][INFO  ] Running command: ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vosd0 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd0:/dev/sda
[ceph_deploy.osd][DEBUG ] zapping /dev/sda on vosd0
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd0][DEBUG ] zeroing last few blocks of device
[vosd0][DEBUG ] find the location of an executable
[vosd0][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sda
[vosd0][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd0][WARNING] backup header from main header.
[vosd0][WARNING] 
[vosd0][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vosd0][WARNING] on the recovery & transformation menu to examine the two tables.
[vosd0][WARNING] 
[vosd0][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vosd0][WARNING] 
[vosd0][DEBUG ] ****************************************************************************
[vosd0][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd0][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd0][DEBUG ] ****************************************************************************
[vosd0][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd0][DEBUG ] other utilities.
[vosd0][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sda
[vosd0][INFO  ] Running command: partprobe /dev/sda
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd1:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd1
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd1][DEBUG ] zeroing last few blocks of device
[vosd1][DEBUG ] find the location of an executable
[vosd1][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd1][DEBUG ] Creating new GPT entries.
[vosd1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd1][DEBUG ] other utilities.
[vosd1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd1][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd2
[vosd2][DEBUG ] connected to host: vosd2 
[vosd2][DEBUG ] detect platform information from remote host
[vosd2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd2][DEBUG ] zeroing last few blocks of device
[vosd2][DEBUG ] find the location of an executable
[vosd2][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd2][DEBUG ] Creating new GPT entries.
[vosd2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd2][DEBUG ] other utilities.
[vosd2][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd2][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd3:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd3
[vosd3][DEBUG ] connected to host: vosd3 
[vosd3][DEBUG ] detect platform information from remote host
[vosd3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd3][DEBUG ] zeroing last few blocks of device
[vosd3][DEBUG ] find the location of an executable
[vosd3][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd3][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd3][WARNING] backup header from main header.
[vosd3][WARNING] 
[vosd3][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vosd3][WARNING] on the recovery & transformation menu to examine the two tables.
[vosd3][WARNING] 
[vosd3][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vosd3][WARNING] 
[vosd3][DEBUG ] ****************************************************************************
[vosd3][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd3][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd3][DEBUG ] ****************************************************************************
[vosd3][DEBUG ] Warning: The kernel is still using the old partition table.
[vosd3][DEBUG ] The new table will be used at the next reboot.
[vosd3][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd3][DEBUG ] other utilities.
[vosd3][DEBUG ] Warning: The kernel is still using the old partition table.
[vosd3][DEBUG ] The new table will be used at the next reboot.
[vosd3][DEBUG ] The operation has completed successfully.
[vosd3][WARNING] Error: Partition(s) 1, 2 on /dev/sdb have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd3][INFO  ] Running command: partprobe /dev/sdb
[vosd3][WARNING] Error: Partition(s) 1, 2 on /dev/sdb have been written, but we have been unable to inform the kernel of the change, probably because it/they are in use.  As a result, the old partition(s) will remain in use.  You should reboot now before making further changes.
[vosd3][ERROR ] RuntimeError: command returned non-zero exit status: 1
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: partprobe /dev/sdb

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd3:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd3
[vosd3][DEBUG ] connected to host: vosd3 
[vosd3][DEBUG ] detect platform information from remote host
[vosd3][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd3][DEBUG ] zeroing last few blocks of device
[vosd3][DEBUG ] find the location of an executable
[vosd3][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd3][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd3][WARNING] backup header from main header.
[vosd3][WARNING] 
[vosd3][DEBUG ] ****************************************************************************
[vosd3][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd3][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd3][DEBUG ] ****************************************************************************
[vosd3][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd3][DEBUG ] other utilities.
[vosd3][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd3][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd0:/dev/sda
[ceph_deploy.osd][DEBUG ] zapping /dev/sda on vosd0
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd0][DEBUG ] zeroing last few blocks of device
[vosd0][DEBUG ] find the location of an executable
[vosd0][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sda
[vosd0][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd0][WARNING] backup header from main header.
[vosd0][WARNING] 
[vosd0][DEBUG ] ****************************************************************************
[vosd0][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd0][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd0][DEBUG ] ****************************************************************************
[vosd0][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd0][DEBUG ] other utilities.
[vosd0][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sda
[vosd0][INFO  ] Running command: partprobe /dev/sda
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd0:/dev/sda
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd0:/dev/sda:
[vosd0][DEBUG ] connected to host: vosd0 
[vosd0][DEBUG ] detect platform information from remote host
[vosd0][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[ceph_deploy.osd][DEBUG ] Deploying osd to vosd0
[vosd0][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vosd0][INFO  ] Running command: udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vosd0 disk /dev/sda journal None activate True
[vosd0][INFO  ] Running command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vosd0][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vosd0][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sda
[vosd0][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:6e754a78-dc61-41a3-a4c0-069b0b7019f5 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sda
[vosd0][DEBUG ] Information: Moved requested sector from 34 to 2048 in
[vosd0][DEBUG ] order to align on 2048-sector boundaries.
[vosd0][DEBUG ] The operation has completed successfully.
[vosd0][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vosd0][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/6e754a78-dc61-41a3-a4c0-069b0b7019f5
[vosd0][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:4e0dba65-f6c5-435a-90e2-acec4dbb62a6 --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sda
[vosd0][DEBUG ] Information: Moved requested sector from 10485761 to 10487808 in
[vosd0][DEBUG ] order to align on 2048-sector boundaries.
[vosd0][DEBUG ] The operation has completed successfully.
[vosd0][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vosd0][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sda1
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sda1
[vosd0][DEBUG ] meta-data=/dev/sda1              isize=2048   agcount=4, agsize=1041597 blks
[vosd0][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vosd0][DEBUG ] data     =                       bsize=4096   blocks=4166387, imaxpct=25
[vosd0][DEBUG ]          =                       sunit=0      swidth=0 blks
[vosd0][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vosd0][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vosd0][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vosd0][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vosd0][WARNING] DEBUG:ceph-disk:Mounting /dev/sda1 on /var/lib/ceph/tmp/mnt.XFDJTq with options noatime,inode64
[vosd0][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sda1 /var/lib/ceph/tmp/mnt.XFDJTq
[vosd0][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.XFDJTq
[vosd0][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.XFDJTq/journal -> /dev/disk/by-partuuid/6e754a78-dc61-41a3-a4c0-069b0b7019f5
[vosd0][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.XFDJTq
[vosd0][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.XFDJTq
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sda
[vosd0][DEBUG ] The operation has completed successfully.
[vosd0][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sda
[vosd0][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sda
[vosd0][INFO  ] Running command: udevadm trigger --subsystem-match=block --action=add
[vosd0][INFO  ] checking OSD status...
[vosd0][INFO  ] Running command: ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vosd0 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd1:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd1
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd1][DEBUG ] zeroing last few blocks of device
[vosd1][DEBUG ] find the location of an executable
[vosd1][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd1][WARNING] backup header from main header.
[vosd1][WARNING] 
[vosd1][DEBUG ] ****************************************************************************
[vosd1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd1][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd1][DEBUG ] ****************************************************************************
[vosd1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd1][DEBUG ] other utilities.
[vosd1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd1][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd1:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd1:/dev/sdb:
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[ceph_deploy.osd][DEBUG ] Deploying osd to vosd1
[vosd1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.osd][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd2
[vosd2][DEBUG ] connected to host: vosd2 
[vosd2][DEBUG ] detect platform information from remote host
[vosd2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd2][DEBUG ] zeroing last few blocks of device
[vosd2][DEBUG ] find the location of an executable
[vosd2][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd2][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd2][WARNING] backup header from main header.
[vosd2][WARNING] 
[vosd2][DEBUG ] ****************************************************************************
[vosd2][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd2][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd2][DEBUG ] ****************************************************************************
[vosd2][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd2][DEBUG ] other utilities.
[vosd2][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd2][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd2:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd2:/dev/sdb:
[vosd2][DEBUG ] connected to host: vosd2 
[vosd2][DEBUG ] detect platform information from remote host
[vosd2][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[ceph_deploy.osd][DEBUG ] Deploying osd to vosd2
[vosd2][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[ceph_deploy.osd][ERROR ] RuntimeError: config file /etc/ceph/ceph.conf exists with different content; use --overwrite-conf to overwrite
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd1:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd1
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd1][DEBUG ] zeroing last few blocks of device
[vosd1][DEBUG ] find the location of an executable
[vosd1][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd1][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd1][WARNING] backup header from main header.
[vosd1][WARNING] 
[vosd1][DEBUG ] ****************************************************************************
[vosd1][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd1][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd1][DEBUG ] ****************************************************************************
[vosd1][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd1][DEBUG ] other utilities.
[vosd1][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd1][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd1:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd1:/dev/sdb:
[vosd1][DEBUG ] connected to host: vosd1 
[vosd1][DEBUG ] detect platform information from remote host
[vosd1][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 12.04 precise
[ceph_deploy.osd][DEBUG ] Deploying osd to vosd1
[vosd1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[vosd1][INFO  ] Running command: udevadm trigger --subsystem-match=block --action=add
[ceph_deploy.osd][DEBUG ] Preparing host vosd1 disk /dev/sdb journal None activate True
[vosd1][INFO  ] Running command: ceph-disk -v prepare --fs-type xfs --cluster ceph -- /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=fsid
[vosd1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mkfs_options_xfs
[vosd1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mkfs_options_xfs
[vosd1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_mount_options_xfs
[vosd1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-conf --cluster=ceph --name=osd. --lookup osd_fs_mount_options_xfs
[vosd1][WARNING] INFO:ceph-disk:Running command: /usr/bin/ceph-osd --cluster=ceph --show-config-value=osd_journal_size
[vosd1][WARNING] INFO:ceph-disk:Will colocate journal with data on /dev/sdb
[vosd1][WARNING] DEBUG:ceph-disk:Creating journal partition num 2 size 5120 on /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --new=2:0:5120M --change-name=2:ceph journal --partition-guid=2:9e17697e-7aa3-443b-8cbf-f0cfdb6ae333 --typecode=2:45b0969e-9b03-4f30-b4c6-b4b80ceff106 --mbrtogpt -- /dev/sdb
[vosd1][DEBUG ] Information: Moved requested sector from 34 to 2048 in
[vosd1][DEBUG ] order to align on 2048-sector boundaries.
[vosd1][DEBUG ] The operation has completed successfully.
[vosd1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vosd1][WARNING] DEBUG:ceph-disk:Journal is GPT partition /dev/disk/by-partuuid/9e17697e-7aa3-443b-8cbf-f0cfdb6ae333
[vosd1][WARNING] DEBUG:ceph-disk:Creating osd partition on /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --largest-new=1 --change-name=1:ceph data --partition-guid=1:b58d54d8-02f5-43d9-ba0d-8359f34cc41a --typecode=1:89c57f98-2fe5-4dc0-89c1-f3ad0ceff2be -- /dev/sdb
[vosd1][DEBUG ] Information: Moved requested sector from 10485761 to 10487808 in
[vosd1][DEBUG ] order to align on 2048-sector boundaries.
[vosd1][DEBUG ] The operation has completed successfully.
[vosd1][WARNING] DEBUG:ceph-disk:Calling partprobe on created device /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/udevadm settle
[vosd1][WARNING] DEBUG:ceph-disk:Creating xfs fs on /dev/sdb1
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/mkfs -t xfs -f -i size=2048 -- /dev/sdb1
[vosd1][DEBUG ] meta-data=/dev/sdb1              isize=2048   agcount=4, agsize=999566 blks
[vosd1][DEBUG ]          =                       sectsz=512   attr=2, projid32bit=0
[vosd1][DEBUG ] data     =                       bsize=4096   blocks=3998263, imaxpct=25
[vosd1][DEBUG ]          =                       sunit=0      swidth=0 blks
[vosd1][DEBUG ] naming   =version 2              bsize=4096   ascii-ci=0
[vosd1][DEBUG ] log      =internal log           bsize=4096   blocks=2560, version=2
[vosd1][DEBUG ]          =                       sectsz=512   sunit=0 blks, lazy-count=1
[vosd1][DEBUG ] realtime =none                   extsz=4096   blocks=0, rtextents=0
[vosd1][WARNING] DEBUG:ceph-disk:Mounting /dev/sdb1 on /var/lib/ceph/tmp/mnt.rbMp6n with options noatime,inode64
[vosd1][WARNING] INFO:ceph-disk:Running command: /bin/mount -t xfs -o noatime,inode64 -- /dev/sdb1 /var/lib/ceph/tmp/mnt.rbMp6n
[vosd1][WARNING] DEBUG:ceph-disk:Preparing osd data dir /var/lib/ceph/tmp/mnt.rbMp6n
[vosd1][WARNING] DEBUG:ceph-disk:Creating symlink /var/lib/ceph/tmp/mnt.rbMp6n/journal -> /dev/disk/by-partuuid/9e17697e-7aa3-443b-8cbf-f0cfdb6ae333
[vosd1][WARNING] DEBUG:ceph-disk:Unmounting /var/lib/ceph/tmp/mnt.rbMp6n
[vosd1][WARNING] INFO:ceph-disk:Running command: /bin/umount -- /var/lib/ceph/tmp/mnt.rbMp6n
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/sgdisk --typecode=1:4fbd7e29-9d25-41b8-afd0-062c0ceff05d -- /dev/sdb
[vosd1][DEBUG ] The operation has completed successfully.
[vosd1][WARNING] DEBUG:ceph-disk:Calling partprobe on prepared device /dev/sdb
[vosd1][WARNING] INFO:ceph-disk:Running command: /sbin/partprobe /dev/sdb
[vosd1][INFO  ] Running command: udevadm trigger --subsystem-match=block --action=add
[vosd1][INFO  ] checking OSD status...
[vosd1][INFO  ] Running command: ceph --cluster=ceph osd stat --format=json
[ceph_deploy.osd][DEBUG ] Host vosd1 is now ready for osd use.
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd2
[ceph_deploy][ERROR ] RuntimeError: connecting to host: vosd2 resulted in errors: HostNotFound vosd2

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd2:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd2:/dev/sdb:
[ceph_deploy.osd][ERROR ] connecting to host: vosd2 resulted in errors: HostNotFound vosd2
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd3:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd3
[ceph_deploy][ERROR ] RuntimeError: connecting to host: vosd3 resulted in errors: HostNotFound vosd3

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd3:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd3:/dev/sdb:
[ceph_deploy.osd][ERROR ] connecting to host: vosd3 resulted in errors: HostNotFound vosd3
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd2:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd2
[ceph_deploy][ERROR ] RuntimeError: connecting to host: vosd2 resulted in errors: HostNotFound vosd2

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd2:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd2:/dev/sdb:
[ceph_deploy.osd][ERROR ] connecting to host: vosd2 resulted in errors: HostNotFound vosd2
[ceph_deploy][ERROR ] GenericError: Failed to create 1 OSDs

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd4
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd4
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd4 ...
[ceph_deploy][ERROR ] RuntimeError: connecting to host: vosd4 resulted in errors: HostNotFound vosd4

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy purge vosd4
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vosd4
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd4 ...
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy purgedata vosd4
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vosd4
[ceph_deploy][ERROR ] KeyboardInterrupt

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy purge vosd4
[ceph_deploy.install][INFO  ] note that some dependencies *will not* be removed because they can cause issues with qemu-kvm
[ceph_deploy.install][INFO  ] like: librbd1 and librados2
[ceph_deploy.install][DEBUG ] Purging from cluster ceph hosts vosd4
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd4 ...
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][INFO  ] purging host ... vosd4
[vosd4][INFO  ] Running command: apt-get -q remove -f -y --force-yes --purge ceph ceph-mds ceph-common ceph-fs-common
[vosd4][DEBUG ] Reading package lists...
[vosd4][DEBUG ] Building dependency tree...
[vosd4][DEBUG ] Reading state information...
[vosd4][DEBUG ] The following packages were automatically installed and are no longer required:
[vosd4][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vosd4][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vosd4][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vosd4][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vosd4][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vosd4][DEBUG ]   python-werkzeug xfsprogs
[vosd4][DEBUG ] Use 'apt-get autoremove' to remove them.
[vosd4][DEBUG ] The following packages will be REMOVED:
[vosd4][DEBUG ]   ceph* ceph-common* ceph-fs-common* ceph-mds*
[vosd4][WARNING] perl: warning: Setting locale failed.
[vosd4][WARNING] perl: warning: Please check that your locale settings:
[vosd4][WARNING] 	LANGUAGE = (unset),
[vosd4][WARNING] 	LC_ALL = (unset),
[vosd4][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd4][WARNING] 	LANG = "en_US.UTF-8"
[vosd4][WARNING]     are supported and installed on your system.
[vosd4][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd4][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd4][DEBUG ] 0 upgraded, 0 newly installed, 4 to remove and 123 not upgraded.
[vosd4][DEBUG ] After this operation, 84.0 MB disk space will be freed.
[vosd4][DEBUG ] (Reading database ... 56898 files and directories currently installed.)
[vosd4][DEBUG ] Removing ceph-mds (0.87-1trusty) ...
[vosd4][DEBUG ] ceph-mds-all stop/waiting
[vosd4][DEBUG ] Purging configuration files for ceph-mds (0.87-1trusty) ...
[vosd4][DEBUG ] Removing ceph (0.87-1trusty) ...
[vosd4][DEBUG ] ceph-all stop/waiting
[vosd4][DEBUG ] Purging configuration files for ceph (0.87-1trusty) ...
[vosd4][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/tmp' not empty so not removed
[vosd4][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/bootstrap-osd' not empty so not removed
[vosd4][WARNING] dpkg: warning: while removing ceph, directory '/var/lib/ceph/osd' not empty so not removed
[vosd4][DEBUG ] Removing ceph-common (0.87-1trusty) ...
[vosd4][DEBUG ] Purging configuration files for ceph-common (0.87-1trusty) ...
[vosd4][DEBUG ] Removing ceph-fs-common (0.87-1trusty) ...
[vosd4][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vosd4][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd4][WARNING] debconf: unable to initialize frontend: Dialog
[vosd4][WARNING] debconf: (TERM is not set, so the dialog frontend is not usable.)
[vosd4][WARNING] debconf: falling back to frontend: Readline
[vosd4][WARNING] debconf: unable to initialize frontend: Readline
[vosd4][WARNING] debconf: (This frontend requires a controlling tty.)
[vosd4][WARNING] debconf: falling back to frontend: Teletype
[vosd4][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy purgedata vosd4
[ceph_deploy.install][DEBUG ] Purging data from cluster ceph hosts vosd4
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[vosd4][DEBUG ] find the location of an executable
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][INFO  ] purging data on vosd4
[vosd4][INFO  ] Running command: rm -rf --one-file-system -- /var/lib/ceph
[vosd4][INFO  ] Running command: rm -rf --one-file-system -- /etc/ceph/
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd4
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd4
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd4 ...
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][INFO  ] installing ceph on vosd4
[vosd4][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd4][DEBUG ] Reading package lists...
[vosd4][DEBUG ] Building dependency tree...
[vosd4][DEBUG ] Reading state information...
[vosd4][DEBUG ] The following packages were automatically installed and are no longer required:
[vosd4][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vosd4][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vosd4][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vosd4][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vosd4][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vosd4][DEBUG ]   python-werkzeug xfsprogs
[vosd4][DEBUG ] Use 'apt-get autoremove' to remove them.
[vosd4][DEBUG ] The following packages will be upgraded:
[vosd4][DEBUG ]   ca-certificates
[vosd4][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 122 not upgraded.
[vosd4][DEBUG ] Need to get 189 kB of archives.
[vosd4][DEBUG ] After this operation, 20.5 kB of additional disk space will be used.
[vosd4][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main ca-certificates all 20141019ubuntu0.14.04.1
[vosd4][DEBUG ]   404  Not Found [IP: 91.189.91.26 80]
[vosd4][DEBUG ] Err http://security.ubuntu.com/ubuntu/ trusty-security/main ca-certificates all 20141019ubuntu0.14.04.1
[vosd4][DEBUG ]   404  Not Found [IP: 91.189.91.26 80]
[vosd4][WARNING] E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.14.04.1_all.deb  404  Not Found [IP: 91.189.91.26 80]
[vosd4][WARNING] 
[vosd4][WARNING] E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
[vosd4][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd4
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd4
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd4 ...
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][INFO  ] installing ceph on vosd4
[vosd4][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd4][DEBUG ] Reading package lists...
[vosd4][DEBUG ] Building dependency tree...
[vosd4][DEBUG ] Reading state information...
[vosd4][DEBUG ] The following packages were automatically installed and are no longer required:
[vosd4][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vosd4][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vosd4][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vosd4][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vosd4][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vosd4][DEBUG ]   python-werkzeug xfsprogs
[vosd4][DEBUG ] Use 'apt-get autoremove' to remove them.
[vosd4][DEBUG ] The following packages will be upgraded:
[vosd4][DEBUG ]   ca-certificates
[vosd4][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 122 not upgraded.
[vosd4][DEBUG ] Need to get 189 kB of archives.
[vosd4][DEBUG ] After this operation, 20.5 kB of additional disk space will be used.
[vosd4][DEBUG ] Err http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main ca-certificates all 20141019ubuntu0.14.04.1
[vosd4][DEBUG ]   404  Not Found [IP: 91.189.91.23 80]
[vosd4][DEBUG ] Err http://security.ubuntu.com/ubuntu/ trusty-security/main ca-certificates all 20141019ubuntu0.14.04.1
[vosd4][DEBUG ]   404  Not Found [IP: 91.189.88.149 80]
[vosd4][WARNING] E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/c/ca-certificates/ca-certificates_20141019ubuntu0.14.04.1_all.deb  404  Not Found [IP: 91.189.88.149 80]
[vosd4][WARNING] 
[vosd4][WARNING] E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
[vosd4][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd4
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd4
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd4 ...
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][INFO  ] installing ceph on vosd4
[vosd4][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd4][DEBUG ] Reading package lists...
[vosd4][DEBUG ] Building dependency tree...
[vosd4][DEBUG ] Reading state information...
[vosd4][DEBUG ] The following packages were automatically installed and are no longer required:
[vosd4][DEBUG ]   cryptsetup-bin libaio1 libboost-system1.54.0 libboost-thread1.54.0
[vosd4][DEBUG ]   libcephfs1 libcryptsetup4 libgoogle-perftools4 libjs-jquery libleveldb1
[vosd4][DEBUG ]   liblttng-ust-ctl2 liblttng-ust0 libnspr4 libnss3 libnss3-nssdb librados2
[vosd4][DEBUG ]   librbd1 libsnappy1 libtcmalloc-minimal4 libunwind8 liburcu1 python-ceph
[vosd4][DEBUG ]   python-flask python-itsdangerous python-jinja2 python-markupsafe
[vosd4][DEBUG ]   python-werkzeug xfsprogs
[vosd4][DEBUG ] Use 'apt-get autoremove' to remove them.
[vosd4][DEBUG ] The following packages will be upgraded:
[vosd4][DEBUG ]   ca-certificates
[vosd4][DEBUG ] 1 upgraded, 0 newly installed, 0 to remove and 217 not upgraded.
[vosd4][DEBUG ] Need to get 190 kB of archives.
[vosd4][DEBUG ] After this operation, 16.4 kB of additional disk space will be used.
[vosd4][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main ca-certificates all 20160104ubuntu0.14.04.1 [190 kB]
[vosd4][WARNING] perl: warning: Setting locale failed.
[vosd4][WARNING] perl: warning: Please check that your locale settings:
[vosd4][WARNING] 	LANGUAGE = (unset),
[vosd4][WARNING] 	LC_ALL = (unset),
[vosd4][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd4][WARNING] 	LANG = "en_US.UTF-8"
[vosd4][WARNING]     are supported and installed on your system.
[vosd4][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd4][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd4][DEBUG ] Preconfiguring packages ...
[vosd4][DEBUG ] Fetched 190 kB in 1s (183 kB/s)
[vosd4][DEBUG ] (Reading database ... 56688 files and directories currently installed.)
[vosd4][DEBUG ] Preparing to unpack .../ca-certificates_20160104ubuntu0.14.04.1_all.deb ...
[vosd4][DEBUG ] Unpacking ca-certificates (20160104ubuntu0.14.04.1) over (20130906ubuntu2) ...
[vosd4][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vosd4][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd4][DEBUG ] Setting up ca-certificates (20160104ubuntu0.14.04.1) ...
[vosd4][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd4][DEBUG ] Processing triggers for ca-certificates (20160104ubuntu0.14.04.1) ...
[vosd4][DEBUG ] Updating certificates in /etc/ssl/certs... 35 added, 26 removed; done.
[vosd4][DEBUG ] Running hooks in /etc/ca-certificates/update.d....done.
[vosd4][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd4][WARNING] --2016-09-09 11:25:15--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd4][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd4][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd4][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd4][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd4][WARNING] --2016-09-09 11:25:16--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd4][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd4][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd4][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd4][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd4][WARNING] Saving to: 'release.asc'
[vosd4][WARNING] 
[vosd4][WARNING]      0K .                                                     100% 69.3M=0s
[vosd4][WARNING] 
[vosd4][WARNING] 2016-09-09 11:25:17 (69.3 MB/s) - 'release.asc' saved [1645/1645]
[vosd4][WARNING] 
[vosd4][INFO  ] Running command: apt-key add release.asc
[vosd4][DEBUG ] OK
[vosd4][DEBUG ] add deb repo to sources.list
[vosd4][INFO  ] Running command: apt-get -q update
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security InRelease
[vosd4][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates InRelease
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports InRelease
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Sources
[vosd4][DEBUG ] Hit http://ceph.com trusty InRelease
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Sources
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Sources
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/main amd64 Packages
[vosd4][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Sources
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted amd64 Packages
[vosd4][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Sources
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main amd64 Packages
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/main i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main i386 Packages
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vosd4][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vosd4][DEBUG ] Reading package lists...
[vosd4][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd4][DEBUG ] Reading package lists...
[vosd4][DEBUG ] Building dependency tree...
[vosd4][DEBUG ] Reading state information...
[vosd4][DEBUG ] The following extra packages will be installed:
[vosd4][DEBUG ]   librados2 librbd1 python-ceph
[vosd4][DEBUG ] Recommended packages:
[vosd4][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vosd4][DEBUG ] The following NEW packages will be installed:
[vosd4][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds
[vosd4][DEBUG ] The following packages will be upgraded:
[vosd4][DEBUG ]   gdisk librados2 librbd1 python-ceph
[vosd4][DEBUG ] 4 upgraded, 4 newly installed, 0 to remove and 213 not upgraded.
[vosd4][DEBUG ] Need to get 21.1 MB of archives.
[vosd4][DEBUG ] After this operation, 84.1 MB of additional disk space will be used.
[vosd4][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main gdisk amd64 0.8.8-1ubuntu0.1 [185 kB]
[vosd4][DEBUG ] Get:2 http://ceph.com/debian-giant/ trusty/main librbd1 amd64 0.87.2-1trusty [1076 kB]
[vosd4][DEBUG ] Get:3 http://ceph.com/debian-giant/ trusty/main librados2 amd64 0.87.2-1trusty [2254 kB]
[vosd4][DEBUG ] Get:4 http://ceph.com/debian-giant/ trusty/main python-ceph amd64 0.87.2-1trusty [745 kB]
[vosd4][DEBUG ] Get:5 http://ceph.com/debian-giant/ trusty/main ceph-common amd64 0.87.2-1trusty [4907 kB]
[vosd4][DEBUG ] Get:6 http://ceph.com/debian-giant/ trusty/main ceph amd64 0.87.2-1trusty [7766 kB]
[vosd4][DEBUG ] Get:7 http://ceph.com/debian-giant/ trusty/main ceph-fs-common amd64 0.87.2-1trusty [739 kB]
[vosd4][DEBUG ] Get:8 http://ceph.com/debian-giant/ trusty/main ceph-mds amd64 0.87.2-1trusty [3452 kB]
[vosd4][WARNING] perl: warning: Setting locale failed.
[vosd4][WARNING] perl: warning: Please check that your locale settings:
[vosd4][WARNING] 	LANGUAGE = (unset),
[vosd4][WARNING] 	LC_ALL = (unset),
[vosd4][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd4][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd4][WARNING] 	LANG = "en_US.UTF-8"
[vosd4][WARNING]     are supported and installed on your system.
[vosd4][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd4][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd4][DEBUG ] Fetched 21.1 MB in 1min 18s (269 kB/s)
[vosd4][DEBUG ] (Reading database ... 56696 files and directories currently installed.)
[vosd4][DEBUG ] Preparing to unpack .../librbd1_0.87.2-1trusty_amd64.deb ...
[vosd4][DEBUG ] Unpacking librbd1 (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd4][DEBUG ] Preparing to unpack .../librados2_0.87.2-1trusty_amd64.deb ...
[vosd4][DEBUG ] Unpacking librados2 (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd4][DEBUG ] Preparing to unpack .../python-ceph_0.87.2-1trusty_amd64.deb ...
[vosd4][DEBUG ] Unpacking python-ceph (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd4][DEBUG ] Selecting previously unselected package ceph-common.
[vosd4][DEBUG ] Preparing to unpack .../ceph-common_0.87.2-1trusty_amd64.deb ...
[vosd4][DEBUG ] Unpacking ceph-common (0.87.2-1trusty) ...
[vosd4][DEBUG ] Preparing to unpack .../gdisk_0.8.8-1ubuntu0.1_amd64.deb ...
[vosd4][DEBUG ] Unpacking gdisk (0.8.8-1ubuntu0.1) over (0.8.8-1build1) ...
[vosd4][DEBUG ] Selecting previously unselected package ceph.
[vosd4][DEBUG ] Preparing to unpack .../ceph_0.87.2-1trusty_amd64.deb ...
[vosd4][DEBUG ] Unpacking ceph (0.87.2-1trusty) ...
[vosd4][DEBUG ] Selecting previously unselected package ceph-fs-common.
[vosd4][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.2-1trusty_amd64.deb ...
[vosd4][DEBUG ] Unpacking ceph-fs-common (0.87.2-1trusty) ...
[vosd4][DEBUG ] Selecting previously unselected package ceph-mds.
[vosd4][DEBUG ] Preparing to unpack .../ceph-mds_0.87.2-1trusty_amd64.deb ...
[vosd4][DEBUG ] Unpacking ceph-mds (0.87.2-1trusty) ...
[vosd4][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vosd4][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd4][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vosd4][DEBUG ] ureadahead will be reprofiled on next reboot
[vosd4][DEBUG ] Setting up librados2 (0.87.2-1trusty) ...
[vosd4][DEBUG ] Setting up librbd1 (0.87.2-1trusty) ...
[vosd4][DEBUG ] Setting up python-ceph (0.87.2-1trusty) ...
[vosd4][DEBUG ] Setting up ceph-common (0.87.2-1trusty) ...
[vosd4][DEBUG ] Setting up gdisk (0.8.8-1ubuntu0.1) ...
[vosd4][DEBUG ] Setting up ceph-fs-common (0.87.2-1trusty) ...
[vosd4][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vosd4][DEBUG ] Setting up ceph (0.87.2-1trusty) ...
[vosd4][DEBUG ] ceph-all start/running
[vosd4][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vosd4][DEBUG ] Setting up ceph-mds (0.87.2-1trusty) ...
[vosd4][DEBUG ] ceph-mds-all start/running
[vosd4][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vosd4][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vosd4][INFO  ] Running command: ceph --version
[vosd4][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd4:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd4
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][DEBUG ] zeroing last few blocks of device
[vosd4][DEBUG ] find the location of an executable
[vosd4][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd4][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd4][WARNING] backup header from main header.
[vosd4][WARNING] 
[vosd4][WARNING] Warning! Main and backup partition tables differ! Use the 'c' and 'e' options
[vosd4][WARNING] on the recovery & transformation menu to examine the two tables.
[vosd4][WARNING] 
[vosd4][WARNING] Warning! One or more CRCs don't match. You should repair the disk!
[vosd4][WARNING] 
[vosd4][DEBUG ] ****************************************************************************
[vosd4][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd4][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd4][DEBUG ] ****************************************************************************
[vosd4][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd4][DEBUG ] other utilities.
[vosd4][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd4][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd4:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd4:/dev/sdb:
[ceph_deploy][ERROR ] RuntimeError: bootstrap-osd keyring not found; run 'gatherkeys'

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd prepare vosd4:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd4:/dev/sdb:
[ceph_deploy][ERROR ] RuntimeError: bootstrap-osd keyring not found; run 'gatherkeys'

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy disk zap vosd4:/dev/sdb
[ceph_deploy.osd][DEBUG ] zapping /dev/sdb on vosd4
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.osd][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][DEBUG ] zeroing last few blocks of device
[vosd4][DEBUG ] find the location of an executable
[vosd4][INFO  ] Running command: /usr/sbin/ceph-disk zap /dev/sdb
[vosd4][WARNING] Caution: invalid backup GPT header, but valid main header; regenerating
[vosd4][WARNING] backup header from main header.
[vosd4][WARNING] 
[vosd4][DEBUG ] ****************************************************************************
[vosd4][DEBUG ] Caution: Found protective or hybrid MBR and corrupt GPT. Using GPT, but disk
[vosd4][DEBUG ] verification and recovery are STRONGLY recommended.
[vosd4][DEBUG ] ****************************************************************************
[vosd4][DEBUG ] GPT data structures destroyed! You may now partition the disk using fdisk or
[vosd4][DEBUG ] other utilities.
[vosd4][DEBUG ] The operation has completed successfully.
[ceph_deploy.osd][DEBUG ] Calling partprobe on zapped device /dev/sdb
[vosd4][INFO  ] Running command: partprobe /dev/sdb
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy osd create vosd4:/dev/sdb
[ceph_deploy.osd][DEBUG ] Preparing cluster ceph disks vosd4:/dev/sdb:
[ceph_deploy][ERROR ] RuntimeError: bootstrap-osd keyring not found; run 'gatherkeys'

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy --overwrite-conf admin vosd4
[ceph_deploy][ERROR ] RuntimeError: ceph.client.admin.keyring not found

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: frankHPC 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: /bin/ip link show
[vmon1][INFO  ] Running command: /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.141']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.141
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.141']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy --overwrite-conf admin vosd4
[ceph_deploy][ERROR ] RuntimeError: ceph.client.admin.keyring not found

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy forgetkeys
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy --overwrite-conf admin vosd4
[ceph_deploy][ERROR ] RuntimeError: ceph.client.admin.keyring not found

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd4
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd4
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd4 ...
[vosd4][DEBUG ] connected to host: vosd4 
[vosd4][DEBUG ] detect platform information from remote host
[vosd4][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd4][INFO  ] installing ceph on vosd4
[vosd4][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd4][DEBUG ] Reading package lists...
[vosd4][DEBUG ] Building dependency tree...
[vosd4][DEBUG ] Reading state information...
[vosd4][DEBUG ] ca-certificates is already the newest version.
[vosd4][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 213 not upgraded.
[vosd4][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd4][WARNING] --2016-09-09 11:35:49--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd4][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd4][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd4][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd4][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd4][WARNING] --2016-09-09 11:35:50--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd4][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd4][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd4][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd4][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd4][WARNING] Saving to: 'release.asc'
[vosd4][WARNING] 
[vosd4][WARNING]      0K .                                                     100% 44.5M=0s
[vosd4][WARNING] 
[vosd4][WARNING] 2016-09-09 11:35:51 (44.5 MB/s) - 'release.asc' saved [1645/1645]
[vosd4][WARNING] 
[vosd4][INFO  ] Running command: apt-key add release.asc
[vosd4][DEBUG ] OK
[vosd4][DEBUG ] add deb repo to sources.list
[vosd4][INFO  ] Running command: apt-get -q update
[vosd4][DEBUG ] Get:1 http://security.ubuntu.com trusty-security InRelease [65.9 kB]
[vosd4][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vosd4][DEBUG ] Get:2 http://us.archive.ubuntu.com trusty-updates InRelease [65.9 kB]
[vosd4][DEBUG ] Get:3 http://security.ubuntu.com trusty-security/main Sources [120 kB]
[vosd4][DEBUG ] Hit http://ceph.com trusty InRelease
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports InRelease
[vosd4][DEBUG ] Get:4 http://security.ubuntu.com trusty-security/restricted Sources [4064 B]
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vosd4][DEBUG ] Hit http://ceph.com trusty/main amd64 Packages
[vosd4][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/universe Sources [41.4 kB]
[vosd4][DEBUG ] Get:6 http://us.archive.ubuntu.com trusty-updates/main Sources [380 kB]
[vosd4][DEBUG ] Hit http://ceph.com trusty/main i386 Packages
[vosd4][DEBUG ] Get:7 http://security.ubuntu.com trusty-security/multiverse Sources [2760 B]
[vosd4][DEBUG ] Get:8 http://security.ubuntu.com trusty-security/main amd64 Packages [524 kB]
[vosd4][DEBUG ] Get:9 http://us.archive.ubuntu.com trusty-updates/restricted Sources [5360 B]
[vosd4][DEBUG ] Get:10 http://us.archive.ubuntu.com trusty-updates/universe Sources [164 kB]
[vosd4][DEBUG ] Get:11 http://security.ubuntu.com trusty-security/restricted amd64 Packages [13.0 kB]
[vosd4][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/universe amd64 Packages [136 kB]
[vosd4][DEBUG ] Get:13 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [7137 B]
[vosd4][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [4990 B]
[vosd4][DEBUG ] Get:15 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [890 kB]
[vosd4][DEBUG ] Get:16 http://security.ubuntu.com trusty-security/main i386 Packages [487 kB]
[vosd4][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vosd4][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/restricted i386 Packages [12.7 kB]
[vosd4][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/universe i386 Packages [136 kB]
[vosd4][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [15.9 kB]
[vosd4][DEBUG ] Get:20 http://security.ubuntu.com trusty-security/multiverse i386 Packages [5178 B]
[vosd4][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [373 kB]
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/main Translation-en
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/multiverse Translation-en
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/restricted Translation-en
[vosd4][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [14.8 kB]
[vosd4][DEBUG ] Hit http://security.ubuntu.com trusty-security/universe Translation-en
[vosd4][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [852 kB]
[vosd4][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [15.6 kB]
[vosd4][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [375 kB]
[vosd4][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [15.2 kB]
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/main Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/restricted Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-updates/universe Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/main Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/restricted Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty-backports/universe Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vosd4][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vosd4][DEBUG ] Fetched 4725 kB in 16s (294 kB/s)
[vosd4][DEBUG ] Reading package lists...
[vosd4][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd4][DEBUG ] Reading package lists...
[vosd4][DEBUG ] Building dependency tree...
[vosd4][DEBUG ] Reading state information...
[vosd4][DEBUG ] gdisk is already the newest version.
[vosd4][DEBUG ] ceph is already the newest version.
[vosd4][DEBUG ] ceph-common is already the newest version.
[vosd4][DEBUG ] ceph-fs-common is already the newest version.
[vosd4][DEBUG ] ceph-mds is already the newest version.
[vosd4][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 213 not upgraded.
[vosd4][INFO  ] Running command: ceph --version
[vosd4][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy new vmon1
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[vmon1][DEBUG ] connected to host: frankHPC 
[vmon1][INFO  ] Running command: ssh -CT -o BatchMode=yes vmon1
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] find the location of an executable
[vmon1][INFO  ] Running command: /bin/ip link show
[vmon1][INFO  ] Running command: /bin/ip addr show
[vmon1][DEBUG ] IP addresses found: ['172.22.3.141']
[ceph_deploy.new][DEBUG ] Resolving host vmon1
[ceph_deploy.new][DEBUG ] Monitor vmon1 at 172.22.3.141
[ceph_deploy.new][DEBUG ] Monitor initial members are ['vmon1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['172.22.3.141']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd2
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd2
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd2 ...
[vosd2][DEBUG ] connected to host: vosd2 
[vosd2][DEBUG ] detect platform information from remote host
[vosd2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 12.04 precise
[vosd2][INFO  ] installing ceph on vosd2
[vosd2][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd2][DEBUG ] Reading package lists...
[vosd2][DEBUG ] Building dependency tree...
[vosd2][DEBUG ] Reading state information...
[vosd2][DEBUG ] ca-certificates is already the newest version.
[vosd2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 145 not upgraded.
[vosd2][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd2][WARNING] --2016-09-09 16:09:24--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd2][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd2][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd2][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd2][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd2][WARNING] --2016-09-09 16:09:25--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd2][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd2][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd2][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd2][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd2][WARNING] Saving to: `release.asc'
[vosd2][WARNING] 
[vosd2][WARNING]      0K .                                                     100% 49.2M=0s
[vosd2][WARNING] 
[vosd2][WARNING] 2016-09-09 16:09:26 (49.2 MB/s) - `release.asc' saved [1645/1645]
[vosd2][WARNING] 
[vosd2][INFO  ] Running command: apt-key add release.asc
[vosd2][DEBUG ] OK
[vosd2][DEBUG ] add deb repo to sources.list
[vosd2][INFO  ] Running command: apt-get -q update
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise Release.gpg
[vosd2][DEBUG ] Get:1 http://us.archive.ubuntu.com precise-updates Release.gpg [198 B]
[vosd2][DEBUG ] Get:2 http://us.archive.ubuntu.com precise-backports Release.gpg [198 B]
[vosd2][DEBUG ] Get:3 http://ppa.launchpad.net precise Release.gpg [316 B]
[vosd2][DEBUG ] Get:4 http://security.ubuntu.com precise-security Release.gpg [198 B]
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise Release
[vosd2][DEBUG ] Get:5 http://us.archive.ubuntu.com precise-updates Release [55.4 kB]
[vosd2][DEBUG ] Get:6 http://security.ubuntu.com precise-security Release [55.5 kB]
[vosd2][DEBUG ] Get:7 http://ppa.launchpad.net precise Release [12.9 kB]
[vosd2][DEBUG ] Get:8 http://ceph.com precise Release.gpg [819 B]
[vosd2][DEBUG ] Get:9 http://us.archive.ubuntu.com precise-backports Release [55.5 kB]
[vosd2][DEBUG ] Get:10 http://ppa.launchpad.net precise/main amd64 Packages [5502 B]
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Sources
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse amd64 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse i386 Packages
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted TranslationIndex
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe TranslationIndex
[vosd2][DEBUG ] Get:11 http://us.archive.ubuntu.com precise-updates/main Sources [497 kB]
[vosd2][DEBUG ] Get:12 http://security.ubuntu.com precise-security/main Sources [143 kB]
[vosd2][DEBUG ] Get:13 http://ppa.launchpad.net precise/main i386 Packages [5500 B]
[vosd2][DEBUG ] Get:14 http://ceph.com precise Release [5312 B]
[vosd2][DEBUG ] Get:15 http://ppa.launchpad.net precise/main TranslationIndex [202 B]
[vosd2][DEBUG ] Get:16 http://ppa.launchpad.net precise/main Translation-en [4781 B]
[vosd2][DEBUG ] Get:17 http://us.archive.ubuntu.com precise-updates/restricted Sources [8708 B]
[vosd2][DEBUG ] Get:18 http://us.archive.ubuntu.com precise-updates/universe Sources [129 kB]
[vosd2][DEBUG ] Get:19 http://security.ubuntu.com precise-security/restricted Sources [4476 B]
[vosd2][DEBUG ] Get:20 http://security.ubuntu.com precise-security/universe Sources [50.0 kB]
[vosd2][DEBUG ] Get:21 http://us.archive.ubuntu.com precise-updates/multiverse Sources [10.2 kB]
[vosd2][DEBUG ] Get:22 http://us.archive.ubuntu.com precise-updates/main amd64 Packages [1011 kB]
[vosd2][DEBUG ] Get:23 http://ceph.com precise/main amd64 Packages [9929 B]
[vosd2][DEBUG ] Get:24 http://security.ubuntu.com precise-security/multiverse Sources [2731 B]
[vosd2][DEBUG ] Get:25 http://security.ubuntu.com precise-security/main amd64 Packages [632 kB]
[vosd2][DEBUG ] Get:26 http://us.archive.ubuntu.com precise-updates/restricted amd64 Packages [16.2 kB]
[vosd2][DEBUG ] Get:27 http://us.archive.ubuntu.com precise-updates/universe amd64 Packages [279 kB]
[vosd2][DEBUG ] Get:28 http://us.archive.ubuntu.com precise-updates/multiverse amd64 Packages [16.9 kB]
[vosd2][DEBUG ] Get:29 http://us.archive.ubuntu.com precise-updates/main i386 Packages [1077 kB]
[vosd2][DEBUG ] Get:30 http://ceph.com precise/main i386 Packages [6879 B]
[vosd2][DEBUG ] Ign http://ceph.com precise/main TranslationIndex
[vosd2][DEBUG ] Get:31 http://us.archive.ubuntu.com precise-updates/restricted i386 Packages [16.1 kB]
[vosd2][DEBUG ] Get:32 http://us.archive.ubuntu.com precise-updates/universe i386 Packages [288 kB]
[vosd2][DEBUG ] Get:33 http://us.archive.ubuntu.com precise-updates/multiverse i386 Packages [17.1 kB]
[vosd2][DEBUG ] Get:34 http://us.archive.ubuntu.com precise-updates/main TranslationIndex [208 B]
[vosd2][DEBUG ] Get:35 http://us.archive.ubuntu.com precise-updates/multiverse TranslationIndex [202 B]
[vosd2][DEBUG ] Get:36 http://us.archive.ubuntu.com precise-updates/restricted TranslationIndex [202 B]
[vosd2][DEBUG ] Get:37 http://us.archive.ubuntu.com precise-updates/universe TranslationIndex [205 B]
[vosd2][DEBUG ] Get:38 http://us.archive.ubuntu.com precise-backports/main Sources [5922 B]
[vosd2][DEBUG ] Get:39 http://us.archive.ubuntu.com precise-backports/restricted Sources [28 B]
[vosd2][DEBUG ] Get:40 http://us.archive.ubuntu.com precise-backports/universe Sources [44.2 kB]
[vosd2][DEBUG ] Get:41 http://us.archive.ubuntu.com precise-backports/multiverse Sources [5750 B]
[vosd2][DEBUG ] Get:42 http://us.archive.ubuntu.com precise-backports/main amd64 Packages [6477 B]
[vosd2][DEBUG ] Get:43 http://us.archive.ubuntu.com precise-backports/restricted amd64 Packages [28 B]
[vosd2][DEBUG ] Get:44 http://us.archive.ubuntu.com precise-backports/universe amd64 Packages [46.2 kB]
[vosd2][DEBUG ] Get:45 http://us.archive.ubuntu.com precise-backports/multiverse amd64 Packages [5419 B]
[vosd2][DEBUG ] Get:46 http://us.archive.ubuntu.com precise-backports/main i386 Packages [6478 B]
[vosd2][DEBUG ] Get:47 http://us.archive.ubuntu.com precise-backports/restricted i386 Packages [28 B]
[vosd2][DEBUG ] Get:48 http://us.archive.ubuntu.com precise-backports/universe i386 Packages [46.1 kB]
[vosd2][DEBUG ] Get:49 http://us.archive.ubuntu.com precise-backports/multiverse i386 Packages [5413 B]
[vosd2][DEBUG ] Get:50 http://us.archive.ubuntu.com precise-backports/main TranslationIndex [202 B]
[vosd2][DEBUG ] Get:51 http://us.archive.ubuntu.com precise-backports/multiverse TranslationIndex [202 B]
[vosd2][DEBUG ] Get:52 http://us.archive.ubuntu.com precise-backports/restricted TranslationIndex [193 B]
[vosd2][DEBUG ] Get:53 http://us.archive.ubuntu.com precise-backports/universe TranslationIndex [205 B]
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/main Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/multiverse Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/restricted Translation-en
[vosd2][DEBUG ] Hit http://us.archive.ubuntu.com precise/universe Translation-en
[vosd2][DEBUG ] Get:54 http://us.archive.ubuntu.com precise-updates/main Translation-en [421 kB]
[vosd2][DEBUG ] Get:55 http://us.archive.ubuntu.com precise-updates/multiverse Translation-en [9806 B]
[vosd2][DEBUG ] Get:56 http://us.archive.ubuntu.com precise-updates/restricted Translation-en [3869 B]
[vosd2][DEBUG ] Get:57 http://us.archive.ubuntu.com precise-updates/universe Translation-en [167 kB]
[vosd2][DEBUG ] Get:58 http://us.archive.ubuntu.com precise-backports/main Translation-en [5737 B]
[vosd2][DEBUG ] Get:59 http://us.archive.ubuntu.com precise-backports/multiverse Translation-en [4852 B]
[vosd2][DEBUG ] Get:60 http://us.archive.ubuntu.com precise-backports/restricted Translation-en [28 B]
[vosd2][DEBUG ] Get:61 http://us.archive.ubuntu.com precise-backports/universe Translation-en [35.9 kB]
[vosd2][DEBUG ] Get:62 http://security.ubuntu.com precise-security/restricted amd64 Packages [11.6 kB]
[vosd2][DEBUG ] Get:63 http://security.ubuntu.com precise-security/universe amd64 Packages [134 kB]
[vosd2][DEBUG ] Get:64 http://security.ubuntu.com precise-security/multiverse amd64 Packages [3161 B]
[vosd2][DEBUG ] Get:65 http://security.ubuntu.com precise-security/main i386 Packages [698 kB]
[vosd2][DEBUG ] Ign http://ceph.com precise/main Translation-en
[vosd2][DEBUG ] Get:66 http://security.ubuntu.com precise-security/restricted i386 Packages [11.6 kB]
[vosd2][DEBUG ] Get:67 http://security.ubuntu.com precise-security/universe i386 Packages [143 kB]
[vosd2][DEBUG ] Get:68 http://security.ubuntu.com precise-security/multiverse i386 Packages [3335 B]
[vosd2][DEBUG ] Get:69 http://security.ubuntu.com precise-security/main TranslationIndex [208 B]
[vosd2][DEBUG ] Get:70 http://security.ubuntu.com precise-security/multiverse TranslationIndex [199 B]
[vosd2][DEBUG ] Get:71 http://security.ubuntu.com precise-security/restricted TranslationIndex [202 B]
[vosd2][DEBUG ] Get:72 http://security.ubuntu.com precise-security/universe TranslationIndex [205 B]
[vosd2][DEBUG ] Get:73 http://security.ubuntu.com precise-security/main Translation-en [260 kB]
[vosd2][DEBUG ] Get:74 http://security.ubuntu.com precise-security/multiverse Translation-en [1698 B]
[vosd2][DEBUG ] Get:75 http://security.ubuntu.com precise-security/restricted Translation-en [2976 B]
[vosd2][DEBUG ] Get:76 http://security.ubuntu.com precise-security/universe Translation-en [86.0 kB]
[vosd2][DEBUG ] Fetched 6595 kB in 18s (361 kB/s)
[vosd2][DEBUG ] Reading package lists...
[vosd2][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd2][DEBUG ] Reading package lists...
[vosd2][DEBUG ] Building dependency tree...
[vosd2][DEBUG ] Reading state information...
[vosd2][DEBUG ] The following extra packages will be installed:
[vosd2][DEBUG ]   librados2 librbd1 python-ceph
[vosd2][DEBUG ] Recommended packages:
[vosd2][DEBUG ]   btrfs-tools libradosstriper1
[vosd2][DEBUG ] The following packages will be upgraded:
[vosd2][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vosd2][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 182 not upgraded.
[vosd2][DEBUG ] Need to get 31.8 MB of archives.
[vosd2][DEBUG ] After this operation, 68.6 kB of additional disk space will be used.
[vosd2][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ precise-updates/universe gdisk amd64 0.8.1-1ubuntu0.1 [299 kB]
[vosd2][DEBUG ] Get:2 http://ceph.com/debian-giant/ precise/main ceph-common amd64 0.87.2-1precise [7467 kB]
[vosd2][DEBUG ] Get:3 http://ceph.com/debian-giant/ precise/main librbd1 amd64 0.87.2-1precise [1142 kB]
[vosd2][DEBUG ] Get:4 http://ceph.com/debian-giant/ precise/main librados2 amd64 0.87.2-1precise [2635 kB]
[vosd2][DEBUG ] Get:5 http://ceph.com/debian-giant/ precise/main ceph-mds amd64 0.87.2-1precise [5368 kB]
[vosd2][DEBUG ] Get:6 http://ceph.com/debian-giant/ precise/main ceph amd64 0.87.2-1precise [13.4 MB]
[vosd2][DEBUG ] Get:7 http://ceph.com/debian-giant/ precise/main python-ceph amd64 0.87.2-1precise [749 kB]
[vosd2][DEBUG ] Get:8 http://ceph.com/debian-giant/ precise/main ceph-fs-common amd64 0.87.2-1precise [743 kB]
[vosd2][WARNING] perl: warning: Setting locale failed.
[vosd2][WARNING] perl: warning: Please check that your locale settings:
[vosd2][WARNING] 	LANGUAGE = (unset),
[vosd2][WARNING] 	LC_ALL = (unset),
[vosd2][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd2][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd2][WARNING] 	LANG = "en_US.UTF-8"
[vosd2][WARNING]     are supported and installed on your system.
[vosd2][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd2][DEBUG ] Fetched 31.8 MB in 3min 9s (168 kB/s)
[vosd2][DEBUG ] (Reading database ... 55149 files and directories currently installed.)
[vosd2][DEBUG ] Preparing to replace ceph-common 0.87-1precise (using .../ceph-common_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph-common ...
[vosd2][DEBUG ] Preparing to replace librbd1 0.87-1precise (using .../librbd1_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement librbd1 ...
[vosd2][DEBUG ] Preparing to replace librados2 0.87-1precise (using .../librados2_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement librados2 ...
[vosd2][DEBUG ] Preparing to replace ceph-mds 0.87-1precise (using .../ceph-mds_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph-mds ...
[vosd2][DEBUG ] Preparing to replace ceph 0.87-1precise (using .../ceph_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph ...
[vosd2][DEBUG ] Preparing to replace python-ceph 0.87-1precise (using .../python-ceph_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement python-ceph ...
[vosd2][DEBUG ] Preparing to replace gdisk 0.8.1-1build1 (using .../gdisk_0.8.1-1ubuntu0.1_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement gdisk ...
[vosd2][DEBUG ] Preparing to replace ceph-fs-common 0.87-1precise (using .../ceph-fs-common_0.87.2-1precise_amd64.deb) ...
[vosd2][DEBUG ] Unpacking replacement ceph-fs-common ...
[vosd2][DEBUG ] Processing triggers for man-db ...
[vosd2][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd2][DEBUG ] Processing triggers for ureadahead ...
[vosd2][DEBUG ] Setting up librados2 (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up librbd1 (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up python-ceph (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up ceph-common (0.87.2-1precise) ...
[vosd2][DEBUG ] Setting up gdisk (0.8.1-1ubuntu0.1) ...
[vosd2][DEBUG ] Setting up ceph (0.87.2-1precise) ...
[vosd2][WARNING] start: Job is already running: ceph-all
[vosd2][DEBUG ] Setting up ceph-mds (0.87.2-1precise) ...
[vosd2][WARNING] start: Job is already running: ceph-mds-all
[vosd2][DEBUG ] Setting up ceph-fs-common (0.87.2-1precise) ...
[vosd2][DEBUG ] Processing triggers for libc-bin ...
[vosd2][DEBUG ] ldconfig deferred processing now taking place
[vosd2][INFO  ] Running command: ceph --version
[vosd2][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy install vosd3
[ceph_deploy.install][DEBUG ] Installing stable version giant on cluster ceph hosts vosd3
[ceph_deploy.install][DEBUG ] Detecting platform for host vosd3 ...
[vosd3][DEBUG ] connected to host: vosd3 
[vosd3][DEBUG ] detect platform information from remote host
[vosd3][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 14.04 trusty
[vosd3][INFO  ] installing ceph on vosd3
[vosd3][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive apt-get -q install --assume-yes ca-certificates
[vosd3][DEBUG ] Reading package lists...
[vosd3][DEBUG ] Building dependency tree...
[vosd3][DEBUG ] Reading state information...
[vosd3][DEBUG ] ca-certificates is already the newest version.
[vosd3][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 102 not upgraded.
[vosd3][INFO  ] Running command: wget -O release.asc https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd3][WARNING] --2016-09-09 16:13:32--  https://ceph.com/git/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd3][WARNING] Resolving ceph.com (ceph.com)... 173.236.248.54, 2607:f298:6050:51f3:f816:3eff:fe62:31d3
[vosd3][WARNING] Connecting to ceph.com (ceph.com)|173.236.248.54|:443... connected.
[vosd3][WARNING] HTTP request sent, awaiting response... 301 Moved Permanently
[vosd3][WARNING] Location: https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc [following]
[vosd3][WARNING] --2016-09-09 16:13:33--  https://git.ceph.com/?p=ceph.git;a=blob_plain;f=keys/release.asc
[vosd3][WARNING] Resolving git.ceph.com (git.ceph.com)... 8.43.84.132
[vosd3][WARNING] Connecting to git.ceph.com (git.ceph.com)|8.43.84.132|:443... connected.
[vosd3][WARNING] HTTP request sent, awaiting response... 200 OK
[vosd3][WARNING] Length: 1645 (1.6K) [text/plain]
[vosd3][WARNING] Saving to: 'release.asc'
[vosd3][WARNING] 
[vosd3][WARNING]      0K .                                                     100% 24.1M=0s
[vosd3][WARNING] 
[vosd3][WARNING] 2016-09-09 16:13:34 (24.1 MB/s) - 'release.asc' saved [1645/1645]
[vosd3][WARNING] 
[vosd3][INFO  ] Running command: apt-key add release.asc
[vosd3][DEBUG ] OK
[vosd3][DEBUG ] add deb repo to sources.list
[vosd3][INFO  ] Running command: apt-get -q update
[vosd3][DEBUG ] Ign http://us.archive.ubuntu.com trusty InRelease
[vosd3][DEBUG ] Get:1 http://us.archive.ubuntu.com trusty-updates InRelease [65.9 kB]
[vosd3][DEBUG ] Get:2 http://security.ubuntu.com trusty-security InRelease [65.9 kB]
[vosd3][DEBUG ] Get:3 http://ceph.com trusty InRelease [6150 B]
[vosd3][DEBUG ] Get:4 http://us.archive.ubuntu.com trusty-backports InRelease [65.9 kB]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release.gpg
[vosd3][DEBUG ] Get:5 http://security.ubuntu.com trusty-security/main Sources [120 kB]
[vosd3][DEBUG ] Get:6 http://ceph.com trusty/main amd64 Packages [6932 B]
[vosd3][DEBUG ] Get:7 http://us.archive.ubuntu.com trusty-updates/main Sources [380 kB]
[vosd3][DEBUG ] Get:8 http://ceph.com trusty/main i386 Packages [771 B]
[vosd3][DEBUG ] Get:9 http://us.archive.ubuntu.com trusty-updates/restricted Sources [5360 B]
[vosd3][DEBUG ] Get:10 http://us.archive.ubuntu.com trusty-updates/universe Sources [164 kB]
[vosd3][DEBUG ] Get:11 http://us.archive.ubuntu.com trusty-updates/multiverse Sources [7137 B]
[vosd3][DEBUG ] Get:12 http://security.ubuntu.com trusty-security/restricted Sources [4064 B]
[vosd3][DEBUG ] Get:13 http://us.archive.ubuntu.com trusty-updates/main amd64 Packages [889 kB]
[vosd3][DEBUG ] Get:14 http://security.ubuntu.com trusty-security/universe Sources [41.4 kB]
[vosd3][DEBUG ] Ign http://ceph.com trusty/main Translation-en
[vosd3][DEBUG ] Get:15 http://us.archive.ubuntu.com trusty-updates/restricted amd64 Packages [15.9 kB]
[vosd3][DEBUG ] Get:16 http://us.archive.ubuntu.com trusty-updates/universe amd64 Packages [373 kB]
[vosd3][DEBUG ] Get:17 http://security.ubuntu.com trusty-security/multiverse Sources [2760 B]
[vosd3][DEBUG ] Get:18 http://security.ubuntu.com trusty-security/main amd64 Packages [524 kB]
[vosd3][DEBUG ] Get:19 http://us.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [14.8 kB]
[vosd3][DEBUG ] Get:20 http://us.archive.ubuntu.com trusty-updates/main i386 Packages [852 kB]
[vosd3][DEBUG ] Get:21 http://us.archive.ubuntu.com trusty-updates/restricted i386 Packages [15.6 kB]
[vosd3][DEBUG ] Get:22 http://us.archive.ubuntu.com trusty-updates/universe i386 Packages [375 kB]
[vosd3][DEBUG ] Get:23 http://us.archive.ubuntu.com trusty-updates/multiverse i386 Packages [15.2 kB]
[vosd3][DEBUG ] Get:24 http://us.archive.ubuntu.com trusty-updates/main Translation-en [431 kB]
[vosd3][DEBUG ] Get:25 http://us.archive.ubuntu.com trusty-updates/multiverse Translation-en [7661 B]
[vosd3][DEBUG ] Get:26 http://us.archive.ubuntu.com trusty-updates/restricted Translation-en [3699 B]
[vosd3][DEBUG ] Get:27 http://us.archive.ubuntu.com trusty-updates/universe Translation-en [197 kB]
[vosd3][DEBUG ] Get:28 http://us.archive.ubuntu.com trusty-backports/main Sources [9592 B]
[vosd3][DEBUG ] Get:29 http://us.archive.ubuntu.com trusty-backports/restricted Sources [28 B]
[vosd3][DEBUG ] Get:30 http://us.archive.ubuntu.com trusty-backports/universe Sources [35.2 kB]
[vosd3][DEBUG ] Get:31 http://us.archive.ubuntu.com trusty-backports/multiverse Sources [1898 B]
[vosd3][DEBUG ] Get:32 http://us.archive.ubuntu.com trusty-backports/main amd64 Packages [13.3 kB]
[vosd3][DEBUG ] Get:33 http://us.archive.ubuntu.com trusty-backports/restricted amd64 Packages [28 B]
[vosd3][DEBUG ] Get:34 http://us.archive.ubuntu.com trusty-backports/universe amd64 Packages [43.2 kB]
[vosd3][DEBUG ] Get:35 http://us.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1571 B]
[vosd3][DEBUG ] Get:36 http://us.archive.ubuntu.com trusty-backports/main i386 Packages [13.3 kB]
[vosd3][DEBUG ] Get:37 http://us.archive.ubuntu.com trusty-backports/restricted i386 Packages [28 B]
[vosd3][DEBUG ] Get:38 http://us.archive.ubuntu.com trusty-backports/universe i386 Packages [43.2 kB]
[vosd3][DEBUG ] Get:39 http://us.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1552 B]
[vosd3][DEBUG ] Get:40 http://security.ubuntu.com trusty-security/restricted amd64 Packages [13.0 kB]
[vosd3][DEBUG ] Get:41 http://us.archive.ubuntu.com trusty-backports/main Translation-en [7493 B]
[vosd3][DEBUG ] Get:42 http://security.ubuntu.com trusty-security/universe amd64 Packages [136 kB]
[vosd3][DEBUG ] Get:43 http://us.archive.ubuntu.com trusty-backports/multiverse Translation-en [1215 B]
[vosd3][DEBUG ] Get:44 http://us.archive.ubuntu.com trusty-backports/restricted Translation-en [28 B]
[vosd3][DEBUG ] Get:45 http://us.archive.ubuntu.com trusty-backports/universe Translation-en [36.8 kB]
[vosd3][DEBUG ] Get:46 http://security.ubuntu.com trusty-security/multiverse amd64 Packages [4990 B]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty Release
[vosd3][DEBUG ] Get:47 http://security.ubuntu.com trusty-security/main i386 Packages [487 kB]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Sources
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe amd64 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse amd64 Packages
[vosd3][DEBUG ] Get:48 http://security.ubuntu.com trusty-security/restricted i386 Packages [12.7 kB]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main i386 Packages
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted i386 Packages
[vosd3][DEBUG ] Get:49 http://security.ubuntu.com trusty-security/universe i386 Packages [136 kB]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe i386 Packages
[vosd3][DEBUG ] Get:50 http://security.ubuntu.com trusty-security/multiverse i386 Packages [5178 B]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse i386 Packages
[vosd3][DEBUG ] Get:51 http://security.ubuntu.com trusty-security/main Translation-en [288 kB]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/main Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/multiverse Translation-en
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/restricted Translation-en
[vosd3][DEBUG ] Get:52 http://security.ubuntu.com trusty-security/multiverse Translation-en [2570 B]
[vosd3][DEBUG ] Hit http://us.archive.ubuntu.com trusty/universe Translation-en
[vosd3][DEBUG ] Get:53 http://security.ubuntu.com trusty-security/restricted Translation-en [3206 B]
[vosd3][DEBUG ] Get:54 http://security.ubuntu.com trusty-security/universe Translation-en [81.3 kB]
[vosd3][DEBUG ] Fetched 6028 kB in 17s (345 kB/s)
[vosd3][DEBUG ] Reading package lists...
[vosd3][INFO  ] Running command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get -q -o Dpkg::Options::=--force-confnew --no-install-recommends --assume-yes install -- ceph ceph-mds ceph-common ceph-fs-common gdisk
[vosd3][DEBUG ] Reading package lists...
[vosd3][DEBUG ] Building dependency tree...
[vosd3][DEBUG ] Reading state information...
[vosd3][DEBUG ] The following extra packages will be installed:
[vosd3][DEBUG ]   librados2 librbd1 python-ceph
[vosd3][DEBUG ] Recommended packages:
[vosd3][DEBUG ]   btrfs-tools libradosstriper1 ceph-fuse
[vosd3][DEBUG ] The following packages will be upgraded:
[vosd3][DEBUG ]   ceph ceph-common ceph-fs-common ceph-mds gdisk librados2 librbd1 python-ceph
[vosd3][DEBUG ] 8 upgraded, 0 newly installed, 0 to remove and 214 not upgraded.
[vosd3][DEBUG ] Need to get 21.1 MB of archives.
[vosd3][DEBUG ] After this operation, 35.8 kB of additional disk space will be used.
[vosd3][DEBUG ] Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty-updates/main gdisk amd64 0.8.8-1ubuntu0.1 [185 kB]
[vosd3][DEBUG ] Get:2 http://ceph.com/debian-giant/ trusty/main ceph-common amd64 0.87.2-1trusty [4907 kB]
[vosd3][DEBUG ] Get:3 http://ceph.com/debian-giant/ trusty/main librbd1 amd64 0.87.2-1trusty [1076 kB]
[vosd3][DEBUG ] Get:4 http://ceph.com/debian-giant/ trusty/main librados2 amd64 0.87.2-1trusty [2254 kB]
[vosd3][DEBUG ] Get:5 http://ceph.com/debian-giant/ trusty/main ceph-mds amd64 0.87.2-1trusty [3452 kB]
[vosd3][DEBUG ] Get:6 http://ceph.com/debian-giant/ trusty/main ceph amd64 0.87.2-1trusty [7766 kB]
[vosd3][DEBUG ] Get:7 http://ceph.com/debian-giant/ trusty/main python-ceph amd64 0.87.2-1trusty [745 kB]
[vosd3][DEBUG ] Get:8 http://ceph.com/debian-giant/ trusty/main ceph-fs-common amd64 0.87.2-1trusty [739 kB]
[vosd3][WARNING] perl: warning: Setting locale failed.
[vosd3][WARNING] perl: warning: Please check that your locale settings:
[vosd3][WARNING] 	LANGUAGE = (unset),
[vosd3][WARNING] 	LC_ALL = (unset),
[vosd3][WARNING] 	LC_TIME = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_MONETARY = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_ADDRESS = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_TELEPHONE = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_NAME = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_MEASUREMENT = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_IDENTIFICATION = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_NUMERIC = "zh_HK.UTF-8",
[vosd3][WARNING] 	LC_PAPER = "zh_HK.UTF-8",
[vosd3][WARNING] 	LANG = "en_US.UTF-8"
[vosd3][WARNING]     are supported and installed on your system.
[vosd3][WARNING] perl: warning: Falling back to the standard locale ("C").
[vosd3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd3][DEBUG ] Fetched 21.1 MB in 3min 40s (95.9 kB/s)
[vosd3][DEBUG ] (Reading database ... 56898 files and directories currently installed.)
[vosd3][DEBUG ] Preparing to unpack .../ceph-common_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph-common (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../librbd1_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking librbd1 (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../librados2_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking librados2 (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../ceph-mds_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph-mds (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../ceph_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../python-ceph_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking python-ceph (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Preparing to unpack .../gdisk_0.8.8-1ubuntu0.1_amd64.deb ...
[vosd3][DEBUG ] Unpacking gdisk (0.8.8-1ubuntu0.1) over (0.8.8-1build1) ...
[vosd3][DEBUG ] Preparing to unpack .../ceph-fs-common_0.87.2-1trusty_amd64.deb ...
[vosd3][DEBUG ] Unpacking ceph-fs-common (0.87.2-1trusty) over (0.87-1trusty) ...
[vosd3][DEBUG ] Processing triggers for ureadahead (0.100.0-16) ...
[vosd3][DEBUG ] ureadahead will be reprofiled on next reboot
[vosd3][DEBUG ] Processing triggers for man-db (2.6.7.1-1) ...
[vosd3][WARNING] locale: Cannot set LC_ALL to default locale: No such file or directory
[vosd3][DEBUG ] Setting up librados2 (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up librbd1 (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up python-ceph (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up ceph-common (0.87.2-1trusty) ...
[vosd3][DEBUG ] Setting up gdisk (0.8.8-1ubuntu0.1) ...
[vosd3][DEBUG ] Setting up ceph (0.87.2-1trusty) ...
[vosd3][WARNING] start: Job is already running: ceph-all
[vosd3][DEBUG ] Setting up ceph-mds (0.87.2-1trusty) ...
[vosd3][WARNING] start: Job is already running: ceph-mds-all
[vosd3][DEBUG ] Setting up ceph-fs-common (0.87.2-1trusty) ...
[vosd3][DEBUG ] Processing triggers for libc-bin (2.19-0ubuntu6) ...
[vosd3][INFO  ] Running command: ceph --version
[vosd3][DEBUG ] ceph version 0.87.2 (87a7cec9ab11c677de2ab23a7668a77d2f5b955e)
[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy gatherkeys monitor
[ceph_deploy.gatherkeys][DEBUG ] Checking monitor for /etc/ceph/ceph.client.admin.keyring
[ceph_deploy][ERROR ] RuntimeError: connecting to host: monitor resulted in errors: HostNotFound monitor

[ceph_deploy.conf][DEBUG ] found configuration file at: /root/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.21): /usr/bin/ceph-deploy gatherkeys vmon1
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /etc/ceph/ceph.client.admin.keyring
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.client.admin.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Have ceph.mon.keyring
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-osd/ceph.keyring
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-osd.keyring key from vmon1.
[ceph_deploy.gatherkeys][DEBUG ] Checking vmon1 for /var/lib/ceph/bootstrap-mds/ceph.keyring
[vmon1][DEBUG ] connected to host: vmon1 
[vmon1][DEBUG ] detect platform information from remote host
[vmon1][DEBUG ] detect machine type
[vmon1][DEBUG ] fetch remote file
[ceph_deploy.gatherkeys][DEBUG ] Got ceph.bootstrap-mds.keyring key from vmon1.
